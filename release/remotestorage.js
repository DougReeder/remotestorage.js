/*! remotestorage.js 2.0.0-alpha.5, https://remotestorage.io, MIT licensed */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("RemoteStorage",[],t):"object"==typeof exports?exports.RemoteStorage=t():e.RemoteStorage=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=17)}([function(e,t,r){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.applyMixins=t.toBase64=t.getTextFromArrayBuffer=t.shouldBeTreatedAsBinary=t.getJSONFromLocalStorage=t.localStorageAvailable=t.pathsFromRoot=t.deepClone=t.equal=t.bindAll=t.cleanPath=t.baseName=t.isDocument=t.isFolder=t.containingFolder=t.extend=t.getGlobalContext=t.globalContext=t.logError=void 0,t.logError=e=>{"string"==typeof e?console.error(e):console.error(e.message,e.stack)},t.globalContext="undefined"!=typeof window?window:"object"==typeof self?self:e,t.getGlobalContext=()=>"undefined"!=typeof window?window:"object"==typeof self?self:e,t.extend=(...e)=>{const t=e[0];return Array.prototype.slice.call(e,1).forEach((function(e){for(const r in e)t[r]=e[r]})),t},t.containingFolder=e=>{if(""===e)return"/";if(!e)throw"Path not given!";return e.replace(/\/+/g,"/").replace(/[^\/]+\/?$/,"")},t.isFolder=e=>"/"===e.substr(-1),t.isDocument=e=>!t.isFolder(e),t.baseName=e=>{const r=e.split("/");return t.isFolder(e)?r[r.length-2]+"/":r[r.length-1]},t.cleanPath=e=>e.replace(/\/+/g,"/").split("/").map(encodeURIComponent).join("/").replace(/'/g,"%27"),t.bindAll=e=>{for(const t in this)"function"==typeof e[t]&&(e[t]=e[t].bind(e))},t.equal=(e,r,n=[])=>{let o;if(typeof e!=typeof r)return!1;if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return e===r;if("function"==typeof e)return e.toString()===r.toString();if(e instanceof ArrayBuffer&&r instanceof ArrayBuffer&&(e=new Uint8Array(e),r=new Uint8Array(r)),e instanceof Array){if(e.length!==r.length)return!1;for(let o=0,i=e.length;o<i;o++)if(!t.equal(e[o],r[o],n))return!1}else{for(o in e)if(e.hasOwnProperty(o)&&!(o in r))return!1;for(o in r){if(!r.hasOwnProperty(o))continue;if(!(o in e))return!1;let i;if("object"==typeof r[o]){if(n.indexOf(r[o])>=0)continue;i=n.slice(),i.push(r[o])}if(!t.equal(e[o],r[o],i))return!1}}return!0},t.deepClone=e=>{if(void 0!==e){const t=JSON.parse(JSON.stringify(e));return function e(t,r){if("object"==typeof t&&!Array.isArray(t)&&null!==t)for(const n in t)if("object"==typeof t[n]&&null!==t[n])if("[object ArrayBuffer]"===t[n].toString()){r[n]=new ArrayBuffer(t[n].byteLength);const e=new Int8Array(t[n]);new Int8Array(r[n]).set(e)}else e(t[n],r[n])}(e,t),t}},t.pathsFromRoot=e=>{const t=[e],r=e.replace(/\/$/,"").split("/");for(;r.length>1;)r.pop(),t.push(r.join("/")+"/");return t},t.localStorageAvailable=()=>{const e=t.getGlobalContext();if(!("localStorage"in e))return!1;try{return e.localStorage.setItem("rs-check","1"),e.localStorage.removeItem("rs-check"),!0}catch(e){return!1}},t.getJSONFromLocalStorage=e=>{const r=t.getGlobalContext();try{return JSON.parse(r.localStorage.getItem(e))}catch(e){}},t.shouldBeTreatedAsBinary=(e,t)=>!!(t&&t.match(/charset=binary/)||/[\x00-\x08\x0E-\x1F\uFFFD]/.test(e)),t.getTextFromArrayBuffer=(e,n)=>new Promise(o=>{if("undefined"==typeof Blob){const t=new r(new Uint8Array(e));o(t.toString(n))}else{let r;const i=t.globalContext;if(i.BlobBuilder=i.BlobBuilder||i.WebKitBlobBuilder,void 0!==i.BlobBuilder){const t=new i.BlobBuilder;t.append(e),r=t.getBlob()}else r=new Blob([e]);const s=new FileReader;"function"==typeof s.addEventListener?s.addEventListener("loadend",(function(e){o(e.target.result)})):s.onloadend=function(e){o(e.target.result)},s.readAsText(r,n)}}),t.toBase64=e=>{const n=t.getGlobalContext();return"btoa"in n?n.btoa(e):r.from(e).toString("base64")},t.applyMixins=function(e,t){t.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(r=>{Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r))})})}}).call(this,r(5),r(19).Buffer)},function(e,t,r){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(r(3));e.exports=function(...e){n.default.logging&&console.log(...e)}},function(e,t,r){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(r(1));e.exports=class{addEvents(e){e.forEach(e=>this._addEvent(e))}addEventListener(e,t){if("string"!=typeof e)throw new Error("Argument eventName should be a string");if("function"!=typeof t)throw new Error("Argument handler should be a function");n.default("[EventHandling] Adding event listener",e),this._validateEvent(e),this._handlers[e].push(t)}on(e,t){return this.addEventListener(e,t)}removeEventListener(e,t){this._validateEvent(e);const r=this._handlers[e].length;for(let n=0;n<r;n++)if(this._handlers[e][n]===t)return void this._handlers[e].splice(n,1)}_emit(e,...t){this._validateEvent(e),this._handlers[e].slice().forEach(e=>{e.apply(this,t)})}_validateEvent(e){if(!(e in this._handlers))throw new Error("Unknown event: "+e)}_delegateEvent(e,t){t.on(e,t=>{this._emit(e,t)})}_addEvent(e){void 0===this._handlers&&(this._handlers={}),this._handlers[e]=[]}}},function(e,t,r){"use strict";const n={cache:!0,changeEvents:{local:!0,window:!1,remote:!0,conflict:!0},cordovaRedirectUri:void 0,logging:!1,modules:[],backgroundSyncInterval:6e4,disableFeatures:[],discoveryTimeout:1e4,isBackground:!1,requestTimeout:3e4,syncInterval:1e4};e.exports=n},function(e,t,r){"use strict";class n extends Error{constructor(e,t={}){super(),this.name="Unauthorized",this.message=void 0===e?"App authorization expired or revoked.":e,void 0!==t.code&&(this.code=t.code),this.stack=(new Error).stack}}e.exports=n},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=n(r(1)),i=r(0),s=n(r(4));let a;function u(e){const t=e||c.getLocation().href,r=t.indexOf("#");if(-1===r)return;const n=t.substring(r+1);return n.includes("=")?n.split("&").reduce((function(e,t){const r=t.split("=");if("state"===r[0]&&r[1].match(/rsDiscovery/)){let t=decodeURIComponent(r[1]);const n=t.substr(t.indexOf("rsDiscovery=")).split("&")[0].split("=")[1];e.rsDiscovery=JSON.parse(atob(n)),t=t.replace(new RegExp("&?rsDiscovery="+n),""),t.length>0&&(e.state=t)}else e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]);return e}),{}):void 0}class c{static authorize(e,{authURL:t,scope:r,redirectUri:n,clientId:s}){if(o.default("[Authorize] authURL = ",t,"scope = ",r,"redirectUri = ",n,"clientId = ",s),!i.localStorageAvailable()&&"remotestorage"===e.backend){n+=n.indexOf("#")>0?"&":"#";const t={userAddress:e.remote.userAddress,href:e.remote.href,storageApi:e.remote.storageApi,properties:e.remote.properties};n+="rsDiscovery="+i.toBase64(JSON.stringify(t))}const a=function(e,t,r,n){const o=t.indexOf("#");let i=e;return i+=e.indexOf("?")>0?"&":"?",i+="redirect_uri="+encodeURIComponent(t.replace(/#.*$/,"")),i+="&scope="+encodeURIComponent(r),i+="&client_id="+encodeURIComponent(n),-1!==o&&o+1!==t.length&&(i+="&state="+encodeURIComponent(t.substring(o+1))),i+="&response_type=token",i}(t,n,r,s);i.globalContext.cordova?c.openWindow(a,n,"location=yes,clearsessioncache=yes,clearcache=yes").then(t=>{e.remote.configure({token:t.access_token})}):c.setLocation(a)}static setLocation(e){if("string"==typeof e)document.location.href=e;else{if("object"!=typeof e)throw"Invalid location "+e;document.location=e}}static _rs_supported(){return"undefined"!=typeof document}static _rs_cleanup(e){e.removeEventListener("features-loaded",a)}}c.IMPLIED_FAKE_TOKEN=!1,c.getLocation=function(){return document.location},c.openWindow=function(e,t,r){return new Promise((n,o)=>{const i=open(e,"_blank",r);if(!i||i.closed)return o("Authorization popup was blocked");function s(){return o("Authorization was canceled")}i.addEventListener("loadstart",(function(e){if(0!==e.url.indexOf(t))return;i.removeEventListener("exit",s),i.close();const r=u(e.url);return r?n(r):o("Authorization error")})),i.addEventListener("exit",s)})},c._rs_init=function(e){const t=u();let r;t&&(r=c.getLocation(),r.hash=""),a=function(){let n=!1;if(t){if(t.error)throw"access_denied"===t.error?new s.default("Authorization failed: access denied",{code:"access_denied"}):new s.default("Authorization failed: "+t.error);t.rsDiscovery&&e.remote.configure(t.rsDiscovery),t.access_token&&(e.remote.configure({token:t.access_token}),n=!0),t.remotestorage&&(e.connect(t.remotestorage),n=!0),t.state&&(r=c.getLocation(),c.setLocation(r.href.split("#")[0]+"#"+t.state)),n||e.remote.stopWaitingForToken()}else e.remote.stopWaitingForToken()},e.on("features-loaded",a)},e.exports=c},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=n(r(23)),i=n(r(24)),s=n(r(25)),a=n(r(2)),u=n(r(3)),c=r(0);class h{constructor(e,t){if(this.schemas={configurable:!0,get:function(){return h.Types.inScope(this.moduleName)}},"/"!==t[t.length-1])throw"Not a folder: "+t;"/"===t&&(this.makePath=e=>("/"===e[0]?"":"/")+e),this.storage=e,this.base=t;const r=this.base.split("/");r.length>2?this.moduleName=r[1]:this.moduleName="root",this.addEvents(["change"]),this.on=this.on.bind(this),e.onChange(this.base,this._fireChange.bind(this))}scope(e){return new h(this.storage,this.makePath(e))}getListing(e,t){if("string"!=typeof e)e="";else if(e.length>0&&"/"!==e[e.length-1])return Promise.reject("Not a folder: "+e);return this.storage.get(this.makePath(e),t).then((function(e){return 404===e.statusCode?{}:e.body}))}getAll(e,t){if("string"!=typeof e)e="";else if(e.length>0&&"/"!==e[e.length-1])return Promise.reject("Not a folder: "+e);return this.storage.get(this.makePath(e),t).then(r=>{if(404===r.statusCode)return{};if("object"==typeof r.body){const n=Object.keys(r.body);if(0===n.length)return{};const o=n.map(n=>this.storage.get(this.makePath(e+n),t).then((function(e){if("string"==typeof e.body)try{e.body=JSON.parse(e.body)}catch(e){}"object"==typeof e.body&&(r.body[n]=e.body)})));return Promise.all(o).then((function(){return r.body}))}})}getFile(e,t){return"string"!=typeof e?Promise.reject("Argument 'path' of baseClient.getFile must be a string"):this.storage.get(this.makePath(e),t).then((function(e){return{data:e.body,contentType:e.contentType,revision:e.revision}}))}storeFile(e,t,r){return"string"!=typeof e?Promise.reject("Argument 'mimeType' of baseClient.storeFile must be a string"):"string"!=typeof t?Promise.reject("Argument 'path' of baseClient.storeFile must be a string"):"string"!=typeof r&&"object"!=typeof r?Promise.reject("Argument 'body' of baseClient.storeFile must be a string, ArrayBuffer, or ArrayBufferView"):(this.storage.access.checkPathPermission(this.makePath(t),"rw")||console.warn("WARNING: Editing a document to which only read access ('r') was claimed"),this.storage.put(this.makePath(t),r,e).then(e=>200===e.statusCode||201===e.statusCode?e.revision:Promise.reject("Request (PUT "+this.makePath(t)+") failed with status: "+e.statusCode)))}getObject(e,t){return"string"!=typeof e?Promise.reject("Argument 'path' of baseClient.getObject must be a string"):this.storage.get(this.makePath(e),t).then(t=>{if("object"==typeof t.body)return t.body;if("string"==typeof t.body)try{return JSON.parse(t.body)}catch(t){throw"Not valid JSON: "+this.makePath(e)}else if(void 0!==t.body&&200===t.statusCode)return Promise.reject("Not an object: "+this.makePath(e))})}storeObject(e,t,r){if("string"!=typeof e)return Promise.reject("Argument 'typeAlias' of baseClient.storeObject must be a string");if("string"!=typeof t)return Promise.reject("Argument 'path' of baseClient.storeObject must be a string");if("object"!=typeof r)return Promise.reject("Argument 'object' of baseClient.storeObject must be an object");this._attachType(r,e);try{const e=this.validate(r);if(!e.valid)return Promise.reject(e)}catch(e){return Promise.reject(e)}return this.storage.put(this.makePath(t),JSON.stringify(r),"application/json; charset=UTF-8").then(e=>200===e.statusCode||201===e.statusCode?e.revision:Promise.reject("Request (PUT "+this.makePath(t)+") failed with status: "+e.statusCode))}remove(e){return"string"!=typeof e?Promise.reject("Argument 'path' of baseClient.remove must be a string"):(this.storage.access.checkPathPermission(this.makePath(e),"rw")||console.warn("WARNING: Removing a document to which only read access ('r') was claimed"),this.storage.delete(this.makePath(e)))}getItemURL(e){if("string"!=typeof e)throw"Argument 'path' of baseClient.getItemURL must be a string";return this.storage.connected?(e=c.cleanPath(this.makePath(e)),this.storage.remote.href+e):void 0}cache(e,t="ALL"){if("string"!=typeof e)throw"Argument 'path' of baseClient.cache must be a string";if("string"!=typeof t)throw"Argument 'strategy' of baseClient.cache must be a string or undefined";if("FLUSH"!==t&&"SEEN"!==t&&"ALL"!==t)throw'Argument \'strategy\' of baseclient.cache must be one of ["FLUSH", "SEEN", "ALL"]';return this.storage.caching.set(this.makePath(e),t),this}flush(e){return this.storage.local.flush(e)}declareType(e,t,r){let n;r?n=t:(r=t,n=this._defaultTypeURI(e)),h.Types.declare(this.moduleName,e,n,r)}validate(e){const t=h.Types.getSchema(e["@context"]);if(t)return o.default.validateResult(e,t);throw new s.default(e["@context"])}_defaultTypeURI(e){return"http://remotestorage.io/spec/modules/"+encodeURIComponent(this.moduleName)+"/"+encodeURIComponent(e)}_attachType(e,t){e["@context"]=h.Types.resolveAlias(this.moduleName+"/"+t)||this._defaultTypeURI(t)}makePath(e){return this.base+(e||"")}_fireChange(e){u.default.changeEvents[e.origin]&&(["new","old","lastCommon"].forEach((function(t){if((!e[t+"ContentType"]||/^application\/(.*)json(.*)/.exec(e[t+"ContentType"]))&&"string"==typeof e[t+"Value"])try{e[t+"Value"]=JSON.parse(e[t+"Value"])}catch(e){}})),this._emit("change",e))}static _rs_init(){}}h.Types=i.default,c.applyMixins(h,[a.default]),e.exports=h},function(e,t,r){"use strict";(function(t){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const i=o(r(6)),s=o(r(2)),a=o(r(4)),u=o(r(3)),c=o(r(1)),h=r(0);let l;const d="remotestorage:wireclient",f={"draft-dejong-remotestorage-00":2,"draft-dejong-remotestorage-01":3,"draft-dejong-remotestorage-02":4,"https://www.w3.org/community/rww/wiki/read-write-web-00#simple":1};let p;if("function"==typeof(t||window).ArrayBufferView)p=function(e){return e&&e instanceof(t||window).ArrayBufferView};else{const e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];p=function(t){for(let r=0;r<8;r++)if(t instanceof e[r])return!0;return!1}}function m(e){return"string"!=typeof e?e:"*"===e?"*":'"'+e+'"'}function g(e){return"string"!=typeof e?e:e.replace(/^["']|["']$/g,"")}class y{constructor(e){if(this._revisionCache={},l=h.localStorageAvailable(),this.rs=e,this.connected=!1,this.addEvents(["connected","not-connected"]),l){const e=function(){const e=h.getJSONFromLocalStorage(d)||{},{userAddress:t,href:r,storageApi:n,token:o,properties:i}=e;return{userAddress:t,href:r,storageApi:n,token:o,properties:i}}();e&&setTimeout(()=>{this.configure(e)},0)}this.connected&&setTimeout(this._emit.bind(this),0,"connected")}get storageType(){if(this.storageApi){const e=this.storageApi.match(/draft-dejong-(remotestorage-\d\d)/);return e?e[1]:"2012.04"}}_request(e,t,r,o,s,u,l){return n(this,void 0,void 0,(function*(){if(function(e,t){return("PUT"===e||"DELETE"===e)&&h.isFolder(t)}(e,t))return Promise.reject(`Don't use ${e} on directories!`);let n;return r!==i.default.IMPLIED_FAKE_TOKEN&&(o.Authorization="Bearer "+r),this.rs._emit("wire-busy",{method:e,isFolder:h.isFolder(t)}),y.request(e,t,{body:s,headers:o,responseType:"arraybuffer"}).then(r=>{if(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:e,isFolder:h.isFolder(t),success:!0}),o=r.status,[401,403,404,412].indexOf(o)>=0)return c.default("[WireClient] Error response status",r.status),n=u?g(r.getResponseHeader("ETag")):void 0,401===r.status&&this.rs._emit("error",new a.default),Promise.resolve({statusCode:r.status,revision:n});if(function(e){return[201,204,304].indexOf(e)>=0}(r.status)||200===r.status&&"GET"!==e)return n=g(r.getResponseHeader("ETag")),c.default("[WireClient] Successful request",n),Promise.resolve({statusCode:r.status,revision:n});{const e=r.getResponseHeader("Content-Type");n=u?g(r.getResponseHeader("ETag")):200===r.status?l:void 0;const t=function(e){let t,r="UTF-8";return e&&(t=e.match(/charset=(.+)$/),t&&(r=t[1])),r}(e);return h.shouldBeTreatedAsBinary(r.response,e)?(c.default("[WireClient] Successful request with unknown or binary mime-type",n),Promise.resolve({statusCode:r.status,body:r.response,contentType:e,revision:n})):h.getTextFromArrayBuffer(r.response,t).then(t=>(c.default("[WireClient] Successful request",n),Promise.resolve({statusCode:r.status,body:t,contentType:e,revision:n})))}var o},r=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:e,isFolder:h.isFolder(t),success:!1}),Promise.reject(r)))}))}configure(e){if("object"!=typeof e)throw new Error("WireClient configure settings parameter should be an object");if(void 0!==e.userAddress&&(this.userAddress=e.userAddress),void 0!==e.href&&(this.href=e.href),void 0!==e.storageApi&&(this.storageApi=e.storageApi),void 0!==e.token&&(this.token=e.token),void 0!==e.properties&&(this.properties=e.properties),"string"==typeof this.storageApi){const e=f[this.storageApi]||5;this.supportsRevs=e>=2}this.href&&this.token?(this.connected=!0,this.online=!0,this._emit("connected")):this.connected=!1,l&&(localStorage[d]=JSON.stringify({userAddress:this.userAddress,href:this.href,storageApi:this.storageApi,token:this.token,properties:this.properties}))}stopWaitingForToken(){this.connected||this._emit("not-connected")}get(e,t={}){if(!this.connected)return Promise.reject("not connected (path: "+e+")");const r={};return this.supportsRevs&&t.ifNoneMatch&&(r["If-None-Match"]=m(t.ifNoneMatch)),this._request("GET",this.href+h.cleanPath(e),this.token,r,void 0,this.supportsRevs,this._revisionCache[e]).then(t=>{if(!h.isFolder(e))return Promise.resolve(t);let r={};if(void 0!==t.body)try{t.body=JSON.parse(t.body)}catch(t){return Promise.reject("Folder description at "+this.href+h.cleanPath(e)+" is not JSON")}if(200===t.statusCode&&"object"==typeof t.body){if(0===Object.keys(t.body).length)t.statusCode=404;else if("http://remotestorage.io/spec/folder-description"===(n=t.body)["@context"]&&"object"==typeof n.items){for(const r in t.body.items)this._revisionCache[e+r]=t.body.items[r].ETag;r=t.body.items}else Object.keys(t.body).forEach(n=>{this._revisionCache[e+n]=t.body[n],r[n]={ETag:t.body[n]}});return t.body=r,Promise.resolve(t)}return Promise.resolve(t);var n})}put(e,t,r,n={}){if(!this.connected)return Promise.reject("not connected (path: "+e+")");!r.match(/charset=/)&&(t instanceof ArrayBuffer||p(t))&&(r+="; charset=binary");const o={"Content-Type":r};return this.supportsRevs&&(n.ifMatch&&(o["If-Match"]=m(n.ifMatch)),n.ifNoneMatch&&(o["If-None-Match"]=m(n.ifNoneMatch))),this._request("PUT",this.href+h.cleanPath(e),this.token,o,t,this.supportsRevs)}delete(e,t={}){if(!this.connected)throw new Error("not connected (path: "+e+")");t||(t={});const r={};return this.supportsRevs&&t.ifMatch&&(r["If-Match"]=m(t.ifMatch)),this._request("DELETE",this.href+h.cleanPath(e),this.token,r,void 0,this.supportsRevs)}static request(e,t,r){return n(this,void 0,void 0,(function*(){return"function"==typeof fetch?y._fetchRequest(e,t,r):"function"==typeof XMLHttpRequest?y._xhrRequest(e,t,r):(c.default("[WireClient] You need to add a polyfill for fetch or XMLHttpRequest"),Promise.reject("[WireClient] You need to add a polyfill for fetch or XMLHttpRequest"))}))}static _fetchRequest(e,t,r){let n;const o={};let i;"function"==typeof AbortController&&(i=new AbortController);const s=fetch(t,{method:e,headers:r.headers,body:r.body,signal:i?i.signal:void 0}).then(e=>{switch(c.default("[WireClient fetch]",e),e.headers.forEach((e,t)=>{o[t.toUpperCase()]=e}),n={readyState:4,status:e.status,statusText:e.statusText,response:void 0,getResponseHeader:e=>o[e.toUpperCase()]||null,responseType:r.responseType,responseURL:t},r.responseType){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json();case void 0:case"":case"text":return e.text();default:throw new Error("responseType 'document' is not currently supported using fetch")}}).then(e=>(n.response=e,r.responseType&&"text"!==r.responseType||(n.responseText=e),n)),a=new Promise((e,t)=>{setTimeout(()=>{t("timeout"),i&&i.abort()},u.default.requestTimeout)});return Promise.race([s,a])}static _xhrRequest(e,t,r){return new Promise((n,o)=>{c.default("[WireClient]",e,t);let i=!1;const s=setTimeout(()=>{i=!0,o("timeout")},u.default.requestTimeout),a=new XMLHttpRequest;if(a.open(e,t,!0),r.responseType&&(a.responseType=r.responseType),r.headers)for(const e in r.headers)a.setRequestHeader(e,r.headers[e]);a.onload=()=>{i||(clearTimeout(s),n(a))},a.onerror=e=>{i||(clearTimeout(s),o(e))};let h=r.body;"object"==typeof h&&!p(h)&&h instanceof ArrayBuffer&&(h=new Uint8Array(h)),a.send(h)})}static _rs_init(e){e.remote=new y(e),e.remote.online=!0}static _rs_supported(){return"function"==typeof fetch||"function"==typeof XMLHttpRequest}static _rs_cleanup(){l&&delete localStorage[d]}}y.isArrayBufferView=p,h.applyMixins(y,[s.default]),e.exports=y}).call(this,r(5))},function(e,t,r){"use strict";class n extends Error{constructor(e){super(),this.name="SyncError",this.message="Sync failed: ","string"==typeof e?this.message+=e:(this.message+=e.message,this.stack=e.stack,this.originalError=e)}}e.exports=n},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=n(r(2)),i=n(r(3)),s=n(r(1)),a=r(0);class u{constructor(){this._updateNodesRunning=!1,this._updateNodesQueued=[]}get(e,t,r){return"number"==typeof t?this.getNodes(a.pathsFromRoot(e)).then(n=>{const o=c(n[e]);return h(n,t)?r(e):o?{statusCode:200,body:o.body||o.itemsMap,contentType:o.contentType}:{statusCode:404}}):this.getNodes([e]).then(t=>{const r=c(t[e]);if(r){if(a.isFolder(e))for(const e in r.itemsMap)r.itemsMap.hasOwnProperty(e)&&!1===r.itemsMap[e]&&delete r.itemsMap[e];return{statusCode:200,body:r.body||r.itemsMap,contentType:r.contentType}}return{statusCode:404}})}put(e,t,r){const n=a.pathsFromRoot(e);return this._updateNodes(n,(function(e,n){try{for(let o=0,i=e.length;o<i;o++){const i=e[o];let s,a=n[i];if(a||(n[i]=a=l(i)),0===o)s=c(a),a.local={body:t,contentType:r,previousBody:s?s.body:void 0,previousContentType:s?s.contentType:void 0};else{a=d(a,e[o-1].substring(i.length))}}return n}catch(e){throw s.default("[Cachinglayer] Error during PUT",n,e),e}}))}delete(e){const t=a.pathsFromRoot(e);return this._updateNodes(t,(function(e,t){for(let r=0,n=e.length;r<n;r++){const n=e[r],o=t[n];let i;if(o)if(0===r)i=c(o),o.local={body:!1,previousBody:i?i.body:void 0,previousContentType:i?i.contentType:void 0};else{o.local||(o.local=a.deepClone(o.common));const t=e[r-1].substring(n.length);if(delete o.local.itemsMap[t],Object.getOwnPropertyNames(o.local.itemsMap).length>0)break}else console.error("Cannot delete non-existing node "+n)}return t}))}flush(e){return this._getAllDescendentPaths(e).then(e=>this.getNodes(e)).then(e=>{for(const t in e){const r=e[t];r&&r.common&&r.local&&this._emitChange({path:r.path,origin:"local",oldValue:!1===r.local.body?void 0:r.local.body,newValue:!1===r.common.body?void 0:r.common.body}),e[t]=void 0}return this.setNodes(e)})}_emitChange(e){i.default.changeEvents[e.origin]&&this._emit("change",e)}fireInitial(){i.default.changeEvents.local&&this.forAllNodes(e=>{if(a.isDocument(e.path)){const t=c(e);t&&this._emitChange({path:e.path,origin:"local",oldValue:void 0,oldContentType:void 0,newValue:t.body,newContentType:t.contentType})}}).then(()=>{this._emit("local-events-done")})}onDiff(e){this.diffHandler=e}migrate(e){return"object"!=typeof e||e.common||(e.common={},"string"==typeof e.path?"/"===e.path.substr(-1)&&"object"==typeof e.body&&(e.common.itemsMap=e.body):(e.local||(e.local={}),e.local.body=e.body,e.local.contentType=e.contentType)),e}_updateNodes(e,t){return new Promise((r,n)=>{this._doUpdateNodes(e,t,{resolve:r,reject:n})})}_doUpdateNodes(e,t,r){this._updateNodesRunning?this._updateNodesQueued.push({paths:e,cb:t,promise:r}):(this._updateNodesRunning=!0,this.getNodes(e).then(n=>{const o=a.deepClone(n),i=[];n=t(e,n);for(const e in n){const t=n[e];a.equal(t,o[e])?delete n[e]:a.isDocument(e)&&(a.equal(t.local.body,t.local.previousBody)&&t.local.contentType===t.local.previousContentType||i.push({path:e,origin:"window",oldValue:t.local.previousBody,newValue:!1===t.local.body?void 0:t.local.body,oldContentType:t.local.previousContentType,newContentType:t.local.contentType}),delete t.local.previousBody,delete t.local.previousContentType)}this.setNodes(n).then(()=>{this._emitChangeEvents(i),r.resolve({statusCode:200})})}).then(()=>Promise.resolve(),e=>{r.reject(e)}).then(()=>{this._updateNodesRunning=!1;const e=this._updateNodesQueued.shift();e&&this._doUpdateNodes(e.paths,e.cb,e.promise)}))}_emitChangeEvents(e){for(let t=0,r=e.length;t<r;t++)this._emitChange(e[t]),this.diffHandler&&this.diffHandler(e[t].path)}_getAllDescendentPaths(e){return a.isFolder(e)?this.getNodes([e]).then(t=>{const r=[e],n=c(t[e]),o=Object.keys(n.itemsMap).map(t=>this._getAllDescendentPaths(e+t).then(e=>{for(let t=0,n=e.length;t<n;t++)r.push(e[t])}));return Promise.all(o).then(()=>r)}):Promise.resolve([e])}_getInternals(){return{getLatest:c,makeNode:l,isOutdated:h}}}function c(e){if("object"==typeof e&&"string"==typeof e.path)if(a.isFolder(e.path)){if(e.local&&e.local.itemsMap)return e.local;if(e.common&&e.common.itemsMap)return e.common}else{if(e.local){if(e.local.body&&e.local.contentType)return e.local;if(!1===e.local.body)return}if(e.common&&e.common.body&&e.common.contentType)return e.common;if(e.body&&e.contentType)return{body:e.body,contentType:e.contentType}}}function h(e,t){for(const r in e){if(e[r]&&e[r].remote)return!0;const n=c(e[r]);if(n&&n.timestamp&&(new Date).getTime()-n.timestamp<=t)return!1;if(!n)return!0}return!0}function l(e){const t={path:e,common:{}};return a.isFolder(e)&&(t.common.itemsMap={}),t}function d(e,t){return e.common||(e.common={itemsMap:{}}),e.common.itemsMap||(e.common.itemsMap={}),e.local||(e.local=a.deepClone(e.common)),e.local.itemsMap||(e.local.itemsMap=e.common.itemsMap),e.local.itemsMap[t]=!0,e}a.applyMixins(u,[o.default]),e.exports=u},function(e,t,r){"use strict";e.exports=class{constructor(){this.reset()}static _rs_init(){}get scopes(){return Object.keys(this.scopeModeMap).map(e=>({name:e,mode:this.scopeModeMap[e]}))}get scopeParameter(){return this.scopes.map(e=>`${this._scopeNameForParameter(e)}:${e.mode}`).join(" ")}claim(e,t){if("string"!=typeof e||-1!==e.indexOf("/")||0===e.length)throw new Error("Scope should be a non-empty string without forward slashes");if(!t.match(/^rw?$/))throw new Error("Mode should be either 'r' or 'rw'");this._adjustRootPaths(e),this.scopeModeMap[e]=t}get(e){return this.scopeModeMap[e]}remove(e){const t={};for(const e in this.scopeModeMap)t[e]=this.scopeModeMap[e];this.reset(),delete t[e];for(const e in t)this.claim(e,t[e])}checkPermission(e,t){const r=this.get(e);return r&&("r"===t||"rw"===r)}checkPathPermission(e,t){if(this.checkPermission("*",t))return!0;const r=this._getModuleName(e);return!!this.checkPermission(r,t)}reset(){this.rootPaths=[],this.scopeModeMap={}}_getModuleName(e){if("/"!==e[0])throw new Error("Path should start with a slash");const t=e.replace(/^\/public/,"").match(/^\/([^/]*)\//);return t?t[1]:"*"}_adjustRootPaths(e){"*"in this.scopeModeMap||"*"===e?this.rootPaths=["/"]:e in this.scopeModeMap||(this.rootPaths.push("/"+e+"/"),this.rootPaths.push("/public/"+e+"/"))}_scopeNameForParameter(e){if("*"===e.name&&this.storageType){if("2012.04"===this.storageType)return"";if(this.storageType.match(/remotestorage-0[01]/))return"root"}return e.name}setStorageType(e){this.storageType=e}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=r(0),i=n(r(1));e.exports=class{constructor(){this.pendingActivations=[],this.reset()}set(e,t){if("string"!=typeof e)throw new Error("path should be a string");if(!o.isFolder(e))throw new Error("path should be a folder");if(!t.match(/^(FLUSH|SEEN|ALL)$/))throw new Error("strategy should be 'FLUSH', 'SEEN', or 'ALL'");this._rootPaths[e]=t,"ALL"===t&&(this.activateHandler?this.activateHandler(e):this.pendingActivations.push(e))}enable(e){this.set(e,"ALL")}disable(e){this.set(e,"FLUSH")}onActivate(e){i.default("[Caching] Setting activate handler",e,this.pendingActivations),this.activateHandler=e;for(let t=0;t<this.pendingActivations.length;t++)e(this.pendingActivations[t]);this.pendingActivations=[]}checkPath(e){return void 0!==this._rootPaths[e]?this._rootPaths[e]:"/"===e?"SEEN":this.checkPath(o.containingFolder(e))}reset(){this._rootPaths={}}static _rs_init(){}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=n(r(7)),i=n(r(8)),s=n(r(2)),a=r(0),u="https://www.googleapis.com",c="remotestorage:googledrive";let h;function l(e){return"/"===e.substr(-1)&&(e=e.substr(0,e.length-1)),decodeURIComponent(e)}function d(e){return e.replace(/[^\/]+\/?$/,"")}function f(e){const t=e.split("/");return"/"===e.substr(-1)?t[t.length-2]+"/":t[t.length-1]}function p(e){return a.cleanPath("/remotestorage/"+e)}function m(e){return e.replace(/^["'](.*)["']$/,"$1")}class g{constructor(e){this._items={},this.maxAge=e,this._items={}}get(e){const t=this._items[e],r=(new Date).getTime();return t&&t.t>=r-this.maxAge?t.v:void 0}set(e,t){this._items[e]={v:t,t:(new Date).getTime()}}}class y{constructor(e,t){if(this.connected=!1,this.online=!0,this.addEvents(["connected","not-connected"]),this.rs=e,this.clientId=t,this._fileIdCache=new g(300),h=a.localStorageAvailable(),h){const e=a.getJSONFromLocalStorage(c);e&&this.configure(e)}}configure(e){void 0!==e.userAddress&&(this.userAddress=e.userAddress),void 0!==e.token&&(this.token=e.token);const t=function(){h&&localStorage.setItem(c,JSON.stringify({userAddress:this.userAddress,token:this.token}))},r=function(){this.connected=!1,delete this.token,h&&localStorage.removeItem(c)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),t.apply(this)):this.info().then(e=>{this.userAddress=e.user.emailAddress,this._emit("connected"),t.apply(this)}).catch(()=>{r.apply(this),this.rs._emit("error",new Error("Could not fetch user info."))})):r.apply(this)}connect(){this.rs.setBackend("googledrive"),this.rs.authorize({authURL:"https://accounts.google.com/o/oauth2/auth",scope:"https://www.googleapis.com/auth/drive",clientId:this.clientId})}stopWaitingForToken(){this.connected||this._emit("not-connected")}get(e,t){return a.isFolder(e)?this._getFolder(p(e)):this._getFile(p(e),t)}put(e,t,r,n){const o=p(e);function i(e){if(e.status>=200&&e.status<300){const t=JSON.parse(e.responseText),r=m(t.etag);return Promise.resolve({statusCode:200,contentType:t.mimeType,revision:r})}return 412===e.status?Promise.resolve({statusCode:412,revision:"conflict"}):Promise.reject("PUT failed with status "+e.status+" ("+e.responseText+")")}return this._getFileId(o).then(e=>e?n&&"*"===n.ifNoneMatch?i({status:412}):this._updateFile(e,o,t,r,n).then(i):this._createFile(o,t,r).then(i))}delete(e,t){const r=p(e);return this._getFileId(r).then(e=>e?this._getMeta(e).then(r=>{let n;return"object"==typeof r&&"string"==typeof r.etag&&(n=m(r.etag)),t&&t.ifMatch&&t.ifMatch!==n?{statusCode:412,revision:n}:this._request("DELETE",u+"/drive/v2/files/"+e,{}).then(e=>200===e.status||204===e.status?{statusCode:200}:Promise.reject("Delete failed: "+e.status+" ("+e.responseText+")"))}):Promise.resolve({statusCode:200}))}info(){return this._request("GET","https://www.googleapis.com/drive/v2/about?fields=user",{}).then((function(e){try{const t=JSON.parse(e.responseText);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}))}_updateFile(e,t,r,n,o){const i={mimeType:n},s={"Content-Type":"application/json; charset=UTF-8"};return o&&o.ifMatch&&(s["If-Match"]='"'+o.ifMatch+'"'),this._request("PUT",u+"/upload/drive/v2/files/"+e+"?uploadType=resumable",{body:JSON.stringify(i),headers:s}).then(e=>412===e.status?e:this._request("PUT",e.getResponseHeader("Location"),{body:n.match(/^application\/json/)?JSON.stringify(r):r}))}_createFile(e,t,r){return this._getParentId(e).then(n=>{const o={title:l(f(e)),mimeType:r,parents:[{kind:"drive#fileLink",id:n}]};return this._request("POST",u+"/upload/drive/v2/files?uploadType=resumable",{body:JSON.stringify(o),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>this._request("POST",e.getResponseHeader("Location"),{body:r.match(/^application\/json/)?JSON.stringify(t):t}))})}_getFile(e,t){return this._getFileId(e).then(e=>this._getMeta(e).then(e=>{let r;if("object"==typeof e&&"string"==typeof e.etag&&(r=m(e.etag)),t&&t.ifNoneMatch&&r===t.ifNoneMatch)return Promise.resolve({statusCode:304});if(!e.downloadUrl){if(!e.exportLinks||!e.exportLinks["text/html"])return Promise.resolve({statusCode:200,body:"",contentType:e.mimeType,revision:r});e.mimeType+=";export=text/html",e.downloadUrl=e.exportLinks["text/html"]}return this._request("GET",e.downloadUrl,{responseType:"arraybuffer"}).then(t=>a.getTextFromArrayBuffer(t.response,"UTF-8").then((function(n){let o=n;if(e.mimeType.match(/^application\/json/))try{o=JSON.parse(o)}catch(e){}else a.shouldBeTreatedAsBinary(n,e.mimeType)&&(o=t.response);return{statusCode:200,body:o,contentType:e.mimeType,revision:r}})))}))}_getFolder(e){return this._getFileId(e).then(t=>{let r,n,o;if(!t)return Promise.resolve({statusCode:404});const i="'"+t+"' in parents";return this._request("GET",u+"/drive/v2/files?q="+encodeURIComponent(i)+"&fields="+encodeURIComponent("items(downloadUrl,etag,fileSize,id,mimeType,title)")+"&maxResults=1000",{}).then(t=>{if(200!==t.status)return Promise.reject("request failed or something: "+t.status);try{r=JSON.parse(t.responseText)}catch(e){return Promise.reject("non-JSON response from GoogleDrive")}o={};for(const t of r.items)n=m(t.etag),"application/vnd.google-apps.folder"===t.mimeType?(this._fileIdCache.set(e+a.cleanPath(t.title)+"/",t.id),o[t.title+"/"]={ETag:n}):(this._fileIdCache.set(e+a.cleanPath(t.title),t.id),o[t.title]={ETag:n,"Content-Type":t.mimeType,"Content-Length":t.fileSize});return Promise.resolve({statusCode:200,body:o,contentType:"application/json; charset=UTF-8",revision:void 0})})})}_getParentId(e){const t=d(e);return this._getFileId(t).then(e=>e?Promise.resolve(e):this._createFolder(t))}_createFolder(e){return this._getParentId(e).then(t=>this._request("POST",u+"/drive/v2/files",{body:JSON.stringify({title:l(f(e)),mimeType:"application/vnd.google-apps.folder",parents:[{id:t}]}),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>{const t=JSON.parse(e.responseText);return Promise.resolve(t.id)}))}_getFileId(e){let t;return"/"===e?Promise.resolve("root"):(t=this._fileIdCache.get(e))?Promise.resolve(t):this._getFolder(d(e)).then(()=>(t=this._fileIdCache.get(e),t?Promise.resolve(t):"/"===e.substr(-1)?this._createFolder(e).then(()=>this._getFileId(e)):Promise.resolve()))}_getMeta(e){return this._request("GET",u+"/drive/v2/files/"+e,{}).then((function(t){return 200===t.status?Promise.resolve(JSON.parse(t.responseText)):Promise.reject("request (getting metadata for "+e+") failed with status: "+t.status)}))}_request(e,t,r){return r.headers||(r.headers={}),r.headers.Authorization="Bearer "+this.token,this.rs._emit("wire-busy",{method:e,isFolder:a.isFolder(t)}),i.default.request.call(this,e,t,r).then(r=>r&&401===r.status?void this.connect():(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:e,isFolder:a.isFolder(t),success:!0}),Promise.resolve(r)),r=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:e,isFolder:a.isFolder(t),success:!1}),Promise.reject(r)))}static _rs_init(e){const t=e.apiKeys.googledrive;var r;t&&(e.googledrive=new y(e,t.clientId),"googledrive"===e.backend&&(e._origRemote=e.remote,e.remote=e.googledrive,(r=e)._origBaseClientGetItemURL||(r._origBaseClientGetItemURL=o.default.prototype.getItemURL,o.default.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Google Drive yet")})))}static _rs_supported(){return!0}static _rs_cleanup(e){var t;e.setBackend(void 0),e._origRemote&&(e.remote=e._origRemote,delete e._origRemote),(t=e)._origBaseClientGetItemURL&&(o.default.prototype.getItemURL=t._origBaseClientGetItemURL,delete t._origBaseClientGetItemURL)}}a.applyMixins(y,[s.default]),e.exports=y},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const i=o(r(2)),s=o(r(8)),a=o(r(7)),u=o(r(26)),c=o(r(9)),h=o(r(4)),l=r(0);let d;const f="remotestorage:dropbox";function p(e){return l.cleanPath("/remotestorage/"+e).replace(/\/$/,"")}function m(e,t){return new RegExp("^"+t.join("\\/")+"(\\/|$)").test(e.error_summary)}function g(e){return e instanceof ArrayBuffer||s.default.isArrayBufferView(e)}class y{constructor(e){if(this.rs=e,this.connected=!1,this.online=!0,this._initialFetchDone=!1,this.addEvents(["connected","not-connected"]),this.clientId=e.apiKeys.dropbox.appKey,this._revCache=new u.default("rev"),this._fetchDeltaCursor=null,this._fetchDeltaPromise=null,this._itemRefs={},d=l.localStorageAvailable(),d){const e=l.getJSONFromLocalStorage(f);e&&this.configure(e),this._itemRefs=l.getJSONFromLocalStorage(f+":shares")||{}}this.connected&&setTimeout(this._emit.bind(this),0,"connected")}connect(){this.rs.setBackend("dropbox"),this.token?b(this.rs):this.rs.authorize({authURL:"https://www.dropbox.com/oauth2/authorize",scope:"",clientId:this.clientId})}configure(e){void 0!==e.userAddress&&(this.userAddress=e.userAddress),void 0!==e.token&&(this.token=e.token);const t=function(){d&&localStorage.setItem(f,JSON.stringify({userAddress:this.userAddress,token:this.token}))},r=function(){this.connected=!1,d&&localStorage.removeItem(f)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),t.apply(this)):this.info().then(function(e){this.userAddress=e.email,this._emit("connected"),t.apply(this)}.bind(this)).catch(function(){r.apply(this),this.rs._emit("error",new Error("Could not fetch user info."))}.bind(this))):r.apply(this)}stopWaitingForToken(){this.connected||this._emit("not-connected")}_getFolder(e){const t=this._revCache,r=r=>{let o;if(200!==r.status&&409!==r.status)return Promise.reject("Unexpected response status: "+r.status);try{o=JSON.parse(r.responseText)}catch(e){return Promise.reject(e)}if(409===r.status)return m(o,["path","not_found"])?Promise.resolve({}):Promise.reject(new Error("API returned an error: "+o.error_summary));const i=o.entries.reduce((r,n)=>{const o="folder"===n[".tag"],i=n.path_lower.split("/").slice(-1)[0]+(o?"/":"");return o?r[i]={ETag:t.get(e+i)}:(r[i]={ETag:n.rev},this._revCache.set(e+i,n.rev)),r},{});return o.has_more?n(o.cursor).then((function(e){return Object.assign(i,e)})):Promise.resolve(i)},n=e=>{const t={body:{cursor:e}};return this._request("POST","https://api.dropboxapi.com/2/files/list_folder/continue",t).then(r)};return this._request("POST","https://api.dropboxapi.com/2/files/list_folder",{body:{path:p(e)}}).then(r).then((function(r){return Promise.resolve({statusCode:200,body:r,contentType:"application/json; charset=UTF-8",revision:t.get(e)})}))}get(e,t){if(!this.connected)return Promise.reject("not connected (path: "+e+")");const r=this._revCache.get(e);if(null===r)return Promise.resolve({statusCode:404});if(t&&t.ifNoneMatch){if(!this._initialFetchDone)return this.fetchDelta().then(()=>this.get(e,t));if(r&&r===t.ifNoneMatch)return Promise.resolve({statusCode:304})}if("/"===e.substr(-1))return this._getFolder(e);const n={headers:{"Dropbox-API-Arg":JSON.stringify({path:p(e)})},responseType:"arraybuffer"};return t&&t.ifNoneMatch&&(n.headers["If-None-Match"]=t.ifNoneMatch),this._request("GET","https://content.dropboxapi.com/2/files/download",n).then(t=>{const r=t.status;let n,o,i,s;return 200!==r&&409!==r?Promise.resolve({statusCode:r}):(n=t.getResponseHeader("Dropbox-API-Result"),l.getTextFromArrayBuffer(t.response,"UTF-8").then(a=>{o=a,409===r&&(n=o);try{n=JSON.parse(n)}catch(e){return Promise.reject(e)}if(409===r)return m(n,["path","not_found"])?{statusCode:404}:Promise.reject(new Error('API error while downloading file ("'+e+'"): '+n.error_summary));if(i=t.getResponseHeader("Content-Type"),s=n.rev,this._revCache.set(e,s),this._shareIfNeeded(e),l.shouldBeTreatedAsBinary(a,i))o=t.response;else try{o=JSON.parse(o),i="application/json; charset=UTF-8"}catch(e){}return{statusCode:r,body:o,contentType:i,revision:s}}))})}put(e,t,r,n){if(!this.connected)throw new Error("not connected (path: "+e+")");const o=this._revCache.get(e);if(n&&n.ifMatch&&o&&o!==n.ifMatch)return Promise.resolve({statusCode:412,revision:o});if(n&&"*"===n.ifNoneMatch&&o&&"rev"!==o)return Promise.resolve({statusCode:412,revision:o});if(!r.match(/charset=/)&&g(t)&&(r+="; charset=binary"),t.length>157286400)return Promise.reject(new Error("Cannot upload file larger than 150MB"));let i;const s=n&&(n.ifMatch||"*"===n.ifNoneMatch),a={body:t,contentType:r,path:e};return i=s?this._getMetadata(e).then(e=>n&&"*"===n.ifNoneMatch&&e||n&&n.ifMatch&&e&&e.rev!==n.ifMatch?Promise.resolve({statusCode:412,revision:e.rev}):this._uploadSimple(a)):this._uploadSimple(a),i.then(t=>(this._shareIfNeeded(e),t))}delete(e,t){if(!this.connected)throw new Error("not connected (path: "+e+")");const r=this._revCache.get(e);return t&&t.ifMatch&&r&&t.ifMatch!==r?Promise.resolve({statusCode:412,revision:r}):t&&t.ifMatch?this._getMetadata(e).then(r=>t&&t.ifMatch&&r&&r.rev!==t.ifMatch?Promise.resolve({statusCode:412,revision:r.rev}):this._deleteSimple(e)):this._deleteSimple(e)}_shareIfNeeded(e){e.match(/^\/public\/.*[^/]$/)&&void 0===this._itemRefs[e]&&this.share(e)}share(e){const t={body:{path:p(e)}};return this._request("POST","https://api.dropboxapi.com/2/sharing/create_shared_link_with_settings",t).then(t=>{if(200!==t.status&&409!==t.status)return Promise.reject(new Error("Invalid response status:"+t.status));let r;try{r=JSON.parse(t.responseText)}catch(e){return Promise.reject(new Error("Invalid response body: "+t.responseText))}return 409===t.status?m(r,["shared_link_already_exists"])?this._getSharedLink(e):Promise.reject(new Error("API error: "+r.error_summary)):Promise.resolve(r.url)}).then(t=>(this._itemRefs[e]=t,d&&localStorage.setItem(f+":shares",JSON.stringify(this._itemRefs)),Promise.resolve(t)),t=>(t.message='Sharing Dropbox file or folder ("'+e+'") failed: '+t.message,Promise.reject(t)))}info(){return this._request("POST","https://api.dropboxapi.com/2/users/get_current_account",{}).then((function(e){let t=e.responseText;try{t=JSON.parse(t)}catch(e){return Promise.reject(new Error("Could not query current account info: Invalid API response: "+t))}return Promise.resolve({email:t.email})}))}_request(e,t,r){return r.headers||(r.headers={}),r.headers.Authorization="Bearer "+this.token,"object"!=typeof r.body||g(r.body)||(r.body=JSON.stringify(r.body),r.headers["Content-Type"]="application/json; charset=UTF-8"),this.rs._emit("wire-busy",{method:e,isFolder:l.isFolder(t)}),s.default.request.call(this,e,t,r).then(n=>n&&503===n.status?(this.online&&(this.online=!1,this.rs._emit("network-offline")),setTimeout(this._request(e,t,r),3210)):(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:e,isFolder:l.isFolder(t),success:!0}),Promise.resolve(n)),r=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:e,isFolder:l.isFolder(t),success:!1}),Promise.reject(r)))}fetchDelta(...e){if(this._fetchDeltaPromise)return this._fetchDeltaPromise;const t=r=>{let n,o="https://api.dropboxapi.com/2/files/list_folder";return"string"==typeof r?(o+="/continue",n={cursor:r}):n={path:"/remotestorage",recursive:!0,include_deleted:!0},this._request("POST",o,{body:n}).then(n=>{if(401===n.status)return this.rs._emit("error",new h.default),Promise.resolve(e);if(200!==n.status&&409!==n.status)return Promise.reject(new Error("Invalid response status: "+n.status));let o;try{o=JSON.parse(n.responseText)}catch(e){return Promise.reject(new Error("Invalid response body: "+n.responseText))}if(409===n.status){if(!m(o,["path","not_found"]))return Promise.reject(new Error("API returned an error: "+o.error_summary));o={cursor:null,entries:[],has_more:!1}}if(r||this._revCache.deactivatePropagation(),o.entries.forEach(e=>{const t=e.path_lower.substr("/remotestorage".length);"deleted"===e[".tag"]?(this._revCache.delete(t),this._revCache.delete(t+"/")):"file"===e[".tag"]&&this._revCache.set(t,e.rev)}),this._fetchDeltaCursor=o.cursor,o.has_more)return t(o.cursor);this._revCache.activatePropagation(),this._initialFetchDone=!0}).catch(e=>"timeout"===e||e instanceof ProgressEvent?Promise.resolve():Promise.reject(e))};return this._fetchDeltaPromise=t(this._fetchDeltaCursor).catch(e=>("object"==typeof e&&"message"in e?e.message="Dropbox: fetchDelta: "+e.message:e="Dropbox: fetchDelta: "+e,this._fetchDeltaPromise=null,Promise.reject(e))).then(()=>(this._fetchDeltaPromise=null,Promise.resolve(e))),this._fetchDeltaPromise}_getMetadata(e){const t={path:p(e)};return this._request("POST","https://api.dropboxapi.com/2/files/get_metadata",{body:t}).then(e=>{if(200!==e.status&&409!==e.status)return Promise.reject(new Error("Invalid response status:"+e.status));let t;try{t=JSON.parse(e.responseText)}catch(t){return Promise.reject(new Error("Invalid response body: "+e.responseText))}return 409===e.status?m(t,["path","not_found"])?Promise.resolve():Promise.reject(new Error("API error: "+t.error_summary)):Promise.resolve(t)}).then(void 0,t=>(t.message='Could not load metadata for file or folder ("'+e+'"): '+t.message,Promise.reject(t)))}_uploadSimple(e){const t={path:p(e.path),mode:{".tag":"overwrite",update:void 0},mute:!0};return e.ifMatch&&(t.mode={".tag":"update",update:e.ifMatch}),this._request("POST","https://content.dropboxapi.com/2/files/upload",{body:e.body,headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":JSON.stringify(t)}}).then(t=>{if(200!==t.status&&409!==t.status)return Promise.resolve({statusCode:t.status});let r=t.responseText;try{r=JSON.parse(r)}catch(e){return Promise.reject(new Error("Invalid API result: "+r))}return 409===t.status?m(r,["path","conflict"])?this._getMetadata(e.path).then((function(e){return Promise.resolve({statusCode:412,revision:e.rev})})):Promise.reject(new Error("API error: "+r.error_summary)):(this._revCache.set(e.path,r.rev),Promise.resolve({statusCode:t.status,revision:r.rev}))})}_deleteSimple(e){const t={path:p(e)};return this._request("POST","https://api.dropboxapi.com/2/files/delete",{body:t}).then(e=>{if(200!==e.status&&409!==e.status)return Promise.resolve({statusCode:e.status});let t=e.responseText;try{t=JSON.parse(t)}catch(e){return Promise.reject(new Error("Invalid response body: "+t))}return 409===e.status?m(t,["path_lookup","not_found"])?Promise.resolve({statusCode:404}):Promise.reject(new Error("API error: "+t.error_summary)):Promise.resolve({statusCode:200})}).then(t=>(200!==t.statusCode&&404!==t.statusCode||(this._revCache.delete(e),delete this._itemRefs[e]),Promise.resolve(t)),t=>(t.message='Could not delete Dropbox file or folder ("'+e+'"): '+t.message,Promise.reject(t)))}_getSharedLink(e){return n(this,void 0,void 0,(function*(){const t={body:{path:p(e),direct_only:!0}};return this._request("POST","https://api.dropbox.com/2/sharing/list_shared_links",t).then(e=>{if(200!==e.status&&409!==e.status)return Promise.reject(new Error("Invalid response status: "+e.status));let t;try{t=JSON.parse(e.responseText)}catch(t){return Promise.reject(new Error("Invalid response body: "+e.responseText))}return 409===e.status?Promise.reject(new Error("API error: "+e.error_summary)):t.links.length?Promise.resolve(t.links[0].url):Promise.reject(new Error("No links returned"))},t=>(t.message='Could not get link to a shared file or folder ("'+e+'"): '+t.message,Promise.reject(t)))}))}static _rs_init(e){d=l.localStorageAvailable(),e.apiKeys.dropbox&&(e.dropbox=new y(e)),"dropbox"===e.backend&&b(e)}static _rs_supported(){return!0}static _rs_cleanup(e){!function(e){(function(e){e._origRemote&&(e.remote=e._origRemote,delete e._origRemote)})(e),function(e){if(!e._dropboxOrigSync)return;e.sync.sync=e._dropboxOrigSync,delete e._dropboxOrigSync}(e),function(e){if(!e._origBaseClientGetItemURL)return;a.default.prototype.getItemURL=e._origBaseClientGetItemURL,delete e._origBaseClientGetItemURL}(e),_(e)}(e),d&&localStorage.removeItem(f),e.setBackend(void 0)}}function v(e,...t){e._dropboxOrigSync||(e._dropboxOrigSync=e.sync.sync.bind(e.sync),e.sync.sync=function(){return this.dropbox.fetchDelta(e,...t).then(e._dropboxOrigSync,(function(t){e._emit("error",new c.default(t)),e._emit("sync-done")}))}.bind(e))}function _(e){e._dropboxOrigSyncCycle&&(e.syncCycle=e._dropboxOrigSyncCycle,delete e._dropboxOrigSyncCycle)}function b(e){!function(e){e._origRemote||(e._origRemote=e.remote,e.remote=e.dropbox)}(e),e.sync?v(e):function(e,...t){e._dropboxOrigSyncCycle||(e._dropboxOrigSyncCycle=e.syncCycle,e.syncCycle=()=>{if(!e.sync)throw new Error("expected sync to be initialized by now");v(e),e._dropboxOrigSyncCycle(e,...t),_(e)})}(e),function(e){e._origBaseClientGetItemURL||(e._origBaseClientGetItemURL=a.default.prototype.getItemURL,a.default.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Dropbox yet")})}(e)}l.applyMixins(y,[i.default]),e.exports=y},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=n(r(27)),i=n(r(1)),s=r(0);let a,u;let c={};const h=function(e){return new Promise((t,r)=>{if(e in c)return t(c[e]);return new o.default({tls_only:!1,uri_fallback:!0,request_timeout:5e3}).lookup(e,(function(n,o){if(n)return r(n);if("object"!=typeof o.idx.links.remotestorage||"number"!=typeof o.idx.links.remotestorage.length||o.idx.links.remotestorage.length<=0)return i.default("[Discover] WebFinger record for "+e+" does not have remotestorage defined in the links section ",JSON.stringify(o.json)),r("WebFinger record for "+e+" does not have remotestorage defined in the links section.");const s=o.idx.links.remotestorage[0],a=s.properties["http://tools.ietf.org/html/rfc6749#section-4.2"]||s.properties["auth-endpoint"],h=s.properties["http://remotestorage.io/spec/version"]||s.type;return c[e]={href:s.href,storageApi:h,authURL:a,properties:s.properties},u&&(localStorage["remotestorage:discover"]=JSON.stringify({cache:c})),t(c[e])}))})};(h.DiscoveryError=function(e){this.name="DiscoveryError",this.message=e,this.stack=(new Error).stack}).prototype=Object.create(Error.prototype),h.DiscoveryError.prototype.constructor=h.DiscoveryError,h._rs_init=function(){if(u=s.localStorageAvailable(),u)try{const e=JSON.parse(localStorage["remotestorage:discover"]);c=e.cache}catch(e){}},h._rs_supported=function(){return a=Object.prototype.hasOwnProperty.call(s.globalContext,"XMLHttpRequest"),a},h._rs_cleanup=function(){u&&delete localStorage["remotestorage:discover"]},e.exports=h},function(e,t,r){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(r(2)),o=r(0);class i{constructor(){this.addEvents(["background","foreground"]),this.mode="undefined"!=typeof window?"browser":"node","browser"===this.mode&&(this.setBrowserPrefixedNames(),document.addEventListener(this.visibilityChangeEvent,this.setVisibility.bind(this),!1),this.setVisibility())}setBrowserPrefixedNames(){"browser"===this.mode&&(void 0!==document.hidden?(this.hiddenProperty="hidden",this.visibilityChangeEvent="visibilitychange"):void 0!==document.mozHidden?(this.hiddenProperty="mozHidden",this.visibilityChangeEvent="mozvisibilitychange"):void 0!==document.msHidden?(this.hiddenProperty="msHidden",this.visibilityChangeEvent="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hiddenProperty="webkitHidden",this.visibilityChangeEvent="webkitvisibilitychange"))}setVisibility(){document[this.hiddenProperty]?this.goBackground():this.goForeground()}isBrowser(){return"browser"===this.mode}isNode(){return"node"===this.mode}goBackground(){this._emit("background")}goForeground(){this._emit("foreground")}static _rs_init(){}static _rs_cleanup(){}}o.applyMixins(i,[n.default]),e.exports=i},function(e,t,r){e.exports=r(18)},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const a=s(r(3)),u=s(r(1)),c=r(0),h=s(r(11)),l=s(r(6)),d=s(r(7)),f=s(r(12)),p=s(r(2)),m=s(r(13)),g=s(r(14)),y=s(r(15)),v=s(r(9)),_=s(r(4)),b=s(r(29)),w=i(r(0)),P=c.getGlobalContext();let E;function T(e){return 403!==e.statusCode&&401!==e.statusCode||this._emit("error",new _.default),Promise.resolve(e)}function A(e){return"number"==typeof e&&e>1e3&&e<36e5}class R{constructor(e){this._pending=[],this._cleanups=[],this._pathHandlers={change:{}},this.apiKeys={},this._init=b.default.loadFeatures,this.features=b.default.features,this.loadFeature=b.default.loadFeature,this.featureSupported=b.default.featureSupported,this.featureDone=b.default.featureDone,this.featuresDone=b.default.featuresDone,this.featuresLoaded=b.default.featuresLoaded,this.featureInitialized=b.default.featureInitialized,this.featureFailed=b.default.featureFailed,this.hasFeature=b.default.hasFeature,this._setCachingModule=b.default._setCachingModule,this._collectCleanupFunctions=b.default._collectCleanupFunctions,this._fireReady=b.default._fireReady,this.initFeature=b.default.initFeature,"object"==typeof e&&c.extend(a.default,e),this.addEvents(["ready","authing","connecting","connected","disconnected","not-connected","conflict","error","features-loaded","sync-interval-change","sync-req-done","sync-done","wire-busy","wire-done","network-offline","network-online"]),this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")}),E=c.localStorageAvailable(),E&&(this.apiKeys=c.getJSONFromLocalStorage("remotestorage:api-keys")||{},this.setBackend(localStorage.getItem("remotestorage:backend")||"remotestorage"));const t=this.on;this.on=function(e,r){if(this._allLoaded)switch(e){case"features-loaded":setTimeout(r,0);break;case"ready":this.remote&&setTimeout(r,0);break;case"connected":this.remote&&this.remote.connected&&setTimeout(r,0);break;case"not-connected":this.remote&&!this.remote.connected&&setTimeout(r,0)}return t.call(this,e,r)},this._init(),this.fireInitial=function(){this.local&&setTimeout(this.local.fireInitial.bind(this.local),0)}.bind(this),this.on("ready",this.fireInitial.bind(this)),this.loadModules()}get connected(){return this.remote.connected}loadModules(){a.default.modules.forEach(this.addModule.bind(this))}authorize(e){this.access.setStorageType(this.remote.storageApi),void 0===e.scope&&(e.scope=this.access.scopeParameter),e.redirectUri=P.cordova?a.default.cordovaRedirectUri:String(l.default.getLocation()),void 0===e.clientId&&(e.clientId=e.redirectUri.match(/^(https?:\/\/[^/]+)/)[0]),l.default.authorize(this,e)}impliedauth(e,t){e=e||this.remote.storageApi,t=t||String(document.location),u.default("ImpliedAuth proceeding due to absent authURL; storageApi = "+e+" redirectUri = "+t),this.remote.configure({token:l.default.IMPLIED_FAKE_TOKEN}),document.location.href=t}connect(e,t){if(this.setBackend("remotestorage"),e.indexOf("@")<0)return void this._emit("error",new R.DiscoveryError("User address doesn't contain an @."));if(P.cordova){if("string"!=typeof a.default.cordovaRedirectUri)return void this._emit("error",new R.DiscoveryError("Please supply a custom HTTPS redirect URI for your Cordova app"));if(!P.cordova.InAppBrowser)return void this._emit("error",new R.DiscoveryError("Please include the InAppBrowser Cordova plugin to enable OAuth"))}this.remote.configure({userAddress:e}),this._emit("connecting");const r=setTimeout(()=>{this._emit("error",new R.DiscoveryError("No storage information found for this user address."))},a.default.discoveryTimeout);y.default(e).then(n=>{if(clearTimeout(r),this._emit("authing"),n.userAddress=e,this.remote.configure(n),!this.remote.connected)if(n.authURL)if(void 0===t)this.authorize({authURL:n.authURL});else{if("string"!=typeof t)throw new Error("Supplied bearer token must be a string");u.default("Skipping authorization sequence and connecting with known token"),this.remote.configure({token:t})}else this.impliedauth()},()=>{clearTimeout(r),this._emit("error",new R.DiscoveryError("No storage information found for this user address."))})}reconnect(){this.remote.configure({token:null}),"remotestorage"===this.backend?this.connect(this.remote.userAddress):this.remote.connect()}disconnect(){this.remote&&this.remote.configure({userAddress:null,href:null,storageApi:null,token:null,properties:null}),this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")});const e=this._cleanups.length;let t=0;const r=()=>{t++,t>=e&&(this._init(),this._emit("disconnected"))};e>0?this._cleanups.forEach(e=>{const t=e(this);"object"==typeof t&&"function"==typeof t.then?t.then(r):r()}):r()}setBackend(e){this.backend=e,E&&(e?localStorage.setItem("remotestorage:backend",e):localStorage.removeItem("remotestorage:backend"))}onChange(e,t){this._pathHandlers.change[e]||(this._pathHandlers.change[e]=[]),this._pathHandlers.change[e].push(t)}enableLog(){a.default.logging=!0}disableLog(){a.default.logging=!1}log(...e){u.default.apply(R,e)}setApiKeys(e){const t=["googledrive","dropbox"];if("object"!=typeof e||!Object.keys(e).every(e=>t.includes(e)))return console.error("setApiKeys() was called with invalid arguments"),!1;Object.keys(e).forEach(t=>{const r=e[t];if(r){switch(t){case"dropbox":this.apiKeys.dropbox={appKey:r},void 0!==this.dropbox&&this.dropbox.clientId===r||g.default._rs_init(this);break;case"googledrive":this.apiKeys.googledrive={clientId:r},void 0!==this.googledrive&&this.googledrive.clientId===r||m.default._rs_init(this)}return!0}delete this.apiKeys[t]}),E&&localStorage.setItem("remotestorage:api-keys",JSON.stringify(this.apiKeys))}setCordovaRedirectUri(e){if("string"!=typeof e||!e.match(/http(s)?:\/\//))throw new Error("Cordova redirect URI must be a URI string");a.default.cordovaRedirectUri=e}_setGPD(e,t){function r(e){return function(...r){return e.apply(t,r).then(T.bind(this))}}this.get=r(e.get),this.put=r(e.put),this.delete=r(e.delete)}_pendingGPD(e){return(...t)=>{const r=Array.prototype.slice.call(t);return new Promise((t,n)=>{this._pending.push({method:e,args:r,promise:{resolve:t,reject:n}})})}}_processPending(){this._pending.forEach(e=>{try{this[e.method](...e.args).then(e.promise.resolve,e.promise.reject)}catch(t){e.promise.reject(t)}}),this._pending=[]}_bindChange(e){e.on("change",this._dispatchEvent.bind(this,"change"))}_dispatchEvent(e,t){Object.keys(this._pathHandlers[e]).forEach(r=>{const n=r.length;t.path.substr(0,n)===r&&this._pathHandlers[e][r].forEach(e=>{const n={};for(const e in t)n[e]=t[e];n.relativePath=t.path.replace(new RegExp("^"+r),"");try{e(n)}catch(e){console.error("'change' handler failed: ",e,e.stack),this._emit("error",e)}})})}scope(e){if("string"!=typeof e)throw"Argument 'path' of baseClient.scope must be a string";if(!this.access.checkPathPermission(e,"r")){const t=e.replace(/(['\\])/g,"\\$1");console.warn("WARNING: please call remoteStorage.access.claim('"+t+"', 'r') (read only) or remoteStorage.access.claim('"+t+"', 'rw') (read/write) first")}return new d.default(this,e)}getSyncInterval(){return a.default.syncInterval}setSyncInterval(e){if(!A(e))throw e+" is not a valid sync interval";const t=a.default.syncInterval;a.default.syncInterval=e,this._emit("sync-interval-change",{oldValue:t,newValue:e})}getBackgroundSyncInterval(){return a.default.backgroundSyncInterval}setBackgroundSyncInterval(e){if(!A(e))throw e+" is not a valid sync interval";const t=a.default.backgroundSyncInterval;a.default.backgroundSyncInterval=e,this._emit("sync-interval-change",{oldValue:t,newValue:e})}getCurrentSyncInterval(){return a.default.isBackground?a.default.backgroundSyncInterval:a.default.syncInterval}getRequestTimeout(){return a.default.requestTimeout}setRequestTimeout(e){if("number"!=typeof e)throw e+" is not a valid request timeout";a.default.requestTimeout=e}syncCycle(){this.sync&&!this.sync.stopped&&(this.on("sync-done",()=>{this.sync&&!this.sync.stopped&&(this._syncTimer&&(clearTimeout(this._syncTimer),this._syncTimer=void 0),this._syncTimer=setTimeout(this.sync.sync.bind(this.sync),this.getCurrentSyncInterval()))}),this.sync.sync())}startSync(){return a.default.cache?(this.sync.stopped=!1,this.syncStopped=!1,this.sync.sync()):(console.warn("Nothing to sync, because caching is disabled."),Promise.resolve())}stopSync(){clearTimeout(this._syncTimer),this._syncTimer=void 0,this.sync?this.sync.stopped=!0:this.syncStopped=!0}addModule(e){const t=e.name,r=e.builder;if(Object.defineProperty(this,t,{configurable:!0,get:function(){const e=this._loadModule(t,r);return Object.defineProperty(this,t,{value:e}),e}}),-1!==t.indexOf("-")){const e=t.replace(/\-[a-z]/g,(function(e){return e[1].toUpperCase()}));Object.defineProperty(this,e,{get:function(){return this[t]}})}}_loadModule(e,t){if(t){return t(new d.default(this,"/"+e+"/"),new d.default(this,"/public/"+e+"/")).exports}throw"Unknown module: "+e}}R.Authorize=l.default,R.SyncError=v.default,R.Unauthorized=_.default,R.DiscoveryError=y.default.DiscoveryError,R.util=w,Object.defineProperty(R.prototype,"access",{get:function(){const e=new h.default;return Object.defineProperty(this,"access",{value:e}),e},configurable:!0}),Object.defineProperty(R.prototype,"caching",{configurable:!0,get:function(){const e=new f.default;return Object.defineProperty(this,"caching",{value:e}),e}}),c.applyMixins(R,[p.default]),e.exports=R},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(20),o=r(21),i=r(22);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),o=(e=a(e,n)).write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|f(t.length);return 0===(e=a(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(h(t),e=a(e,t<0?0:0|f(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|f(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return B(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return S(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,o){var i,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var h=-1;for(i=r;i<a;i++)if(c(e,i)===c(t,-1===h?0:i-h)){if(-1===h&&(h=i),i-h+1===u)return h*s}else-1!==h&&(i-=i-h),h=-1}else for(r+u>a&&(r=a-u),i=r;i>=0;i--){for(var l=!0,d=0;d<u;d++)if(c(e,i+d)!==c(t,d)){l=!1;break}if(l)return i}return-1}function _(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function b(e,t,r,n){return J(B(t,e.length-r),e,r,n)}function w(e,t,r,n){return J(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function P(e,t,r,n){return w(e,t,r,n)}function E(e,t,r,n){return J(q(t),e,r,n)}function T(e,t,r,n){return J(function(e,t){for(var r,n,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function R(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,s,a,u,c=e[o],h=null,l=c>239?4:c>223?3:c>191?2:1;if(o+l<=r)switch(l){case 1:c<128&&(h=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(h=u);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(h=u)}null===h?(h=65533,l=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),o+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return h(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var s=e[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,o),o+=s.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(i,s),c=this.slice(n,o),h=e.slice(t,r),l=0;l<a;++l)if(c[l]!==h[l]){i=c[l],s=h[l];break}return i<s?-1:s<i?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return P(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function k(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=L(e[i]);return o}function O(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function C(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function x(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function N(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function U(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(e,t,r,n,i){return i||U(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function F(e,t,r,n,i){return i||U(e,0,r,8),o.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;r=new u(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},u.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return j(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return j(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=u.isBuffer(e)?e:B(new u(e,n).toString()),a=s.length;for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function q(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function J(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(this,r(5))},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),s=n[0],a=n[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),h=0,l=a>0?s-4:s;for(r=0;r<l;r+=4)t=o[e.charCodeAt(r)]<<18|o[e.charCodeAt(r+1)]<<12|o[e.charCodeAt(r+2)]<<6|o[e.charCodeAt(r+3)],u[h++]=t>>16&255,u[h++]=t>>8&255,u[h++]=255&t;2===a&&(t=o[e.charCodeAt(r)]<<2|o[e.charCodeAt(r+1)]>>4,u[h++]=255&t);1===a&&(t=o[e.charCodeAt(r)]<<10|o[e.charCodeAt(r+1)]<<4|o[e.charCodeAt(r+2)]>>2,u[h++]=t>>8&255,u[h++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],s=0,a=r-o;s<a;s+=16383)i.push(h(e,s,s+16383>a?a:s+16383));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],o[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function h(e,t,r){for(var o,i,s=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,s,a=8*o-n-1,u=(1<<a)-1,c=u>>1,h=-7,l=r?o-1:0,d=r?-1:1,f=e[t+l];for(l+=d,i=f&(1<<-h)-1,f>>=-h,h+=a;h>0;i=256*i+e[t+l],l+=d,h-=8);for(s=i&(1<<-h)-1,i>>=-h,h+=n;h>0;s=256*s+e[t+l],l+=d,h-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),i-=c}return(f?-1:1)*s*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var s,a,u,c=8*i-o-1,h=(1<<c)-1,l=h>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?d/u:d*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(t*u-1)*Math.pow(2,o),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;e[r+f]=255&a,f+=p,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[r+f]=255&s,f+=p,s/=256,c-=8);e[r+f-p]|=128*m}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){var n,o,i;o=[],void 0===(i="function"==typeof(n=function(){var e,t,r,n;Object.keys||(Object.keys=(e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=(r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(o){if("object"!=typeof o&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on non-object");var i=[];for(var s in o)e.call(o,s)&&i.push(s);if(t)for(var a=0;a<n;a++)e.call(o,r[a])&&i.push(r[a]);return i})),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=0;if(arguments.length>1&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=r)return-1;for(var o=n>=0?n:Math.max(r-Math.abs(n),0);o<r;o++)if(o in t&&t[o]===e)return o;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(e){return!0}});var o={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},i={"*":!0};function s(e){return encodeURI(e).replace(/%25[0-9][0-9]/g,(function(e){return"%"+e.substring(3)}))}function a(e){var t="";o[e.charAt(0)]&&(t=e.charAt(0),e=e.substring(1));var r="",n="",a=!0,u=!1,c=!1;"+"===t?a=!1:"."===t?(n=".",r="."):"/"===t?(n="/",r="/"):"#"===t?(n="#",a=!1):";"===t?(n=";",r=";",u=!0,c=!0):"?"===t?(n="?",r="&",u=!0):"&"===t&&(n="&",r="&",u=!0);for(var h=[],l=e.split(","),d=[],f={},p=0;p<l.length;p++){var m=l[p],g=null;if(-1!==m.indexOf(":")){var y=m.split(":");m=y[0],g=parseInt(y[1],10)}for(var v={};i[m.charAt(m.length-1)];)v[m.charAt(m.length-1)]=!0,m=m.substring(0,m.length-1);var _={truncate:g,name:m,suffices:v};d.push(_),f[m]=_,h.push(m)}var b=function(e){for(var t="",o=0,i=0;i<d.length;i++){var h=d[i],l=e(h.name);if(null==l||Array.isArray(l)&&0===l.length||"object"==typeof l&&0===Object.keys(l).length)o++;else if(t+=i===o?n:r||",",Array.isArray(l)){u&&(t+=h.name+"=");for(var f=0;f<l.length;f++)f>0&&(t+=h.suffices["*"]&&r||",",h.suffices["*"]&&u&&(t+=h.name+"=")),t+=a?encodeURIComponent(l[f]).replace(/!/g,"%21"):s(l[f])}else if("object"==typeof l){u&&!h.suffices["*"]&&(t+=h.name+"=");var p=!0;for(var m in l)p||(t+=h.suffices["*"]&&r||","),p=!1,t+=a?encodeURIComponent(m).replace(/!/g,"%21"):s(m),t+=h.suffices["*"]?"=":",",t+=a?encodeURIComponent(l[m]).replace(/!/g,"%21"):s(l[m])}else u&&(t+=h.name,c&&""===l||(t+="=")),null!=h.truncate&&(l=l.substring(0,h.truncate)),t+=a?encodeURIComponent(l).replace(/!/g,"%21"):s(l)}return t};return b.varNames=h,{prefix:n,substitution:b}}function u(e){if(!(this instanceof u))return new u(e);for(var t=e.split("{"),r=[t.shift()],n=[],o=[],i=[];t.length>0;){var s=t.shift(),c=s.split("}")[0],h=s.substring(c.length+1),l=a(c);o.push(l.substitution),n.push(l.prefix),r.push(h),i=i.concat(l.substitution.varNames)}this.fill=function(e){for(var t=r[0],n=0;n<o.length;n++)t+=(0,o[n])(e),t+=r[n+1];return t},this.varNames=i,this.template=e}u.prototype={toString:function(){return this.template},fillFromObject:function(e){return this.fill((function(t){return e[t]}))}};var c=function(e,t,r,n,o){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,n&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),o&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorReporter=r||y("en"),"string"==typeof this.errorReporter)throw new Error("debug");if(this.definedKeywords={},e)for(var i in e.definedKeywords)this.definedKeywords[i]=e.definedKeywords[i].slice(0)};function h(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(Array.isArray(e)!==Array.isArray(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!h(e[r],t[r]))return!1}else{var n;for(n in e)if(void 0===t[n]&&void 0!==e[n])return!1;for(n in t)if(void 0===e[n]&&void 0!==t[n])return!1;for(n in e)if(!h(e[n],t[n]))return!1}return!0}return!1}c.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},c.prototype.createError=function(e,t,r,n,o,i,s){var a=new P(e,t,r,n,o);return a.message=this.errorReporter(a,i,s),a},c.prototype.returnError=function(e){return e},c.prototype.collectError=function(e){return e&&this.errors.push(e),null},c.prototype.prefixErrors=function(e,t,r){for(var n=e;n<this.errors.length;n++)this.errors[n]=this.errors[n].prefixWith(t,r);return this},c.prototype.banUnknownProperties=function(e,t){for(var r in this.unknownPropertyPaths){var n=this.createError(v.UNKNOWN_PROPERTY,{path:r},r,"",null,e,t),o=this.handleError(n);if(o)return o}return null},c.prototype.addFormat=function(e,t){if("object"==typeof e){for(var r in e)this.addFormat(r,e[r]);return this}this.formatValidators[e]=t},c.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if((t=t||{})[e.$ref])return this.createError(v.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","",null,void 0,e);t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},c.prototype.getSchema=function(e,t){var r;if(void 0!==this.schemas[e])return r=this.schemas[e],this.resolveRefs(r,t);var n=e,o="";if(-1!==e.indexOf("#")&&(o=e.substring(e.indexOf("#")+1),n=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[n]){r=this.schemas[n];var i=decodeURIComponent(o);if(""===i)return this.resolveRefs(r,t);if("/"!==i.charAt(0))return;for(var s=i.split("/").slice(1),a=0;a<s.length;a++){var u=s[a].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===r[u]){r=void 0;break}r=r[u]}if(void 0!==r)return this.resolveRefs(r,t)}void 0===this.missing[n]&&(this.missing.push(n),this.missing[n]=n,this.missingMap[n]=n)},c.prototype.searchSchemas=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.searchSchemas(e[r],t);else if(e&&"object"==typeof e)for(var n in"string"==typeof e.id&&function(e,t){if(t.substring(0,e.length)===e){var r=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===r.charAt(0)||"?"===r.charAt(0))return!0}return!1}(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e),e)if("enum"!==n)if("object"==typeof e[n])this.searchSchemas(e[n],t);else if("$ref"===n){var o=m(e[n]);o&&void 0===this.schemas[o]&&void 0===this.missingMap[o]&&(this.missingMap[o]=o)}},c.prototype.addSchema=function(e,t){if("string"!=typeof e||void 0===t){if("object"!=typeof e||"string"!=typeof e.id)return;e=(t=e).id}e===m(e)+"#"&&(e=m(e)),this.schemas[e]=t,delete this.missingMap[e],g(t,e),this.searchSchemas(t,e)},c.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},c.prototype.getSchemaUris=function(e){var t=[];for(var r in this.schemas)e&&!e.test(r)||t.push(r);return t},c.prototype.getMissingUris=function(e){var t=[];for(var r in this.missingMap)e&&!e.test(r)||t.push(r);return t},c.prototype.dropSchemas=function(){this.schemas={},this.reset()},c.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},c.prototype.validateAll=function(e,t,r,n,o){var i;if(!(t=this.resolveRefs(t)))return null;if(t instanceof P)return this.errors.push(t),t;var s,a=this.errors.length,u=null,c=null;if(this.checkRecursive&&e&&"object"==typeof e){if(i=!this.scanned.length,e[this.validatedSchemasKey]){var h=e[this.validatedSchemasKey].indexOf(t);if(-1!==h)return this.errors=this.errors.concat(e[this.validationErrorsKey][h]),null}if(Object.isFrozen(e)&&-1!==(s=this.scannedFrozen.indexOf(e))){var l=this.scannedFrozenSchemas[s].indexOf(t);if(-1!==l)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[s][l]),null}if(this.scanned.push(e),Object.isFrozen(e))-1===s&&(s=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),u=this.scannedFrozenSchemas[s].length,this.scannedFrozenSchemas[s][u]=t,this.scannedFrozenValidationErrors[s][u]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(t){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}c=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][c]=t,e[this.validationErrorsKey][c]=[]}}var d=this.errors.length,f=this.validateBasic(e,t,o)||this.validateNumeric(e,t,o)||this.validateString(e,t,o)||this.validateArray(e,t,o)||this.validateObject(e,t,o)||this.validateCombinations(e,t,o)||this.validateHypermedia(e,t,o)||this.validateFormat(e,t,o)||this.validateDefinedKeywords(e,t,o)||null;if(i){for(;this.scanned.length;)delete this.scanned.pop()[this.validatedSchemasKey];this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(f||d!==this.errors.length)for(;r&&r.length||n&&n.length;){var p=r&&r.length?""+r.pop():null,m=n&&n.length?""+n.pop():null;f&&(f=f.prefixWith(p,m)),this.prefixErrors(d,p,m)}return null!==u?this.scannedFrozenValidationErrors[s][u]=this.errors.slice(a):null!==c&&(e[this.validationErrorsKey][c]=this.errors.slice(a)),this.handleError(f)},c.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var r=this.formatValidators[t.format].call(null,e,t);return"string"==typeof r||"number"==typeof r?this.createError(v.FORMAT_CUSTOM,{message:r},"","/format",null,e,t):r&&"object"==typeof r?this.createError(v.FORMAT_CUSTOM,{message:r.message||"?"},r.dataPath||"",r.schemaPath||"/format",null,e,t):null},c.prototype.validateDefinedKeywords=function(e,t,r){for(var n in this.definedKeywords)if(void 0!==t[n])for(var o=this.definedKeywords[n],i=0;i<o.length;i++){var s=(0,o[i])(e,t[n],t,r);if("string"==typeof s||"number"==typeof s)return this.createError(v.KEYWORD_CUSTOM,{key:n,message:s},"","",null,e,t).prefixWith(null,n);if(s&&"object"==typeof s){var a=s.code;if("string"==typeof a){if(!v[a])throw new Error("Undefined error code (use defineError): "+a);a=v[a]}else"number"!=typeof a&&(a=v.KEYWORD_CUSTOM);var u="object"==typeof s.message?s.message:{key:n,message:s.message||"?"},c=s.schemaPath||"/"+n.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(a,u,s.dataPath||null,c,null,e,t)}}return null},c.prototype.validateBasic=function(e,t,r){var n;return(n=this.validateType(e,t,r))||(n=this.validateEnum(e,t,r))?n.prefixWith(null,"type"):null},c.prototype.validateType=function(e,t){if(void 0===t.type)return null;var r=typeof e;null===e?r="null":Array.isArray(e)&&(r="array");var n=t.type;Array.isArray(n)||(n=[n]);for(var o=0;o<n.length;o++){var i=n[o];if(i===r||"integer"===i&&"number"===r&&e%1==0)return null}return this.createError(v.INVALID_TYPE,{type:r,expected:n.join("/")},"","",null,e,t)},c.prototype.validateEnum=function(e,t){if(void 0===t.enum)return null;for(var r=0;r<t.enum.length;r++)if(h(e,t.enum[r]))return null;return this.createError(v.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(e):e},"","",null,e,t)},c.prototype.validateNumeric=function(e,t,r){return this.validateMultipleOf(e,t,r)||this.validateMinMax(e,t,r)||this.validateNaN(e,t,r)||null};var l=Math.pow(2,-51),d=1-l;function f(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function p(e,t){return t=f(t||""),e=f(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+(r=t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname,n=[],r.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,(function(e){"/.."===e?n.pop():n.push(e)})),n.join("").replace(/^\//,"/"===r.charAt(0)?"/":""))+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null;var r,n}function m(e){return e.split("#")[0]}function g(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=p(t,e.id),e.id=t),Array.isArray(e))for(var r=0;r<e.length;r++)g(e[r],t);else for(var n in"string"==typeof e.$ref&&(e.$ref=p(t,e.$ref)),e)"enum"!==n&&g(e[n],t)}function y(e){var t=E[e=e||"en"];return function(e){var r=t[e.code]||w[e.code];if("string"!=typeof r)return"Unknown error code "+e.code+": "+JSON.stringify(e.messageParams);var n=e.params;return r.replace(/\{([^{}]*)\}/g,(function(e,t){var r=n[t];return"string"==typeof r||"number"==typeof r?r:e}))}}c.prototype.validateMultipleOf=function(e,t){var r=t.multipleOf||t.divisibleBy;if(void 0===r)return null;if("number"==typeof e){var n=e/r%1;if(n>=l&&n<d)return this.createError(v.NUMBER_MULTIPLE_OF,{value:e,multipleOf:r},"","",null,e,t)}return null},c.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(v.NUMBER_MINIMUM,{value:e,minimum:t.minimum},"","/minimum",null,e,t);if(t.exclusiveMinimum&&e===t.minimum)return this.createError(v.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum},"","/exclusiveMinimum",null,e,t)}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(v.NUMBER_MAXIMUM,{value:e,maximum:t.maximum},"","/maximum",null,e,t);if(t.exclusiveMaximum&&e===t.maximum)return this.createError(v.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum},"","/exclusiveMaximum",null,e,t)}return null},c.prototype.validateNaN=function(e,t){return"number"!=typeof e?null:!0===isNaN(e)||e===1/0||e===-1/0?this.createError(v.NUMBER_NOT_A_NUMBER,{value:e},"","/type",null,e,t):null},c.prototype.validateString=function(e,t,r){return this.validateStringLength(e,t,r)||this.validateStringPattern(e,t,r)||null},c.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(v.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength},"","/minLength",null,e,t):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(v.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength},"","/maxLength",null,e,t):null},c.prototype.validateStringPattern=function(e,t){if("string"!=typeof e||"string"!=typeof t.pattern&&!(t.pattern instanceof RegExp))return null;var r;if(t.pattern instanceof RegExp)r=t.pattern;else{var n,o="",i=t.pattern.match(/^\/(.+)\/([img]*)$/);i?(n=i[1],o=i[2]):n=t.pattern,r=new RegExp(n,o)}return r.test(e)?null:this.createError(v.STRING_PATTERN,{pattern:t.pattern},"","/pattern",null,e,t)},c.prototype.validateArray=function(e,t,r){return Array.isArray(e)&&(this.validateArrayLength(e,t,r)||this.validateArrayUniqueItems(e,t,r)||this.validateArrayItems(e,t,r))||null},c.prototype.validateArrayLength=function(e,t){var r;return void 0!==t.minItems&&e.length<t.minItems&&(r=this.createError(v.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems},"","/minItems",null,e,t),this.handleError(r))||void 0!==t.maxItems&&e.length>t.maxItems&&(r=this.createError(v.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems},"","/maxItems",null,e,t),this.handleError(r))?r:null},c.prototype.validateArrayUniqueItems=function(e,t){if(t.uniqueItems)for(var r=0;r<e.length;r++)for(var n=r+1;n<e.length;n++)if(h(e[r],e[n])){var o=this.createError(v.ARRAY_UNIQUE,{match1:r,match2:n},"","/uniqueItems",null,e,t);if(this.handleError(o))return o}return null},c.prototype.validateArrayItems=function(e,t,r){if(void 0===t.items)return null;var n,o;if(Array.isArray(t.items)){for(o=0;o<e.length;o++)if(o<t.items.length){if(n=this.validateAll(e[o],t.items[o],[o],["items",o],r+"/"+o))return n}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(n=this.createError(v.ARRAY_ADDITIONAL_ITEMS,{},"/"+o,"/additionalItems",null,e,t),this.handleError(n)))return n}else if(n=this.validateAll(e[o],t.additionalItems,[o],["additionalItems"],r+"/"+o))return n}else for(o=0;o<e.length;o++)if(n=this.validateAll(e[o],t.items,[o],["items"],r+"/"+o))return n;return null},c.prototype.validateObject=function(e,t,r){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,r)||this.validateObjectRequiredProperties(e,t,r)||this.validateObjectProperties(e,t,r)||this.validateObjectDependencies(e,t,r)||null},c.prototype.validateObjectMinMaxProperties=function(e,t){var r,n=Object.keys(e);return void 0!==t.minProperties&&n.length<t.minProperties&&(r=this.createError(v.OBJECT_PROPERTIES_MINIMUM,{propertyCount:n.length,minimum:t.minProperties},"","/minProperties",null,e,t),this.handleError(r))||void 0!==t.maxProperties&&n.length>t.maxProperties&&(r=this.createError(v.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:n.length,maximum:t.maxProperties},"","/maxProperties",null,e,t),this.handleError(r))?r:null},c.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var r=0;r<t.required.length;r++){var n=t.required[r];if(void 0===e[n]){var o=this.createError(v.OBJECT_REQUIRED,{key:n},"","/required/"+r,null,e,t);if(this.handleError(o))return o}}return null},c.prototype.validateObjectProperties=function(e,t,r){var n;for(var o in e){var i=r+"/"+o.replace(/~/g,"~0").replace(/\//g,"~1"),s=!1;if(void 0!==t.properties&&void 0!==t.properties[o]&&(s=!0,n=this.validateAll(e[o],t.properties[o],[o],["properties",o],i)))return n;if(void 0!==t.patternProperties)for(var a in t.patternProperties)if(new RegExp(a).test(o)&&(s=!0,n=this.validateAll(e[o],t.patternProperties[a],[o],["patternProperties",a],i)))return n;if(s)this.trackUnknownProperties&&(this.knownPropertyPaths[i]=!0,delete this.unknownPropertyPaths[i]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[i]=!0,delete this.unknownPropertyPaths[i]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(n=this.createError(v.OBJECT_ADDITIONAL_PROPERTIES,{key:o},"","/additionalProperties",null,e,t).prefixWith(o,null),this.handleError(n)))return n}else if(n=this.validateAll(e[o],t.additionalProperties,[o],["additionalProperties"],i))return n}else this.trackUnknownProperties&&!this.knownPropertyPaths[i]&&(this.unknownPropertyPaths[i]=!0)}return null},c.prototype.validateObjectDependencies=function(e,t,r){var n;if(void 0!==t.dependencies)for(var o in t.dependencies)if(void 0!==e[o]){var i=t.dependencies[o];if("string"==typeof i){if(void 0===e[i]&&(n=this.createError(v.OBJECT_DEPENDENCY_KEY,{key:o,missing:i},"","",null,e,t).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(Array.isArray(i))for(var s=0;s<i.length;s++){var a=i[s];if(void 0===e[a]&&(n=this.createError(v.OBJECT_DEPENDENCY_KEY,{key:o,missing:a},"","/"+s,null,e,t).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(n=this.validateAll(e,i,[],["dependencies",o],r))return n}return null},c.prototype.validateCombinations=function(e,t,r){return this.validateAllOf(e,t,r)||this.validateAnyOf(e,t,r)||this.validateOneOf(e,t,r)||this.validateNot(e,t,r)||null},c.prototype.validateAllOf=function(e,t,r){if(void 0===t.allOf)return null;for(var n,o=0;o<t.allOf.length;o++){var i=t.allOf[o];if(n=this.validateAll(e,i,[],["allOf",o],r))return n}return null},c.prototype.validateAnyOf=function(e,t,r){if(void 0===t.anyOf)return null;var n,o,i=[],s=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var a=!0,u=0;u<t.anyOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=t.anyOf[u],h=this.errors.length,l=this.validateAll(e,c,[],["anyOf",u],r);if(null===l&&h===this.errors.length){if(this.errors=this.errors.slice(0,s),this.trackUnknownProperties){for(var d in this.knownPropertyPaths)o[d]=!0,delete n[d];for(var f in this.unknownPropertyPaths)o[f]||(n[f]=!0);a=!1;continue}return null}l&&i.push(l.prefixWith(null,""+u).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),a?(i=i.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(v.ANY_OF_MISSING,{},"","/anyOf",i,e,t)):void 0},c.prototype.validateOneOf=function(e,t,r){if(void 0===t.oneOf)return null;var n,o,i=null,s=[],a=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var u=0;u<t.oneOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=t.oneOf[u],h=this.errors.length,l=this.validateAll(e,c,[],["oneOf",u],r);if(null===l&&h===this.errors.length){if(null!==i)return this.errors=this.errors.slice(0,a),this.createError(v.ONE_OF_MULTIPLE,{index1:i,index2:u},"","/oneOf",null,e,t);if(i=u,this.trackUnknownProperties){for(var d in this.knownPropertyPaths)o[d]=!0,delete n[d];for(var f in this.unknownPropertyPaths)o[f]||(n[f]=!0)}}else l&&s.push(l)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),null===i?(s=s.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(v.ONE_OF_MISSING,{},"","/oneOf",s,e,t)):(this.errors=this.errors.slice(0,a),null)},c.prototype.validateNot=function(e,t,r){if(void 0===t.not)return null;var n,o,i=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var s=this.validateAll(e,t.not,null,null,r),a=this.errors.slice(i);return this.errors=this.errors.slice(0,i),this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),null===s&&0===a.length?this.createError(v.NOT_PASSED,{},"","/not",null,e,t):null},c.prototype.validateHypermedia=function(e,t,r){if(!t.links)return null;for(var n,o=0;o<t.links.length;o++){var i=t.links[o];if("describedby"===i.rel){for(var s=new u(i.href),a=!0,c=0;c<s.varNames.length;c++)if(!(s.varNames[c]in e)){a=!1;break}if(a){var h={$ref:s.fillFromObject(e)};if(n=this.validateAll(e,h,[],["links",o],r))return n}}}};var v={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},_={};for(var b in v)_[v[b]]=b;var w={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};function P(e,t,r,n,o){if(Error.call(this),void 0===e)throw new Error("No error code supplied: "+n);this.message="",this.params=t,this.code=e,this.dataPath=r||"",this.schemaPath=n||"",this.subErrors=o||null;var i=new Error(this.message);if(this.stack=i.stack||i.stacktrace,!this.stack)try{throw i}catch(i){this.stack=i.stack||i.stacktrace}}P.prototype=Object.create(Error.prototype),P.prototype.constructor=P,P.prototype.name="ValidationError",P.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var r=0;r<this.subErrors.length;r++)this.subErrors[r].prefixWith(e,t);return this};var E={},T=function e(t){var r,n,o=new c,i={setErrorReporter:function(e){return"string"==typeof e?this.language(e):(n=e,!0)},addFormat:function(){o.addFormat.apply(o,arguments)},language:function(e){return e?(E[e]||(e=e.split("-")[0]),!!E[e]&&(r=e,e)):r},addLanguage:function(e,t){var r;for(r in v)t[r]&&!t[v[r]]&&(t[v[r]]=t[r]);var n=e.split("-")[0];if(E[n])for(r in E[e]=Object.create(E[n]),t)void 0===E[n][r]&&(E[n][r]=t[r]),E[e][r]=t[r];else E[e]=t,E[n]=t;return this},freshApi:function(t){var r=e();return t&&r.language(t),r},validate:function(e,t,i,s){var a=y(r),u=new c(o,!1,n?function(e,t,r){return n(e,t,r)||a(e,t,r)}:a,i,s);"string"==typeof t&&(t={$ref:t}),u.addSchema("",t);var h=u.validateAll(e,t,null,null,"");return!h&&s&&(h=u.banUnknownProperties(e,t)),this.error=h,this.missing=u.missing,this.valid=null===h,this.valid},validateResult:function(){var e={toString:function(){return this.valid?"valid":this.error.message}};return this.validate.apply(e,arguments),e},validateMultiple:function(e,t,i,s){var a=y(r),u=new c(o,!0,n?function(e,t,r){return n(e,t,r)||a(e,t,r)}:a,i,s);"string"==typeof t&&(t={$ref:t}),u.addSchema("",t),u.validateAll(e,t,null,null,""),s&&u.banUnknownProperties(e,t);var h={toString:function(){return this.valid?"valid":this.error.message}};return h.errors=u.errors,h.missing=u.missing,h.valid=0===h.errors.length,h},addSchema:function(){return o.addSchema.apply(o,arguments)},getSchema:function(){return o.getSchema.apply(o,arguments)},getSchemaMap:function(){return o.getSchemaMap.apply(o,arguments)},getSchemaUris:function(){return o.getSchemaUris.apply(o,arguments)},getMissingUris:function(){return o.getMissingUris.apply(o,arguments)},dropSchemas:function(){o.dropSchemas.apply(o,arguments)},defineKeyword:function(){o.defineKeyword.apply(o,arguments)},defineError:function(e,t,r){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!=0||t<1e4)throw new Error("Code number must be an integer > 10000");if(void 0!==v[e])throw new Error("Error already defined: "+e+" as "+v[e]);if(void 0!==_[t])throw new Error("Error code already used: "+_[t]+" as "+t);for(var n in v[e]=t,_[t]=e,w[e]=w[t]=r,E){var o=E[n];o[e]&&(o[t]=o[t]||o[e])}},reset:function(){o.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:g,resolveUrl:p,getDocumentUri:m,errorCodes:v};return i.language(t||"en"),i}();return T.addLanguage("en-gb",w),T.tv4=T,T})?n.apply(t,o):n)||(e.exports=i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseClientTypes=void 0;class n{constructor(){this.uris={},this.schemas={},this.aliases={}}declare(e,t,r,n){const o=e+"/"+t;if(n.extends){const t=n.extends.split("/"),r=1===t.length?e+"/"+t.shift():t.join("/"),i=this.uris[r];if(!i)throw"Type '"+o+"' tries to extend unknown schema '"+r+"'";n.extends=this.schemas[i]}this.uris[o]=r,this.aliases[r]=o,this.schemas[r]=n}resolveAlias(e){return this.uris[e]}getSchema(e){return this.schemas[e]}inScope(e){const t=e.length,r={};for(const n in this.uris)if(n.substr(0,t+1)===e+"/"){const e=this.uris[n];r[e]=this.schemas[e]}return r}}t.BaseClientTypes=n;const o=new n;t.default=o},function(e,t,r){"use strict";class n extends Error{constructor(e){super();const t=new Error("Schema not found: "+e);return t.name="SchemaNotFound",t}}e.exports=n},function(e,t,r){"use strict";e.exports=class{constructor(e){this._itemsRev={},this._storage={},this._canPropagate=!1,this.defaultValue=e,this.activatePropagation()}get(e){e=e.toLowerCase();let t=this._storage[e];return void 0===t&&(t=this.defaultValue,this._storage[e]=t),t}set(e,t){return e=e.toLowerCase(),this._storage[e]===t||(this._storage[e]=t,t||delete this._itemsRev[e],this._updateParentFolderItemRev(e,t),this._canPropagate&&this._propagate(e)),t}delete(e){return this.set(e,null)}deactivatePropagation(){return this._canPropagate=!1,!0}activatePropagation(){return this._canPropagate||(this._generateFolderRev("/"),this._canPropagate=!0),!0}_hashCode(e){let t=0;if(0===e.length)return t;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t|=0}return t}_generateHash(e){const t=e.sort().join("|");return""+this._hashCode(t)}_updateParentFolderItemRev(e,t){if("/"!==e){const r=this._getParentFolder(e);this._itemsRev[r]||(this._itemsRev[r]={});const n=this._itemsRev[r];t?n[e]=t:delete n[e],this._updateParentFolderItemRev(r,this.defaultValue)}}_getParentFolder(e){return e.substr(0,e.lastIndexOf("/",e.length-2)+1)}_propagate(e){if("/"!==e){const t=this._getParentFolder(e),r=this._itemsRev[t],n=[];for(const e in r)n.push(r[e]);const o=this._generateHash(n);this.set(t,o)}}_generateFolderRev(e){const t=this._itemsRev[e];let r=this.defaultValue;if(t){const e=[];for(const r in t){let n;n="/"===r.substr(-1)?this._generateFolderRev(r):t[r],e.push(n)}e.length>0&&(r=this._generateHash(e))}return this.set(e,r),r}}},function(e,t,r){var n;
/*!
 * webfinger.js
 *   version 2.7.0
 *   http://github.com/silverbucket/webfinger.js
 *
 * Developed and Maintained by:
 *   Nick Jennings <nick@silverbucket.net> 2012
 *
 * webfinger.js is released under the AGPL (see LICENSE).
 *
 * You don't have to do anything special to choose one license or the other and you don't
 * have to notify anyone which license you are using.
 * Please see the corresponding license file for details of these licenses.
 * You are free to use, modify and distribute this software, but all copyright
 * information must remain.
 *
 */"function"!=typeof fetch&&"function"!=typeof XMLHttpRequest&&(XMLHttpRequest=r(28)),function(r){var o={"http://webfist.org/spec/rel":"webfist","http://webfinger.net/rel/avatar":"avatar",remotestorage:"remotestorage","http://tools.ietf.org/id/draft-dejong-remotestorage":"remotestorage",remoteStorage:"remotestorage","http://www.packetizer.com/rel/share":"share","http://webfinger.net/rel/profile-page":"profile",me:"profile",vcard:"vcard",blog:"blog","http://packetizer.com/rel/blog":"blog","http://schemas.google.com/g/2010#updates-from":"updates","https://camlistore.org/rel/server":"camilstore"},i={avatar:[],remotestorage:[],blog:[],vcard:[],updates:[],share:[],profile:[],webfist:[],camlistore:[]},s=["webfinger","host-meta","host-meta.json"];function a(e){return e.toString=function(){return this.message},e}function u(e){"object"!=typeof e&&(e={}),this.config={tls_only:void 0===e.tls_only||e.tls_only,webfist_fallback:void 0!==e.webfist_fallback&&e.webfist_fallback,uri_fallback:void 0!==e.uri_fallback&&e.uri_fallback,request_timeout:void 0!==e.request_timeout?e.request_timeout:1e4}}u.prototype.__fetchJRD=function(e,t,r){if("function"==typeof fetch)return this.__fetchJRD_fetch(e,t,r);if("function"==typeof XMLHttpRequest)return this.__fetchJRD_XHR(e,t,r);throw new Error("add a polyfill for fetch or XMLHttpRequest")},u.prototype.__fetchJRD_fetch=function(e,t,r){var n,o=this;"function"==typeof AbortController&&(n=new AbortController);var i=fetch(e,{headers:{Accept:"application/jrd+json, application/json"},signal:n?n.signal:void 0}).then((function(t){if(t.ok)return t.text();throw 404===t.status?a({message:"resource not found",url:e,status:t.status}):a({message:"error during request",url:e,status:t.status})}),(function(t){throw a({message:"error during request",url:e,status:void 0,err:t})})).then((function(t){if(o.__isValidJSON(t))return t;throw a({message:"invalid json",url:e,status:void 0})})),s=new Promise((function(t,r){setTimeout((function(){r(a({message:"request timed out",url:e,status:void 0})),n&&n.abort()}),o.config.request_timeout)}));Promise.race([i,s]).then((function(e){r(e)})).catch((function(e){t(e)}))},u.prototype.__fetchJRD_XHR=function(e,t,r){var n=this,o=!1,i=new XMLHttpRequest;function s(){if(!o){if(o=!0,200===i.status)return n.__isValidJSON(i.responseText)?r(i.responseText):t(a({message:"invalid json",url:e,status:i.status}));if(404===i.status)return t(a({message:"resource not found",url:e,status:i.status}));if(i.status>=301&&i.status<=302){var s=i.getResponseHeader("Location");return function(e){return"string"==typeof e&&"https"===e.split("://")[0]}(s)?u():t(a({message:"no redirect URL found",url:e,status:i.status}))}return t(a({message:"error during request",url:e,status:i.status}))}}function u(){i.onreadystatechange=function(){4===i.readyState&&s()},i.onload=function(){s()},i.ontimeout=function(){return t(a({message:"request timed out",url:e,status:i.status}))},i.open("GET",e,!0),i.timeout=n.config.request_timeout,i.setRequestHeader("Accept","application/jrd+json, application/json"),i.send()}return u()},u.prototype.__isValidJSON=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},u.prototype.__isLocalhost=function(e){return/^localhost(\.localdomain)?(\:[0-9]+)?$/.test(e)},u.prototype.__processJRD=function(e,t,r,n){var s=JSON.parse(t);if("object"!=typeof s||"object"!=typeof s.links)return void 0!==s.error?r(a({message:s.error,request:e})):r(a({message:"unknown response from server",request:e}));var u=s.links;Array.isArray(u)||(u=[]);var c={object:s,json:t,idx:{}};c.idx.properties={name:void 0},c.idx.links=JSON.parse(JSON.stringify(i)),u.map((function(e,t){if(o.hasOwnProperty(e.rel)&&c.idx.links[o[e.rel]]){var r={};Object.keys(e).map((function(t,n){r[t]=e[t]})),c.idx.links[o[e.rel]].push(r)}}));var h=JSON.parse(t).properties;for(var l in h)h.hasOwnProperty(l)&&"http://packetizer.com/ns/name"===l&&(c.idx.properties.name=h[l]);return n(c)},u.prototype.lookup=function(e,t){if("string"!=typeof e)throw new Error("first parameter must be a user address");if("function"!=typeof t)throw new Error("second parameter must be a callback");var r=this,n="";n=e.indexOf("://")>-1?e.replace(/ /g,"").split("/")[2]:e.replace(/ /g,"").split("@")[1];var o=0,i="https";function a(){var t="";return e.split("://")[1]||(t="acct:"),i+"://"+n+"/.well-known/"+s[o]+"?resource="+t+e}function u(e){if(r.config.uri_fallback&&"webfist.org"!==n&&o!==s.length-1)return o+=1,c();if(!r.config.tls_only&&"https"===i)return o=0,i="http",c();if(!r.config.webfist_fallback||"webfist.org"===n)return t(e);o=0,i="http",n="webfist.org";var u=a();r.__fetchJRD(u,t,(function(e){r.__processJRD(u,e,t,(function(e){"object"==typeof e.idx.links.webfist&&"string"==typeof e.idx.links.webfist[0].href&&r.__fetchJRD(e.idx.links.webfist[0].href,t,(function(e){r.__processJRD(u,e,t,(function(e){return t(null,t)}))}))}))}))}function c(){var e=a();r.__fetchJRD(e,u,(function(n){r.__processJRD(e,n,t,(function(e){t(null,e)}))}))}return r.__isLocalhost(n)&&(i="http"),setTimeout(c,0)},u.prototype.lookupLink=function(e,t,r){if(!i.hasOwnProperty(t))return r("unsupported rel "+t);this.lookup(e,(function(e,n){var o=n.idx.links[t];return e?r(e):0===o.length?r('no links found with rel="'+t+'"'):r(null,o[0])}))},void 0===(n=function(){return u}.apply(t,[]))||(e.exports=n)}()},function(e,t){e.exports=XMLHttpRequest},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=n(r(3)),i=n(r(16)),s=n(r(1)),a=r(0),u=n(r(30)),c=n(r(11)),h=n(r(6)),l=n(r(15)),d=n(r(7)),f=n(r(13)),p=n(r(14)),m=n(r(8)),g=n(r(31)),y=n(r(12)),v=n(r(32)),_=n(r(33)),b=n(r(34)),w={features:[],featuresDone:0,readyFired:!1,loadFeatures(){this.features=[],this.featuresDone=0,this.readyFired=!1,this.featureModules={WireClient:m.default,Dropbox:p.default,GoogleDrive:f.default,Access:c.default,Discover:l.default,Authorize:h.default,BaseClient:d.default,Env:i.default},o.default.cache&&a.extend(this.featureModules,{Caching:y.default,IndexedDB:v.default,LocalStorage:_.default,InMemoryStorage:b.default,Sync:g.default}),o.default.disableFeatures.forEach(e=>{this.featureModules[e]&&delete this.featureModules[e]}),this._allLoaded=!1;for(const e in this.featureModules)this.loadFeature(e)},hasFeature(e){for(let t=this.features.length-1;t>=0;t--)if(this.features[t].name===e)return this.features[t].supported;return!1},loadFeature(e){const t=this.featureModules[e],r=!t._rs_supported||t._rs_supported();s.default(`[RemoteStorage] [FEATURE ${e}] initializing ...`),"object"==typeof r?r.then(()=>{this.featureSupported(e,!0),this.initFeature(e)},()=>{this.featureSupported(e,!1)}):"boolean"==typeof r?(this.featureSupported(e,r),r&&this.initFeature(e)):this.featureSupported(e,!1)},initFeature(e){const t=this.featureModules[e];let r;try{r=t._rs_init(this)}catch(t){return void this.featureFailed(e,t)}"object"==typeof r&&"function"==typeof r.then?r.then(()=>{this.featureInitialized(e)},t=>{this.featureFailed(e,t)}):this.featureInitialized(e)},featureFailed(e,t){s.default(`[RemoteStorage] [FEATURE ${e}] initialization failed (${t})`),this.featureDone()},featureSupported(e,t){s.default(`[RemoteStorage] [FEATURE ${e}]${t?"":"not "} supported`),t||this.featureDone()},featureInitialized(e){s.default(`[RemoteStorage] [FEATURE ${e}] initialized`),this.features.push({name:e,init:this.featureModules[e]._rs_init,supported:!0,cleanup:this.featureModules[e]._rs_cleanup}),this.featureDone()},featureDone(){this.featuresDone++,this.featuresDone===Object.keys(this.featureModules).length&&setTimeout(this.featuresLoaded.bind(this),0)},_setCachingModule(){["IndexedDB","LocalStorage","InMemoryStorage"].some(e=>{if(this.features.some(t=>t.name===e))return this.features.local=this.featureModules[e],!0})},_fireReady(){try{this.readyFired||(this._emit("ready"),this.readyFired=!0)}catch(e){console.error("'ready' failed: ",e,e.stack),this._emit("error",e)}},featuresLoaded(){s.default("[RemoteStorage] All features loaded"),this._setCachingModule(),this.local=o.default.cache&&this.features.local&&new this.features.local,this.local&&this.remote?(this._setGPD(u.default,this),this._bindChange(this.local)):this.remote&&this._setGPD(this.remote,this.remote),this.remote&&(this.remote.on("connected",()=>{this._fireReady(),this._emit("connected")}),this.remote.on("not-connected",()=>{this._fireReady(),this._emit("not-connected")}),this.remote.connected&&(this._fireReady(),this._emit("connected")),this.hasFeature("Authorize")||this.remote.stopWaitingForToken()),this._collectCleanupFunctions();try{this._allLoaded=!0,this._emit("features-loaded")}catch(e){a.logError(e),this._emit("error",e)}this._processPending()},_collectCleanupFunctions(){this._cleanups=[];for(let e=0;e<this.features.length;e++){const t=this.features[e].cleanup;"function"==typeof t&&this._cleanups.push(t)}}};e.exports=w},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const o=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(r(1));function i(e){return"dropbox"===this.backend&&!!e.match(/^\/public\/.*[^\/]$/)}const s={get:function(e,t){if(this.local){if(void 0===t)t="object"==typeof(r=this).remote&&r.remote.connected&&r.remote.online?2*r.getSyncInterval():(o.default("Not setting default maxAge, because remote is offline or not connected"),!1);else if("number"!=typeof t&&!1!==t)return Promise.reject("Argument 'maxAge' must be 'false' or a number");return this.local.get(e,t,this.sync.queueGetRequest.bind(this.sync))}return this.remote.get(e);var r},put:function(e,t,r){return i.bind(this)(e)?s._wrapBusyDone.call(this,this.remote.put(e,t,r)):this.local?this.local.put(e,t,r):s._wrapBusyDone.call(this,this.remote.put(e,t,r))},delete:function(e){return this.local?this.local.delete(e):s._wrapBusyDone.call(this,this.remote.delete(e))},_wrapBusyDone:function(e){return n(this,void 0,void 0,(function*(){return this._emit("wire-busy"),e.then(e=>(this._emit("wire-done",{success:!0}),Promise.resolve(e)),e=>(this._emit("wire-done",{success:!1}),Promise.reject(e)))}))}};e.exports=s},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const i=o(r(3)),s=o(r(16)),a=o(r(2)),u=o(r(1)),c=o(r(6)),h=o(r(9)),l=o(r(4)),d=r(0);let f,p;function m(e,t,r){return{action:e,path:t,promise:r}}function g(e,t){return e.common.revision!==t&&(!e.remote||e.remote.revision!==t)}function y(e){return e.common&&e.common.revision}class v{constructor(e){this.rs=e,this._tasks={},this._running={},this._timeStarted={},this.numThreads=10,this.rs.local.onDiff(e=>{this.addTask(e),this.doTasks()}),this.rs.caching.onActivate(e=>{this.addTask(e),this.doTasks()}),this.addEvents(["done","req-done"])}now(){return(new Date).getTime()}queueGetRequest(e){return new Promise((t,r)=>{this.rs.remote.connected?this.rs.remote.online?(this.addTask(e,function(){this.rs.local.get(e).then(e=>t(e))}.bind(this)),this.doTasks()):r("cannot fulfill maxAge requirement - remote is not online"):r("cannot fulfill maxAge requirement - remote is not connected")})}corruptServerItemsMap(e,t){if("object"!=typeof e||Array.isArray(e))return!0;for(const r in e){const n=e[r];if("object"!=typeof n)return!0;if("string"!=typeof n.ETag)return!0;if(d.isFolder(r)){if(-1!==r.substring(0,r.length-1).indexOf("/"))return!0}else{if(-1!==r.indexOf("/"))return!0;if(t){if("string"!=typeof n["Content-Type"])return!0;if("number"!=typeof n["Content-Length"])return!0}}}return!1}corruptItemsMap(e){if("object"!=typeof e||Array.isArray(e))return!0;for(const t in e)if("boolean"!=typeof e[t])return!0;return!1}corruptRevision(e){return"object"!=typeof e||Array.isArray(e)||e.revision&&"string"!=typeof e.revision||e.body&&"string"!=typeof e.body&&"object"!=typeof e.body||e.contentType&&"string"!=typeof e.contentType||e.contentLength&&"number"!=typeof e.contentLength||e.timestamp&&"number"!=typeof e.timestamp||e.itemsMap&&this.corruptItemsMap(e.itemsMap)}isCorrupt(e){return"object"!=typeof e||Array.isArray(e)||"string"!=typeof e.path||this.corruptRevision(e.common)||e.local&&this.corruptRevision(e.local)||e.remote&&this.corruptRevision(e.remote)||e.push&&this.corruptRevision(e.push)}hasTasks(){return Object.getOwnPropertyNames(this._tasks).length>0}collectDiffTasks(){return n(this,void 0,void 0,(function*(){let e=0;return this.rs.local.forAllNodes(t=>{e>100||(this.isCorrupt(t)?(u.default("[Sync] WARNING: corrupt node in local cache",t),"object"==typeof t&&t.path&&(this.addTask(t.path),e++)):(this.needsFetch(t)&&this.rs.access.checkPathPermission(t.path,"r")||d.isDocument(t.path)&&this.needsPush(t)&&this.rs.access.checkPathPermission(t.path,"rw"))&&(this.addTask(t.path),e++))}).then(()=>e).catch(e=>{throw e})}))}inConflict(e){return e.local&&e.remote&&(void 0!==e.remote.body||e.remote.itemsMap)}needsRefresh(e){return!!e.common&&(!e.common.timestamp||this.now()-e.common.timestamp>i.default.syncInterval)}needsFetch(e){return!!this.inConflict(e)||(!(!e.common||void 0!==e.common.itemsMap||void 0!==e.common.body)||!(!e.remote||void 0!==e.remote.itemsMap||void 0!==e.remote.body))}needsPush(e){return!this.inConflict(e)&&(!(!e.local||e.push)||void 0)}needsRemotePut(e){return e.local&&e.local.body}needsRemoteDelete(e){return e.local&&!1===e.local.body}getParentPath(e){const t=e.match(/^(.*\/)([^\/]+\/?)$/);if(t)return t[1];throw new Error('Not a valid path: "'+e+'"')}deleteChildPathsFromTasks(){for(const e in this._tasks){const t=d.pathsFromRoot(e);for(let r=1;r<t.length;r++)this._tasks[t[r]]&&(Array.isArray(this._tasks[e])&&this._tasks[e].length&&Array.prototype.push.apply(this._tasks[t[r]],this._tasks[e]),delete this._tasks[e])}}collectRefreshTasks(){return n(this,void 0,void 0,(function*(){return this.rs.local.forAllNodes(e=>{let t;if(this.needsRefresh(e)){try{t=this.getParentPath(e.path)}catch(e){}t&&this.rs.access.checkPathPermission(t,"r")?this.addTask(t):this.rs.access.checkPathPermission(e.path,"r")&&this.addTask(e.path)}}).then(()=>this.deleteChildPathsFromTasks()).catch(e=>{throw e})}))}flush(e){for(const t in e)"FLUSH"===this.rs.caching.checkPath(t)&&e[t]&&!e[t].local&&(u.default("[Sync] Flushing",t),e[t]=void 0);return e}doTask(e){return this.rs.local.getNodes([e]).then(t=>{const r=t[e];return void 0===r||function(e){return e.remote&&e.remote.revision&&!e.remote.itemsMap&&!e.remote.body}(r)?m("get",e,this.rs.remote.get(e)):this.needsRemotePut(r)?(r.push=d.deepClone(r.local),r.push.timestamp=this.now(),this.rs.local.setNodes(this.flush(t)).then(()=>{let t;return t=y(r)?{ifMatch:r.common.revision}:{ifNoneMatch:"*"},m("put",e,this.rs.remote.put(e,r.push.body,r.push.contentType,t))})):this.needsRemoteDelete(r)?(r.push={body:!1,timestamp:this.now()},this.rs.local.setNodes(this.flush(t)).then(()=>y(r)?m("delete",e,this.rs.remote.delete(e,{ifMatch:r.common.revision})):m("get",e,this.rs.remote.get(e)))):y(r)?m("get",e,this.rs.remote.get(e,{ifNoneMatch:r.common.revision})):m("get",e,this.rs.remote.get(e))})}autoMergeFolder(e){if(e.remote.itemsMap&&(e.common=e.remote,delete e.remote,e.common.itemsMap)){for(const t in e.common.itemsMap)e.local.itemsMap[t]||(e.local.itemsMap[t]=!1);d.equal(e.local.itemsMap,e.common.itemsMap)&&delete e.local}return e}autoMergeDocument(e){return!function(e){return(!e.remote||!e.remote.revision||e.remote.revision===e.common.revision)&&(void 0===e.common.body&&!1===e.remote.body||e.remote.body===e.common.body&&e.remote.contentType===e.common.contentType)}(e)?void 0!==e.remote.body&&(u.default("[Sync] Emitting keep/revert"),this.rs.local._emitChange({origin:"conflict",path:e.path,oldValue:e.local.body,newValue:e.remote.body,lastCommonValue:e.common.body,oldContentType:e.local.contentType,newContentType:e.remote.contentType,lastCommonContentType:e.common.contentType}),e.remote.body?e.common=e.remote:e.common={},delete e.remote,delete e.local):delete(e=function(e){return e.remote&&!1===e.remote.body&&e.local&&!1===e.local.body&&delete e.local,e}(e)).remote,e}autoMerge(e){if(e.remote){if(e.local)return d.isFolder(e.path)?this.autoMergeFolder(e):this.autoMergeDocument(e);if(d.isFolder(e.path))void 0!==e.remote.itemsMap&&(e.common=e.remote,delete e.remote);else if(void 0!==e.remote.body){const t={origin:"remote",path:e.path,oldValue:!1===e.common.body?void 0:e.common.body,newValue:!1===e.remote.body?void 0:e.remote.body,oldContentType:e.common.contentType,newContentType:e.remote.contentType};if((t.oldValue||t.newValue)&&this.rs.local._emitChange(t),!e.remote.body)return;e.common=e.remote,delete e.remote}return e}e.common.body&&this.rs.local._emitChange({origin:"remote",path:e.path,oldValue:e.common.body,newValue:void 0,oldContentType:e.common.contentType,newContentType:void 0})}updateCommonTimestamp(e,t){return n(this,void 0,void 0,(function*(){return this.rs.local.getNodes([e]).then(r=>(r[e]&&r[e].common&&r[e].common.revision===t&&(r[e].common.timestamp=this.now()),this.rs.local.setNodes(this.flush(r))))}))}markChildren(e,t,r,o){return n(this,void 0,void 0,(function*(){const n=[],i={},s={};for(const r in t)n.push(e+r),i[e+r]=t[r];for(const t in o)n.push(e+t);return this.rs.local.getNodes(n).then(t=>{let n,a;for(const u in t)if(a=t[u],i[u])a&&a.common?g(a,i[u].ETag)&&(r[u]=d.deepClone(a),r[u].remote={revision:i[u].ETag,timestamp:this.now()},r[u]=this.autoMerge(r[u])):(n=this.rs.caching.checkPath(u),"ALL"===n&&(r[u]={path:u,common:{timestamp:this.now()},remote:{revision:i[u].ETag,timestamp:this.now()}})),r[u]&&i[u]["Content-Type"]&&(r[u].remote.contentType=i[u]["Content-Type"]),r[u]&&i[u]["Content-Length"]&&(r[u].remote.contentLength=i[u]["Content-Length"]);else if(o[u.substring(e.length)]&&a&&a.common){if(a.common.itemsMap)for(const e in a.common.itemsMap)s[u+e]=!0;if(a.local&&a.local.itemsMap)for(const e in a.local.itemsMap)s[u+e]=!0;if(a.remote||d.isFolder(u))r[u]=void 0;else if(r[u]=this.autoMerge(a),void 0===r[u]){const t=this.getParentPath(u),n=r[t],o=u.substring(e.length);n&&n.local&&(delete n.local.itemsMap[o],d.equal(n.local.itemsMap,n.common.itemsMap)&&delete n.local)}}return this.deleteRemoteTrees(Object.keys(s),r).then(e=>this.rs.local.setNodes(this.flush(e)))})}))}deleteRemoteTrees(e,t){return n(this,void 0,void 0,(function*(){return 0===e.length?Promise.resolve(t):this.rs.local.getNodes(e).then(e=>n(this,void 0,void 0,(function*(){const r={};function n(e,t){if(e&&e.itemsMap)for(const n in e.itemsMap)r[t+n]=!0}for(const r in e){const o=e[r];o&&(d.isFolder(r)?(n(o.common,r),n(o.local,r)):o.common&&void 0!==typeof o.common.body&&(t[r]=d.deepClone(o),t[r].remote={body:!1,timestamp:this.now()},t[r]=this.autoMerge(t[r])))}return this.deleteRemoteTrees(Object.keys(r),t).then(e=>this.rs.local.setNodes(this.flush(e)))})))}))}completeFetch(e,t,r,o){return n(this,void 0,void 0,(function*(){let n,i;const s=d.pathsFromRoot(e);return d.isFolder(e)?n=[e]:(i=s[1],n=[e,i]),this.rs.local.getNodes(n).then(n=>{let s,a,u=n[e];const c={};function h(e){if(e&&e.itemsMap)for(s in e.itemsMap)t[s]||(c[s]=!0)}if("object"==typeof u&&u.path===e&&"object"==typeof u.common||(u={path:e,common:{}},n[e]=u),u.remote={revision:o,timestamp:this.now()},d.isFolder(e))for(s in h(u.common),h(u.remote),u.remote.itemsMap={},t)u.remote.itemsMap[s]=!0;else u.remote.body=t,u.remote.contentType=r,a=n[i],a&&a.local&&a.local.itemsMap&&(s=e.substring(i.length),a.local.itemsMap[s]=!0,d.equal(a.local.itemsMap,a.common.itemsMap)&&delete a.local);return n[e]=this.autoMerge(u),{toBeSaved:n,missingChildren:c}})}))}completePush(e,t,r,o){return n(this,void 0,void 0,(function*(){return this.rs.local.getNodes([e]).then(n=>{const i=n[e];if(!i.push)throw this.stopped=!0,new Error("completePush called but no push version!");return r?(u.default("[Sync] We have a conflict"),i.remote&&i.remote.revision===o||(i.remote={revision:o||"conflict",timestamp:this.now()},delete i.push),n[e]=this.autoMerge(i)):(i.common={revision:o,timestamp:this.now()},"put"===t?(i.common.body=i.push.body,i.common.contentType=i.push.contentType,d.equal(i.local.body,i.push.body)&&i.local.contentType===i.push.contentType&&delete i.local,delete i.push):"delete"===t&&(!1===i.local.body?n[e]=void 0:delete i.push)),this.rs.local.setNodes(this.flush(n))})}))}dealWithFailure(e){return n(this,void 0,void 0,(function*(){return this.rs.local.getNodes([e]).then(t=>{if(t[e])return delete t[e].push,this.rs.local.setNodes(this.flush(t))})}))}interpretStatus(e){const t={statusCode:e,successful:void 0,conflict:void 0,unAuth:void 0,notFound:void 0,changed:void 0,networkProblems:void 0};if("string"==typeof e&&("offline"===e||"timeout"===e))return t.successful=!1,t.networkProblems=!0,t;if("number"==typeof e){const r=Math.floor(e/100);return t.successful=2===r||304===e||412===e||404===e,t.conflict=412===e,t.unAuth=401===e&&this.rs.remote.token!==c.default.IMPLIED_FAKE_TOKEN||402===e||403===e,t.notFound=404===e,t.changed=304!==e,t}}handleGetResponse(e,t,r,o,i){return n(this,void 0,void 0,(function*(){return t.notFound&&(r=!!d.isFolder(e)&&{}),t.changed?this.completeFetch(e,r,o,i).then(t=>d.isFolder(e)?this.corruptServerItemsMap(r)?(u.default("[Sync] WARNING: Discarding corrupt folder description from server for "+e),!1):this.markChildren(e,r,t.toBeSaved,t.missingChildren).then(()=>!0):this.rs.local.setNodes(this.flush(t.toBeSaved)).then(()=>!0)):this.updateCommonTimestamp(e,i).then(()=>!0)}))}handleResponse(e,t,r){const n=this.interpretStatus(r.statusCode);if(n.successful){if("get"===t)return this.handleGetResponse(e,n,r.body,r.contentType,r.revision);if("put"===t||"delete"===t)return this.completePush(e,t,n.conflict,r.revision).then((function(){return!0}));throw new Error("cannot handle response for unknown action "+t)}{let t;return t=n.unAuth?new l.default:n.networkProblems?new h.default("Network request failed."):new Error("HTTP response code "+n.statusCode+" received."),this.dealWithFailure(e).then(()=>{throw this.rs._emit("error",t),t})}}finishTask(e){if(void 0!==e.action)return e.promise.then(t=>this.handleResponse(e.path,e.action,t),t=>(u.default("[Sync] wireclient rejects its promise!",e.path,e.action,t),this.handleResponse(e.path,e.action,{statusCode:"offline"}))).then(t=>{if(delete this._timeStarted[e.path],delete this._running[e.path],t&&this._tasks[e.path]){for(let t=0;t<this._tasks[e.path].length;t++)this._tasks[e.path][t]();delete this._tasks[e.path]}this.rs._emit("sync-req-done"),this.collectTasks(!1).then(()=>{!this.hasTasks()||this.stopped?(u.default("[Sync] Sync is done! Reschedule?",Object.getOwnPropertyNames(this._tasks).length,this.stopped),this.done||(this.done=!0,this.rs._emit("sync-done"))):setTimeout(()=>{this.doTasks()},10)})},t=>{u.default("[Sync] Error",t),delete this._timeStarted[e.path],delete this._running[e.path],this.rs._emit("sync-req-done"),this.done||(this.done=!0,this.rs._emit("sync-done"))});delete this._running[e.path]}doTasks(){let e,t,r=0;e=this.rs.remote.connected?this.rs.remote.online?this.numThreads:1:0;const n=e-Object.getOwnPropertyNames(this._running).length;if(n<=0)return!0;for(t in this._tasks)if(!this._running[t]&&(this._timeStarted[t]=this.now(),this._running[t]=this.doTask(t),this._running[t].then(this.finishTask.bind(this)),r++,r>=n))return!0;return r>=n}collectTasks(e){return n(this,void 0,void 0,(function*(){return this.hasTasks()||this.stopped?Promise.resolve():this.collectDiffTasks().then(t=>t||!1===e?Promise.resolve():this.collectRefreshTasks(),(function(e){throw e}))}))}addTask(e,t){this._tasks[e]||(this._tasks[e]=[]),"function"==typeof t&&this._tasks[e].push(t)}sync(){return this.done=!1,this.doTasks()?Promise.resolve():this.collectTasks().then(()=>{try{this.doTasks()}catch(e){u.default("[Sync] doTasks error",e)}},(function(e){throw u.default("[Sync] Sync error",e),new Error("Local cache unavailable")}))}static _rs_init(e){f=function(){u.default("[Sync] syncCycleCb calling syncCycle");const t=new s.default;t.isBrowser()&&function(e,t){function r(e){const r=t.getCurrentSyncInterval();i.default.isBackground=!e;const n=t.getCurrentSyncInterval();t._emit("sync-interval-change",{oldValue:r,newValue:n})}e.on("background",()=>r(!1)),e.on("foreground",()=>r(!0))}(t,e),e.sync||(e.sync=new v(e),e.syncStopped&&(u.default("[Sync] Instantiating sync stopped"),e.sync.stopped=!0,delete e.syncStopped)),u.default("[Sync] syncCycleCb calling syncCycle"),e.syncCycle()},p=function(){e.removeEventListener("connected",p),e.startSync()},e.on("ready",f),e.on("connected",p)}static _rs_cleanup(e){e.stopSync(),e.removeEventListener("ready",f),e.removeEventListener("connected",p),e.sync=void 0,delete e.sync}}d.applyMixins(v,[a.default]),e.exports=v},function(e,t,r){"use strict";(function(t){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const i=o(r(2)),s=o(r(10)),a=o(r(1)),u=r(0);let c;class h extends s.default{constructor(e){super(),this.addEvents(["change","local-events-done"]),this.db=e||c,this.db?(this.getsRunning=0,this.putsRunning=0,this.changesQueued={},this.changesRunning={},this.commitSlownessWarning=null):a.default("[IndexedDB] Failed to open DB")}getNodes(e){return n(this,void 0,void 0,(function*(){const t=[],r={};for(let n=0,o=e.length;n<o;n++)void 0!==this.changesQueued[e[n]]?r[e[n]]=u.deepClone(this.changesQueued[e[n]]||void 0):void 0!==this.changesRunning[e[n]]?r[e[n]]=u.deepClone(this.changesRunning[e[n]]||void 0):t.push(e[n]);return t.length>0?this.getNodesFromDb(t).then((function(e){for(const t in r)e[t]=r[t];return e})):Promise.resolve(r)}))}setNodes(e){return n(this,void 0,void 0,(function*(){for(const t in e)this.changesQueued[t]=e[t]||!1;return this.maybeFlush(),Promise.resolve()}))}maybeFlush(){0===this.putsRunning?this.flushChangesQueued():this.commitSlownessWarning||(this.commitSlownessWarning=t.setInterval((function(){console.warn("WARNING: waited more than 10 seconds for previous commit to finish")}),1e4))}flushChangesQueued(){this.commitSlownessWarning&&(clearInterval(this.commitSlownessWarning),this.commitSlownessWarning=null),Object.keys(this.changesQueued).length>0&&(this.changesRunning=this.changesQueued,this.changesQueued={},this.setNodesInDb(this.changesRunning).then(this.flushChangesQueued.bind(this)))}getNodesFromDb(e){return new Promise((t,r)=>{const n=this.db.transaction(["nodes"],"readonly"),o=n.objectStore("nodes"),i={};this.getsRunning++,e.map(e=>{o.get(e).onsuccess=t=>{i[e]=t.target.result}}),n.oncomplete=()=>{t(i),this.getsRunning--},n.onerror=n.onabort=()=>{r("get transaction error/abort"),this.getsRunning--}})}setNodesInDb(e){return n(this,void 0,void 0,(function*(){return new Promise((t,r)=>{const n=this.db.transaction(["nodes"],"readwrite"),o=n.objectStore("nodes"),i=(new Date).getTime();this.putsRunning++,a.default("[IndexedDB] Starting put",e,this.putsRunning);for(const t in e){const r=e[t];if("object"==typeof r)try{o.put(r)}catch(e){throw a.default("[IndexedDB] Error while putting",r,e),e}else try{o.delete(t)}catch(e){throw a.default("[IndexedDB] Error while removing",o,r,e),e}}n.oncomplete=()=>{this.putsRunning--,a.default("[IndexedDB] Finished put",e,this.putsRunning,(new Date).getTime()-i+"ms"),t()},n.onerror=()=>{this.putsRunning--,r("transaction error")},n.onabort=()=>{r("transaction abort"),this.putsRunning--}})}))}reset(e){const t=this.db.name;this.db.close(),h.clean(this.db.name,()=>{h.open(t,(t,r)=>{t?a.default("[IndexedDB] Error while resetting local storage",t):this.db=r,"function"==typeof e&&e(self)})})}forAllNodes(e){return n(this,void 0,void 0,(function*(){return new Promise(t=>{this.db.transaction(["nodes"],"readonly").objectStore("nodes").openCursor().onsuccess=r=>{const n=r.target.result;n?(e(this.migrate(n.value)),n.continue()):t()}})}))}closeDB(){0===this.putsRunning?this.db.close():setTimeout(this.closeDB.bind(this),100)}static open(e,t){const r=setTimeout((function(){t("timeout trying to open db")}),1e4);try{const n=indexedDB.open(e,2);n.onerror=function(){a.default("[IndexedDB] Opening DB failed",n),clearTimeout(r),t(n.error)},n.onupgradeneeded=function(e){const t=n.result;a.default("[IndexedDB] Upgrade: from ",e.oldVersion," to ",e.newVersion),1!==e.oldVersion&&(a.default("[IndexedDB] Creating object store: nodes"),t.createObjectStore("nodes",{keyPath:"path"})),a.default("[IndexedDB] Creating object store: changes"),t.createObjectStore("changes",{keyPath:"path"})},n.onsuccess=function(){clearTimeout(r);const o=n.result;if(!o.objectStoreNames.contains("nodes")||!o.objectStoreNames.contains("changes"))return a.default("[IndexedDB] Missing object store. Resetting the database."),void h.clean(e,(function(){h.open(e,t)}));t(null,n.result)}}catch(n){a.default("[IndexedDB] Failed to open database: "+n),a.default("[IndexedDB] Resetting database and trying again."),clearTimeout(r),h.clean(e,(function(){h.open(e,t)}))}}static clean(e,t){const r=indexedDB.deleteDatabase(e);r.onsuccess=function(){a.default("[IndexedDB] Done removing DB"),t()},r.onerror=r.onabort=function(t){console.error('Failed to remove database "'+e+'"',t)}}static _rs_init(e){return new Promise((t,r)=>{h.open("remotestorage",(function(n,o){n?r(n):(c=o,o.onerror=()=>{e._emit("error",n)},t())}))})}static _rs_supported(){return new Promise((e,t)=>{const r=u.getGlobalContext();let n=!1;if("undefined"!=typeof navigator&&navigator.userAgent.match(/Android (2|3|4\.[0-3])/)&&(navigator.userAgent.match(/Chrome|Firefox/)||(n=!0)),"indexedDB"in r&&!n)try{const r=indexedDB.open("rs-check");r.onerror=function(){t()},r.onsuccess=function(){r.result.close(),indexedDB.deleteDatabase("rs-check"),e()}}catch(e){t()}else t()})}static _rs_cleanup(e){return new Promise(t=>{e.local&&e.local.closeDB(),h.clean("remotestorage",t)})}diffHandler(){}}u.applyMixins(h,[i.default]),e.exports=h}).call(this,r(5))},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=n(r(10)),i=n(r(2)),s=n(r(1)),a=r(0),u="remotestorage:cache:nodes:";function c(e){return e.substr(0,u.length)===u||"remotestorage:cache:changes:"===e.substr(0,"remotestorage:cache:changes:".length)}class h extends o.default{constructor(){super(),this.addEvents(["change","local-events-done"])}diffHandler(...e){}getNodes(e){const t={};for(let r=0,n=e.length;r<n;r++)try{t[e[r]]=JSON.parse(localStorage[u+e[r]])}catch(n){t[e[r]]=void 0}return Promise.resolve(t)}setNodes(e){for(const t in e)localStorage[u+t]=JSON.stringify(e[t]);return Promise.resolve()}forAllNodes(e){let t;for(let r=0,n=localStorage.length;r<n;r++)if(localStorage.key(r).substr(0,u.length)===u){try{t=this.migrate(JSON.parse(localStorage[localStorage.key(r)]))}catch(e){t=void 0}t&&e(t)}return Promise.resolve()}static _rs_init(){}static _rs_supported(){return a.localStorageAvailable()}static _rs_cleanup(){const e=[];for(let t=0,r=localStorage.length;t<r;t++){const r=localStorage.key(t);c(r)&&e.push(r)}e.forEach(e=>{s.default("[LocalStorage] Removing",e),delete localStorage[e]})}}a.applyMixins(h,[i.default]),e.exports=h},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=n(r(2)),i=n(r(10)),s=r(0);class a extends i.default{constructor(){super(),this._storage={},this.addEvents(["change","local-events-done"])}getNodes(e){const t={};for(let r=0,n=e.length;r<n;r++)t[e[r]]=this._storage[e[r]];return Promise.resolve(t)}setNodes(e){for(const t in e)void 0===e[t]?delete this._storage[t]:this._storage[t]=e[t];return Promise.resolve()}forAllNodes(e){for(const t in this._storage)e(this.migrate(this._storage[t]));return Promise.resolve()}diffHandler(){}static _rs_init(){}static _rs_supported(){return!0}static _rs_cleanup(){}}s.applyMixins(a,[o.default]),e.exports=a}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvdXRpbC50cyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vc3JjL2xvZy50cyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vc3JjL2V2ZW50aGFuZGxpbmcudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9jb25maWcudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy91bmF1dGhvcml6ZWQtZXJyb3IudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9hdXRob3JpemUudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9iYXNlY2xpZW50LnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvd2lyZWNsaWVudC50cyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vc3JjL3N5bmMtZXJyb3IudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9jYWNoaW5nbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9hY2Nlc3MudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9jYWNoaW5nLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvZ29vZ2xlZHJpdmUudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9kcm9wYm94LnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvZGlzY292ZXIudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9lbnYudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9yZW1vdGVzdG9yYWdlLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vbm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL25vZGVfbW9kdWxlcy90djQvdHY0LmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9zY2hlbWEtbm90LWZvdW5kLWVycm9yLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvcmV2aXNpb25jYWNoZS50cyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vbm9kZV9tb2R1bGVzL3dlYmZpbmdlci5qcy9zcmMvd2ViZmluZ2VyLmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9ub2RlX21vZHVsZXMvd2ViZmluZ2VyLmpzL25vZGVfbW9kdWxlcy94aHIyL2xpYi9icm93c2VyLmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvZmVhdHVyZXMudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9zeW5jZWRnZXRwdXRkZWxldGUudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9zeW5jLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvaW5kZXhlZGRiLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvbG9jYWxzdG9yYWdlLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvaW5tZW1vcnlzdG9yYWdlLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwibG9nRXJyb3IiLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwic3RhY2siLCJnbG9iYWxDb250ZXh0Iiwid2luZG93Iiwic2VsZiIsImdsb2JhbCIsImdldEdsb2JhbENvbnRleHQiLCJleHRlbmQiLCJhcmdzIiwidGFyZ2V0IiwiQXJyYXkiLCJzbGljZSIsImZvckVhY2giLCJzb3VyY2UiLCJjb250YWluaW5nRm9sZGVyIiwicGF0aCIsInJlcGxhY2UiLCJpc0ZvbGRlciIsInN1YnN0ciIsImlzRG9jdW1lbnQiLCJiYXNlTmFtZSIsInBhcnRzIiwic3BsaXQiLCJsZW5ndGgiLCJjbGVhblBhdGgiLCJtYXAiLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwiYmluZEFsbCIsImVxdWFsIiwiYSIsImIiLCJzZWVuIiwidG9TdHJpbmciLCJBcnJheUJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJzZWVuQXJnIiwiaW5kZXhPZiIsInB1c2giLCJkZWVwQ2xvbmUiLCJvYmoiLCJ1bmRlZmluZWQiLCJjbG9uZSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsIl9maXhBcnJheUJ1ZmZlcnMiLCJzcmNPYmoiLCJkc3RPYmoiLCJpc0FycmF5IiwiZmllbGQiLCJieXRlTGVuZ3RoIiwic3JjQXJyIiwiSW50OEFycmF5Iiwic2V0IiwicGF0aHNGcm9tUm9vdCIsInBhdGhzIiwicG9wIiwibG9jYWxTdG9yYWdlQXZhaWxhYmxlIiwiY29udGV4dCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiZ2V0SlNPTkZyb21Mb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZSIsInNob3VsZEJlVHJlYXRlZEFzQmluYXJ5IiwiY29udGVudCIsIm1pbWVUeXBlIiwibWF0Y2giLCJ0ZXN0IiwiZ2V0VGV4dEZyb21BcnJheUJ1ZmZlciIsImFycmF5QnVmZmVyIiwiZW5jb2RpbmciLCJQcm9taXNlIiwicmVzb2x2ZSIsIkJsb2IiLCJidWZmZXIiLCJCdWZmZXIiLCJibG9iIiwiZ2MiLCJCbG9iQnVpbGRlciIsIldlYktpdEJsb2JCdWlsZGVyIiwiYmIiLCJhcHBlbmQiLCJnZXRCbG9iIiwiZmlsZVJlYWRlciIsIkZpbGVSZWFkZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwicmVzdWx0Iiwib25sb2FkZW5kIiwicmVhZEFzVGV4dCIsInRvQmFzZTY0Iiwic3RyIiwiZnJvbSIsImRlcml2ZWRDdG9yIiwiYmFzZUN0b3JzIiwiYmFzZUN0b3IiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwibG9nZ2luZyIsImxvZyIsImFkZGl0aW9uYWxFdmVudHMiLCJldk5hbWUiLCJfYWRkRXZlbnQiLCJldmVudE5hbWUiLCJoYW5kbGVyIiwiRXJyb3IiLCJfdmFsaWRhdGVFdmVudCIsIl9oYW5kbGVycyIsImhsIiwic3BsaWNlIiwiYXBwbHkiLCJvbiIsImV2ZW50IiwiX2VtaXQiLCJjb25maWciLCJjYWNoZSIsImNoYW5nZUV2ZW50cyIsImxvY2FsIiwicmVtb3RlIiwiY29uZmxpY3QiLCJjb3Jkb3ZhUmVkaXJlY3RVcmkiLCJiYWNrZ3JvdW5kU3luY0ludGVydmFsIiwiZGlzYWJsZUZlYXR1cmVzIiwiZGlzY292ZXJ5VGltZW91dCIsImlzQmFja2dyb3VuZCIsInJlcXVlc3RUaW1lb3V0Iiwic3luY0ludGVydmFsIiwiVW5hdXRob3JpemVkRXJyb3IiLCJvcHRpb25zIiwic3VwZXIiLCJjb2RlIiwiZyIsIkZ1bmN0aW9uIiwib25GZWF0dXJlc0xvYWRlZCIsImV4dHJhY3RQYXJhbXMiLCJ1cmwiLCJsb2NhdGlvbiIsIkF1dGhvcml6ZSIsImdldExvY2F0aW9uIiwiaHJlZiIsImhhc2hQb3MiLCJ1cmxGcmFnbWVudCIsInN1YnN0cmluZyIsImluY2x1ZGVzIiwicmVkdWNlIiwicGFyYW1zIiwia3ZzIiwia3YiLCJzdGF0ZVZhbHVlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZW5jb2RlZERhdGEiLCJhdG9iIiwiUmVnRXhwIiwicmVtb3RlU3RvcmFnZSIsImF1dGhVUkwiLCJzY29wZSIsInJlZGlyZWN0VXJpIiwiY2xpZW50SWQiLCJiYWNrZW5kIiwiZGlzY292ZXJ5RGF0YSIsInVzZXJBZGRyZXNzIiwic3RvcmFnZUFwaSIsInByb3BlcnRpZXMiLCJidWlsZE9BdXRoVVJMIiwib3BlbldpbmRvdyIsInRoZW4iLCJhdXRoUmVzdWx0IiwiY29uZmlndXJlIiwidG9rZW4iLCJhY2Nlc3NfdG9rZW4iLCJzZXRMb2NhdGlvbiIsImRvY3VtZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIklNUExJRURfRkFLRV9UT0tFTiIsInJlamVjdCIsIm5ld1dpbmRvdyIsIm9wZW4iLCJjbG9zZWQiLCJoYW5kbGVFeGl0IiwiY2xvc2UiLCJfcnNfaW5pdCIsImhhc2giLCJhdXRoUGFyYW1zVXNlZCIsInJzRGlzY292ZXJ5IiwicmVtb3Rlc3RvcmFnZSIsImNvbm5lY3QiLCJzdGF0ZSIsInN0b3BXYWl0aW5nRm9yVG9rZW4iLCJCYXNlQ2xpZW50Iiwic3RvcmFnZSIsImJhc2UiLCJzY2hlbWFzIiwiY29uZmlndXJhYmxlIiwiVHlwZXMiLCJpblNjb3BlIiwibW9kdWxlTmFtZSIsIm1ha2VQYXRoIiwiYWRkRXZlbnRzIiwib25DaGFuZ2UiLCJfZmlyZUNoYW5nZSIsIm1heEFnZSIsInN0YXR1c0NvZGUiLCJib2R5Iiwia2V5cyIsImNhbGxzIiwiYWxsIiwiZGF0YSIsImNvbnRlbnRUeXBlIiwicmV2aXNpb24iLCJhY2Nlc3MiLCJjaGVja1BhdGhQZXJtaXNzaW9uIiwid2FybiIsInB1dCIsInR5cGVBbGlhcyIsIl9hdHRhY2hUeXBlIiwidmFsaWRhdGlvblJlc3VsdCIsInZhbGlkYXRlIiwidmFsaWQiLCJleGMiLCJkZWxldGUiLCJjb25uZWN0ZWQiLCJzdHJhdGVneSIsImNhY2hpbmciLCJmbHVzaCIsImFsaWFzIiwidXJpT3JTY2hlbWEiLCJzY2hlbWEiLCJ1cmkiLCJfZGVmYXVsdFR5cGVVUkkiLCJkZWNsYXJlIiwiZ2V0U2NoZW1hIiwidmFsaWRhdGVSZXN1bHQiLCJyZXNvbHZlQWxpYXMiLCJvcmlnaW4iLCJmaWVsZE5hbWVQcmVmaXgiLCJleGVjIiwiYXBwbHlNaXhpbnMiLCJoYXNMb2NhbFN0b3JhZ2UiLCJTRVRUSU5HU19LRVkiLCJTVE9SQUdFX0FQSVMiLCJpc0FycmF5QnVmZmVyVmlldyIsIkFycmF5QnVmZmVyVmlldyIsImFycmF5QnVmZmVyVmlld3MiLCJJbnQxNkFycmF5IiwiVWludDE2QXJyYXkiLCJJbnQzMkFycmF5IiwiVWludDMyQXJyYXkiLCJGbG9hdDMyQXJyYXkiLCJGbG9hdDY0QXJyYXkiLCJhZGRRdW90ZXMiLCJzdHJpcFF1b3RlcyIsIldpcmVDbGllbnQiLCJycyIsIl9yZXZpc2lvbkNhY2hlIiwic2V0dGluZ3MiLCJyZWFkU2V0dGluZ3MiLCJzZXRUaW1lb3V0Iiwic3BlYyIsIm1ldGhvZCIsImhlYWRlcnMiLCJnZXRFdGFnIiwiZmFrZVJldmlzaW9uIiwiaXNGb3JiaWRkZW5SZXF1ZXN0TWV0aG9kIiwicmVxdWVzdCIsInJlc3BvbnNlVHlwZSIsInJlc3BvbnNlIiwib25saW5lIiwic3VjY2VzcyIsInN0YXR1cyIsImdldFJlc3BvbnNlSGVhZGVyIiwiaXNTdWNjZXNzU3RhdHVzIiwiY2hhcnNldCIsImNoYXJzZXRNYXRjaCIsImRldGVybWluZUNoYXJzZXQiLCJ0ZXh0Q29udGVudCIsIl9zdG9yYWdlQXBpIiwic3VwcG9ydHNSZXZzIiwiaWZOb25lTWF0Y2giLCJfcmVxdWVzdCIsIml0ZW1zTWFwIiwiaXRlbSIsIml0ZW1zIiwiRVRhZyIsImlmTWF0Y2giLCJmZXRjaCIsIl9mZXRjaFJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIl94aHJSZXF1ZXN0Iiwic3ludGhldGljWGhyIiwicmVzcG9uc2VIZWFkZXJzIiwiYWJvcnRDb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwibmV0d29ya1Byb21pc2UiLCJzaWduYWwiLCJoZWFkZXJOYW1lIiwidG9VcHBlckNhc2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzVGV4dCIsInJlc3BvbnNlVVJMIiwianNvbiIsInRleHQiLCJwcm9jZXNzZWRCb2R5IiwicmVzcG9uc2VUZXh0IiwidGltZW91dFByb21pc2UiLCJhYm9ydCIsInJhY2UiLCJ0aW1lZE91dCIsInRpbWVyIiwieGhyIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ubG9hZCIsImNsZWFyVGltZW91dCIsIm9uZXJyb3IiLCJzZW5kIiwiU3luY0Vycm9yIiwib3JpZ2luYWxFcnJvciIsIkNhY2hpbmdMYXllciIsIl91cGRhdGVOb2Rlc1J1bm5pbmciLCJfdXBkYXRlTm9kZXNRdWV1ZWQiLCJxdWV1ZUdldFJlcXVlc3QiLCJnZXROb2RlcyIsIm9ianMiLCJub2RlIiwiZ2V0TGF0ZXN0IiwiaXNPdXRkYXRlZCIsIl91cGRhdGVOb2RlcyIsIm5vZGVQYXRocyIsIm5vZGVzIiwibGVuIiwibm9kZVBhdGgiLCJwcmV2aW91cyIsIm1ha2VOb2RlIiwicHJldmlvdXNCb2R5IiwicHJldmlvdXNDb250ZW50VHlwZSIsInVwZGF0ZUZvbGRlck5vZGVXaXRoSXRlbU5hbWUiLCJjb21tb24iLCJpdGVtTmFtZSIsIl9nZXRBbGxEZXNjZW5kZW50UGF0aHMiLCJfZW1pdENoYW5nZSIsIm9sZFZhbHVlIiwibmV3VmFsdWUiLCJzZXROb2RlcyIsImZvckFsbE5vZGVzIiwibGF0ZXN0Iiwib2xkQ29udGVudFR5cGUiLCJuZXdDb250ZW50VHlwZSIsImRpZmZIYW5kbGVyIiwiX3Byb2Nlc3NOb2RlcyIsIl9kb1VwZGF0ZU5vZGVzIiwicHJvbWlzZSIsImNiIiwiZXhpc3RpbmdOb2RlcyIsIl9lbWl0Q2hhbmdlRXZlbnRzIiwiZXJyIiwibmV4dEpvYiIsInNoaWZ0IiwiZXZlbnRzIiwiYWxsUGF0aHMiLCJub2RlVmVyc2lvbiIsInRpbWVzdGFtcCIsIkRhdGUiLCJnZXRUaW1lIiwicmVzZXQiLCJzY29wZU1vZGVNYXAiLCJzY29wZXMiLCJfc2NvcGVOYW1lRm9yUGFyYW1ldGVyIiwiX2FkanVzdFJvb3RQYXRocyIsInNhdmVkTWFwIiwiY2xhaW0iLCJhY3R1YWxNb2RlIiwiY2hlY2tQZXJtaXNzaW9uIiwiX2dldE1vZHVsZU5hbWUiLCJyb290UGF0aHMiLCJtb2R1bGVNYXRjaCIsIm5ld1Njb3BlIiwic3RvcmFnZVR5cGUiLCJ0eXBlIiwicGVuZGluZ0FjdGl2YXRpb25zIiwiX3Jvb3RQYXRocyIsImFjdGl2YXRlSGFuZGxlciIsImNoZWNrUGF0aCIsIkJBU0VfVVJMIiwibWV0YVRpdGxlRnJvbUZpbGVOYW1lIiwiZmlsZW5hbWUiLCJwYXJlbnRQYXRoIiwiZ29vZ2xlRHJpdmVQYXRoIiwicmVtb3ZlUXVvdGVzIiwiRmlsZUlkQ2FjaGUiLCJfaXRlbXMiLCJub3ciLCJ2IiwiR29vZ2xlRHJpdmUiLCJfZmlsZUlkQ2FjaGUiLCJ3cml0ZVNldHRpbmdzVG9DYWNoZSIsImhhbmRsZUVycm9yIiwiaW5mbyIsInVzZXIiLCJlbWFpbEFkZHJlc3MiLCJjYXRjaCIsInNldEJhY2tlbmQiLCJhdXRob3JpemUiLCJfZ2V0Rm9sZGVyIiwiX2dldEZpbGUiLCJmdWxsUGF0aCIsInB1dERvbmUiLCJtZXRhIiwiZXRhZ1dpdGhvdXRRdW90ZXMiLCJldGFnIiwiX2dldEZpbGVJZCIsImlkIiwiX3VwZGF0ZUZpbGUiLCJfY3JlYXRlRmlsZSIsIl9nZXRNZXRhIiwicmVzcCIsIm1ldGFkYXRhIiwiX2dldFBhcmVudElkIiwicGFyZW50SWQiLCJ0aXRsZSIsInBhcmVudHMiLCJraW5kIiwiZG93bmxvYWRVcmwiLCJleHBvcnRMaW5rcyIsInF1ZXJ5IiwiZmlsZVNpemUiLCJmb2xkZXJuYW1lIiwiX2NyZWF0ZUZvbGRlciIsImFwaUtleXMiLCJnb29nbGVkcml2ZSIsIl9vcmlnUmVtb3RlIiwiX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTCIsImdldEl0ZW1VUkwiLCJnZXREcm9wYm94UGF0aCIsIlBBVEhfUFJFRklYIiwiY29tcGFyZUFwaUVycm9yIiwiZXhwZWN0IiwiZXJyb3Jfc3VtbWFyeSIsImlzQmluYXJ5RGF0YSIsIkRyb3Bib3giLCJfaW5pdGlhbEZldGNoRG9uZSIsImRyb3Bib3giLCJhcHBLZXkiLCJfcmV2Q2FjaGUiLCJfZmV0Y2hEZWx0YUN1cnNvciIsIl9mZXRjaERlbHRhUHJvbWlzZSIsIl9pdGVtUmVmcyIsImhvb2tJdCIsImVtYWlsIiwicmV2Q2FjaGUiLCJwcm9jZXNzUmVzcG9uc2UiLCJsaXN0aW5nIiwiZW50cmllcyIsImlzRGlyIiwicGF0aF9sb3dlciIsInJldiIsImhhc19tb3JlIiwibG9hZE5leHQiLCJjdXJzb3IiLCJuZXh0TGlzdGluZyIsImFzc2lnbiIsInNhdmVkUmV2IiwiZmV0Y2hEZWx0YSIsIm1pbWUiLCJfc2hhcmVJZk5lZWRlZCIsIm5lZWRzTWV0YWRhdGEiLCJ1cGxvYWRQYXJhbXMiLCJfZ2V0TWV0YWRhdGEiLCJfdXBsb2FkU2ltcGxlIiwicmVzIiwiX2RlbGV0ZVNpbXBsZSIsInNoYXJlIiwiX2dldFNoYXJlZExpbmsiLCJsaW5rIiwicmVxdWVzdEJvZHkiLCJyZWN1cnNpdmUiLCJpbmNsdWRlX2RlbGV0ZWQiLCJyZXNwb25zZUJvZHkiLCJkZWFjdGl2YXRlUHJvcGFnYXRpb24iLCJlbnRyeSIsImFjdGl2YXRlUHJvcGFnYXRpb24iLCJQcm9ncmVzc0V2ZW50IiwidXBkYXRlIiwibXV0ZSIsImRpcmVjdF9vbmx5IiwibGlua3MiLCJ1bkhvb2tSZW1vdGUiLCJfZHJvcGJveE9yaWdTeW5jIiwic3luYyIsInVuSG9va1N5bmMiLCJ1bkhvb2tHZXRJdGVtVVJMIiwidW5Ib29rU3luY0N5Y2xlIiwidW5Ib29rSXQiLCJob29rU3luYyIsIl9kcm9wYm94T3JpZ1N5bmNDeWNsZSIsInN5bmNDeWNsZSIsImhvb2tSZW1vdGUiLCJob29rU3luY0N5Y2xlIiwiaG9va0dldEl0ZW1VUkwiLCJoYXZlWE1MSHR0cFJlcXVlc3QiLCJjYWNoZWRJbmZvIiwiRGlzY292ZXIiLCJ0bHNfb25seSIsInVyaV9mYWxsYmFjayIsInJlcXVlc3RfdGltZW91dCIsImxvb2t1cCIsImlkeCIsIkRpc2NvdmVyeUVycm9yIiwiY29uc3RydWN0b3IiLCJfcnNfc3VwcG9ydGVkIiwiX3JzX2NsZWFudXAiLCJFbnYiLCJzZXRCcm93c2VyUHJlZml4ZWROYW1lcyIsInZpc2liaWxpdHlDaGFuZ2VFdmVudCIsInNldFZpc2liaWxpdHkiLCJoaWRkZW4iLCJoaWRkZW5Qcm9wZXJ0eSIsImdvQmFja2dyb3VuZCIsImdvRm9yZWdyb3VuZCIsImVtaXRVbmF1dGhvcml6ZWQiLCJpc1ZhbGlkSW50ZXJ2YWwiLCJpbnRlcnZhbCIsIlJlbW90ZVN0b3JhZ2UiLCJjZmciLCJfcGVuZGluZyIsIl9jbGVhbnVwcyIsIl9wYXRoSGFuZGxlcnMiLCJjaGFuZ2UiLCJfaW5pdCIsImxvYWRGZWF0dXJlcyIsImZlYXR1cmVzIiwibG9hZEZlYXR1cmUiLCJmZWF0dXJlU3VwcG9ydGVkIiwiZmVhdHVyZURvbmUiLCJmZWF0dXJlc0RvbmUiLCJmZWF0dXJlc0xvYWRlZCIsImZlYXR1cmVJbml0aWFsaXplZCIsImZlYXR1cmVGYWlsZWQiLCJoYXNGZWF0dXJlIiwiX3NldENhY2hpbmdNb2R1bGUiLCJfY29sbGVjdENsZWFudXBGdW5jdGlvbnMiLCJfZmlyZVJlYWR5IiwiaW5pdEZlYXR1cmUiLCJfc2V0R1BEIiwiX3BlbmRpbmdHUEQiLCJvcmlnT24iLCJfYWxsTG9hZGVkIiwiZmlyZUluaXRpYWwiLCJsb2FkTW9kdWxlcyIsImFkZE1vZHVsZSIsInNldFN0b3JhZ2VUeXBlIiwic2NvcGVQYXJhbWV0ZXIiLCJjb3Jkb3ZhIiwiU3RyaW5nIiwiSW5BcHBCcm93c2VyIiwiaW1wbGllZGF1dGgiLCJvbmVEb25lIiwiY2xlYW51cCIsImNsZWFudXBSZXN1bHQiLCJ3aGF0IiwidmFsaWRUeXBlcyIsImV2ZXJ5IiwiaW1wbCIsIndyYXAiLCJmdW5jIiwibWV0aG9kTmFtZSIsIm1ldGhvZEFyZ3VtZW50cyIsInBlbmRpbmciLCJfZGlzcGF0Y2hFdmVudCIsInBsIiwiZXYiLCJyZWxhdGl2ZVBhdGgiLCJlc2NhcGVkUGF0aCIsInRpbWVvdXQiLCJzdG9wcGVkIiwiX3N5bmNUaW1lciIsImdldEN1cnJlbnRTeW5jSW50ZXJ2YWwiLCJzeW5jU3RvcHBlZCIsIm1vZHVsZUJ1aWxkZXIiLCJidWlsZGVyIiwiaW5zdGFuY2UiLCJfbG9hZE1vZHVsZSIsImNhbWVsaXplZE5hbWUiLCJVbmF1dGhvcml6ZWQiLCJ1dGlsIiwiYmFzZTY0IiwiaWVlZTc1NCIsImtNYXhMZW5ndGgiLCJUWVBFRF9BUlJBWV9TVVBQT1JUIiwiY3JlYXRlQnVmZmVyIiwidGhhdCIsIlJhbmdlRXJyb3IiLCJfX3Byb3RvX18iLCJhcmciLCJlbmNvZGluZ09yT2Zmc2V0IiwiYWxsb2NVbnNhZmUiLCJUeXBlRXJyb3IiLCJhcnJheSIsImJ5dGVPZmZzZXQiLCJmcm9tQXJyYXlMaWtlIiwiZnJvbUFycmF5QnVmZmVyIiwic3RyaW5nIiwiaXNFbmNvZGluZyIsImFjdHVhbCIsIndyaXRlIiwiZnJvbVN0cmluZyIsImlzQnVmZmVyIiwiY2hlY2tlZCIsImNvcHkiLCJ2YWwiLCJmcm9tT2JqZWN0IiwiYXNzZXJ0U2l6ZSIsInNpemUiLCJpc1ZpZXciLCJsb3dlcmVkQ2FzZSIsInV0ZjhUb0J5dGVzIiwiYmFzZTY0VG9CeXRlcyIsInRvTG93ZXJDYXNlIiwic2xvd1RvU3RyaW5nIiwic3RhcnQiLCJlbmQiLCJoZXhTbGljZSIsInV0ZjhTbGljZSIsImFzY2lpU2xpY2UiLCJsYXRpbjFTbGljZSIsImJhc2U2NFNsaWNlIiwidXRmMTZsZVNsaWNlIiwic3dhcCIsImJpZGlyZWN0aW9uYWxJbmRleE9mIiwiZGlyIiwiaXNOYU4iLCJhcnJheUluZGV4T2YiLCJsYXN0SW5kZXhPZiIsImFyciIsImluZGV4U2l6ZSIsImFyckxlbmd0aCIsInZhbExlbmd0aCIsInJlYWQiLCJidWYiLCJyZWFkVUludDE2QkUiLCJmb3VuZEluZGV4IiwiZm91bmQiLCJqIiwiaGV4V3JpdGUiLCJvZmZzZXQiLCJOdW1iZXIiLCJyZW1haW5pbmciLCJzdHJMZW4iLCJwYXJzZWQiLCJwYXJzZUludCIsInV0ZjhXcml0ZSIsImJsaXRCdWZmZXIiLCJhc2NpaVdyaXRlIiwiYnl0ZUFycmF5IiwiY2hhckNvZGVBdCIsImFzY2lpVG9CeXRlcyIsImxhdGluMVdyaXRlIiwiYmFzZTY0V3JpdGUiLCJ1Y3MyV3JpdGUiLCJ1bml0cyIsImhpIiwibG8iLCJ1dGYxNmxlVG9CeXRlcyIsImZyb21CeXRlQXJyYXkiLCJNYXRoIiwibWluIiwic2Vjb25kQnl0ZSIsInRoaXJkQnl0ZSIsImZvdXJ0aEJ5dGUiLCJ0ZW1wQ29kZVBvaW50IiwiZmlyc3RCeXRlIiwiY29kZVBvaW50IiwiYnl0ZXNQZXJTZXF1ZW5jZSIsImNvZGVQb2ludHMiLCJmcm9tQ2hhckNvZGUiLCJkZWNvZGVDb2RlUG9pbnRzQXJyYXkiLCJTbG93QnVmZmVyIiwiYWxsb2MiLCJJTlNQRUNUX01BWF9CWVRFUyIsImZvbyIsInN1YmFycmF5IiwidHlwZWRBcnJheVN1cHBvcnQiLCJwb29sU2l6ZSIsIl9hdWdtZW50Iiwic3BlY2llcyIsImZpbGwiLCJhbGxvY1Vuc2FmZVNsb3ciLCJfaXNCdWZmZXIiLCJjb21wYXJlIiwieCIsInkiLCJjb25jYXQiLCJsaXN0IiwicG9zIiwic3dhcDE2Iiwic3dhcDMyIiwic3dhcDY0IiwiYXJndW1lbnRzIiwiZXF1YWxzIiwiaW5zcGVjdCIsIm1heCIsInRoaXNTdGFydCIsInRoaXNFbmQiLCJ0aGlzQ29weSIsInRhcmdldENvcHkiLCJpc0Zpbml0ZSIsInRvSlNPTiIsIl9hcnIiLCJyZXQiLCJvdXQiLCJ0b0hleCIsImJ5dGVzIiwiY2hlY2tPZmZzZXQiLCJleHQiLCJjaGVja0ludCIsIm9iamVjdFdyaXRlVUludDE2IiwibGl0dGxlRW5kaWFuIiwib2JqZWN0V3JpdGVVSW50MzIiLCJjaGVja0lFRUU3NTQiLCJ3cml0ZUZsb2F0Iiwibm9Bc3NlcnQiLCJ3cml0ZURvdWJsZSIsIm5ld0J1ZiIsInNsaWNlTGVuIiwicmVhZFVJbnRMRSIsIm11bCIsInJlYWRVSW50QkUiLCJyZWFkVUludDgiLCJyZWFkVUludDE2TEUiLCJyZWFkVUludDMyTEUiLCJyZWFkVUludDMyQkUiLCJyZWFkSW50TEUiLCJwb3ciLCJyZWFkSW50QkUiLCJyZWFkSW50OCIsInJlYWRJbnQxNkxFIiwicmVhZEludDE2QkUiLCJyZWFkSW50MzJMRSIsInJlYWRJbnQzMkJFIiwicmVhZEZsb2F0TEUiLCJyZWFkRmxvYXRCRSIsInJlYWREb3VibGVMRSIsInJlYWREb3VibGVCRSIsIndyaXRlVUludExFIiwid3JpdGVVSW50QkUiLCJ3cml0ZVVJbnQ4IiwiZmxvb3IiLCJ3cml0ZVVJbnQxNkxFIiwid3JpdGVVSW50MTZCRSIsIndyaXRlVUludDMyTEUiLCJ3cml0ZVVJbnQzMkJFIiwid3JpdGVJbnRMRSIsImxpbWl0Iiwic3ViIiwid3JpdGVJbnRCRSIsIndyaXRlSW50OCIsIndyaXRlSW50MTZMRSIsIndyaXRlSW50MTZCRSIsIndyaXRlSW50MzJMRSIsIndyaXRlSW50MzJCRSIsIndyaXRlRmxvYXRMRSIsIndyaXRlRmxvYXRCRSIsIndyaXRlRG91YmxlTEUiLCJ3cml0ZURvdWJsZUJFIiwidGFyZ2V0U3RhcnQiLCJJTlZBTElEX0JBU0U2NF9SRSIsIkluZmluaXR5IiwibGVhZFN1cnJvZ2F0ZSIsInRvQnl0ZUFycmF5IiwidHJpbSIsInN0cmluZ3RyaW0iLCJiYXNlNjRjbGVhbiIsInNyYyIsImRzdCIsImI2NCIsImxlbnMiLCJnZXRMZW5zIiwidmFsaWRMZW4iLCJwbGFjZUhvbGRlcnNMZW4iLCJ0bXAiLCJBcnIiLCJfYnl0ZUxlbmd0aCIsImN1ckJ5dGUiLCJyZXZMb29rdXAiLCJ1aW50OCIsImV4dHJhQnl0ZXMiLCJsZW4yIiwiZW5jb2RlQ2h1bmsiLCJudW0iLCJvdXRwdXQiLCJpc0xFIiwibUxlbiIsIm5CeXRlcyIsImVMZW4iLCJlTWF4IiwiZUJpYXMiLCJuQml0cyIsIk5hTiIsInJ0IiwiYWJzIiwiTE4yIiwiaGFzRG9udEVudW1CdWciLCJkb250RW51bXMiLCJkb250RW51bXNMZW5ndGgiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInByb3AiLCJGIiwidkFyZyIsInNlYXJjaEVsZW1lbnQiLCJrIiwiaXNGcm96ZW4iLCJyYW5kb20iLCJ1cmlUZW1wbGF0ZUdsb2JhbE1vZGlmaWVycyIsInVyaVRlbXBsYXRlU3VmZmljZXMiLCJub3RSZWFsbHlQZXJjZW50RW5jb2RlIiwiZW5jb2RlVVJJIiwiZG91YmxlRW5jb2RlZCIsInVyaVRlbXBsYXRlU3Vic3RpdHV0aW9uIiwibW9kaWZpZXIiLCJjaGFyQXQiLCJzZXBhcmF0b3IiLCJwcmVmaXgiLCJzaG91bGRFc2NhcGUiLCJzaG93VmFyaWFibGVzIiwidHJpbUVtcHR5U3RyaW5nIiwidmFyTmFtZXMiLCJ2YXJMaXN0IiwidmFyU3BlY3MiLCJ2YXJTcGVjTWFwIiwidmFyTmFtZSIsInRydW5jYXRlIiwic3VmZmljZXMiLCJ2YXJTcGVjIiwic3ViRnVuY3Rpb24iLCJ2YWx1ZUZ1bmN0aW9uIiwic3RhcnRJbmRleCIsImZpcnN0Iiwic3Vic3RpdHV0aW9uIiwiVXJpVGVtcGxhdGUiLCJ0ZW1wbGF0ZSIsInRleHRQYXJ0cyIsInByZWZpeGVzIiwic3Vic3RpdHV0aW9ucyIsInBhcnQiLCJyZW1haW5kZXIiLCJmdW5jcyIsImZpbGxGcm9tT2JqZWN0IiwiVmFsaWRhdG9yQ29udGV4dCIsInBhcmVudCIsImNvbGxlY3RNdWx0aXBsZSIsImVycm9yUmVwb3J0ZXIiLCJjaGVja1JlY3Vyc2l2ZSIsInRyYWNrVW5rbm93blByb3BlcnRpZXMiLCJtaXNzaW5nIiwibWlzc2luZ01hcCIsImZvcm1hdFZhbGlkYXRvcnMiLCJlcnJvcnMiLCJjb2xsZWN0RXJyb3IiLCJyZXR1cm5FcnJvciIsInNjYW5uZWQiLCJzY2FubmVkRnJvemVuIiwic2Nhbm5lZEZyb3plblNjaGVtYXMiLCJzY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9ycyIsInZhbGlkYXRlZFNjaGVtYXNLZXkiLCJ2YWxpZGF0aW9uRXJyb3JzS2V5Iiwia25vd25Qcm9wZXJ0eVBhdGhzIiwidW5rbm93blByb3BlcnR5UGF0aHMiLCJkZWZhdWx0RXJyb3JSZXBvcnRlciIsImRlZmluZWRLZXl3b3JkcyIsInJlY3Vyc2l2ZUNvbXBhcmUiLCJBIiwiQiIsImRlZmluZUtleXdvcmQiLCJrZXl3b3JkIiwia2V5d29yZEZ1bmN0aW9uIiwiY3JlYXRlRXJyb3IiLCJtZXNzYWdlUGFyYW1zIiwiZGF0YVBhdGgiLCJzY2hlbWFQYXRoIiwic3ViRXJyb3JzIiwiVmFsaWRhdGlvbkVycm9yIiwicHJlZml4RXJyb3JzIiwicHJlZml4V2l0aCIsImJhblVua25vd25Qcm9wZXJ0aWVzIiwidW5rbm93blBhdGgiLCJFcnJvckNvZGVzIiwiVU5LTk9XTl9QUk9QRVJUWSIsImFkZEZvcm1hdCIsImZvcm1hdCIsInZhbGlkYXRvciIsInJlc29sdmVSZWZzIiwidXJsSGlzdG9yeSIsIkNJUkNVTEFSX1JFRkVSRU5DRSIsInVybHMiLCJiYXNlVXJsIiwiZnJhZ21lbnQiLCJwb2ludGVyUGF0aCIsImNvbXBvbmVudCIsInNlYXJjaFNjaGVtYXMiLCJ0ZXN0VXJsIiwiaXNUcnVzdGVkVXJsIiwiZ2V0RG9jdW1lbnRVcmkiLCJhZGRTY2hlbWEiLCJub3JtU2NoZW1hIiwiZ2V0U2NoZW1hTWFwIiwiZ2V0U2NoZW1hVXJpcyIsImZpbHRlclJlZ0V4cCIsImdldE1pc3NpbmdVcmlzIiwiZHJvcFNjaGVtYXMiLCJ2YWxpZGF0ZUFsbCIsImRhdGFQYXRoUGFydHMiLCJzY2hlbWFQYXRoUGFydHMiLCJkYXRhUG9pbnRlclBhdGgiLCJ0b3BMZXZlbCIsImZyb3plbkluZGV4Iiwic3RhcnRFcnJvckNvdW50Iiwic2Nhbm5lZEZyb3plblNjaGVtYUluZGV4Iiwic2Nhbm5lZFNjaGVtYXNJbmRleCIsInNjaGVtYUluZGV4IiwiZnJvemVuU2NoZW1hSW5kZXgiLCJlcnJvckNvdW50IiwidmFsaWRhdGVCYXNpYyIsInZhbGlkYXRlTnVtZXJpYyIsInZhbGlkYXRlU3RyaW5nIiwidmFsaWRhdGVBcnJheSIsInZhbGlkYXRlT2JqZWN0IiwidmFsaWRhdGVDb21iaW5hdGlvbnMiLCJ2YWxpZGF0ZUh5cGVybWVkaWEiLCJ2YWxpZGF0ZUZvcm1hdCIsInZhbGlkYXRlRGVmaW5lZEtleXdvcmRzIiwiZGF0YVBhcnQiLCJzY2hlbWFQYXJ0IiwiZXJyb3JNZXNzYWdlIiwiRk9STUFUX0NVU1RPTSIsInZhbGlkYXRpb25GdW5jdGlvbnMiLCJLRVlXT1JEX0NVU1RPTSIsInZhbGlkYXRlVHlwZSIsInZhbGlkYXRlRW51bSIsImRhdGFUeXBlIiwiYWxsb3dlZFR5cGVzIiwiSU5WQUxJRF9UWVBFIiwiZXhwZWN0ZWQiLCJFTlVNX01JU01BVENIIiwidmFsaWRhdGVNdWx0aXBsZU9mIiwidmFsaWRhdGVNaW5NYXgiLCJ2YWxpZGF0ZU5hTiIsIkNMT1NFX0VOT1VHSF9MT1ciLCJDTE9TRV9FTk9VR0hfSElHSCIsInBhcnNlVVJJIiwicHJvdG9jb2wiLCJhdXRob3JpdHkiLCJob3N0IiwiaG9zdG5hbWUiLCJwb3J0IiwicGF0aG5hbWUiLCJzZWFyY2giLCJyZXNvbHZlVXJsIiwiaW5wdXQiLCJiYXNlVXJpIiwibGFuZ3VhZ2UiLCJlcnJvck1lc3NhZ2VzIiwibGFuZ3VhZ2VzIiwibWVzc2FnZVRlbXBsYXRlIiwiRXJyb3JNZXNzYWdlc0RlZmF1bHQiLCJ3aG9sZSIsInN1YlZhbHVlIiwibXVsdGlwbGVPZiIsImRpdmlzaWJsZUJ5IiwiTlVNQkVSX01VTFRJUExFX09GIiwibWluaW11bSIsIk5VTUJFUl9NSU5JTVVNIiwiZXhjbHVzaXZlTWluaW11bSIsIk5VTUJFUl9NSU5JTVVNX0VYQ0xVU0lWRSIsIm1heGltdW0iLCJOVU1CRVJfTUFYSU1VTSIsImV4Y2x1c2l2ZU1heGltdW0iLCJOVU1CRVJfTUFYSU1VTV9FWENMVVNJVkUiLCJOVU1CRVJfTk9UX0FfTlVNQkVSIiwidmFsaWRhdGVTdHJpbmdMZW5ndGgiLCJ2YWxpZGF0ZVN0cmluZ1BhdHRlcm4iLCJtaW5MZW5ndGgiLCJTVFJJTkdfTEVOR1RIX1NIT1JUIiwibWF4TGVuZ3RoIiwiU1RSSU5HX0xFTkdUSF9MT05HIiwicGF0dGVybiIsInJlZ2V4cCIsImZsYWdzIiwibGl0ZXJhbCIsIlNUUklOR19QQVRURVJOIiwidmFsaWRhdGVBcnJheUxlbmd0aCIsInZhbGlkYXRlQXJyYXlVbmlxdWVJdGVtcyIsInZhbGlkYXRlQXJyYXlJdGVtcyIsIm1pbkl0ZW1zIiwiQVJSQVlfTEVOR1RIX1NIT1JUIiwibWF4SXRlbXMiLCJBUlJBWV9MRU5HVEhfTE9ORyIsInVuaXF1ZUl0ZW1zIiwiQVJSQVlfVU5JUVVFIiwibWF0Y2gxIiwibWF0Y2gyIiwiYWRkaXRpb25hbEl0ZW1zIiwiQVJSQVlfQURESVRJT05BTF9JVEVNUyIsInZhbGlkYXRlT2JqZWN0TWluTWF4UHJvcGVydGllcyIsInZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzIiwidmFsaWRhdGVPYmplY3RQcm9wZXJ0aWVzIiwidmFsaWRhdGVPYmplY3REZXBlbmRlbmNpZXMiLCJtaW5Qcm9wZXJ0aWVzIiwiT0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTSIsInByb3BlcnR5Q291bnQiLCJtYXhQcm9wZXJ0aWVzIiwiT0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTSIsInJlcXVpcmVkIiwiT0JKRUNUX1JFUVVJUkVEIiwia2V5UG9pbnRlclBhdGgiLCJmb3VuZE1hdGNoIiwicGF0dGVyblByb3BlcnRpZXMiLCJwYXR0ZXJuS2V5IiwiYWRkaXRpb25hbFByb3BlcnRpZXMiLCJPQkpFQ1RfQURESVRJT05BTF9QUk9QRVJUSUVTIiwiZGVwZW5kZW5jaWVzIiwiZGVwS2V5IiwiZGVwIiwiT0JKRUNUX0RFUEVOREVOQ1lfS0VZIiwicmVxdWlyZWRLZXkiLCJ2YWxpZGF0ZUFsbE9mIiwidmFsaWRhdGVBbnlPZiIsInZhbGlkYXRlT25lT2YiLCJ2YWxpZGF0ZU5vdCIsImFsbE9mIiwic3ViU2NoZW1hIiwiYW55T2YiLCJvbGRVbmtub3duUHJvcGVydHlQYXRocyIsIm9sZEtub3duUHJvcGVydHlQYXRocyIsImVycm9yQXRFbmQiLCJrbm93bktleSIsInVua25vd25LZXkiLCJBTllfT0ZfTUlTU0lORyIsIm9uZU9mIiwidmFsaWRJbmRleCIsIk9ORV9PRl9NVUxUSVBMRSIsImluZGV4MSIsImluZGV4MiIsIk9ORV9PRl9NSVNTSU5HIiwibm90Iiwib2xkRXJyb3JDb3VudCIsIm5vdEVycm9ycyIsIk5PVF9QQVNTRUQiLCJsZG8iLCJyZWwiLCJhbGxQcmVzZW50IiwiRXJyb3JDb2RlTG9va3VwIiwic3RhY2t0cmFjZSIsImRhdGFQcmVmaXgiLCJzY2hlbWFQcmVmaXgiLCJ0djQiLCJjcmVhdGVBcGkiLCJjdXJyZW50TGFuZ3VhZ2UiLCJjdXN0b21FcnJvclJlcG9ydGVyIiwiYXBpIiwic2V0RXJyb3JSZXBvcnRlciIsInJlcG9ydGVyIiwiYWRkTGFuZ3VhZ2UiLCJtZXNzYWdlTWFwIiwicm9vdENvZGUiLCJmcmVzaEFwaSIsImRlZiIsInZhbGlkYXRlTXVsdGlwbGUiLCJkZWZpbmVFcnJvciIsImNvZGVOYW1lIiwiY29kZU51bWJlciIsImRlZmF1bHRNZXNzYWdlIiwibGFuZ0NvZGUiLCJlcnJvckNvZGVzIiwiQmFzZUNsaWVudFR5cGVzIiwidXJpcyIsImFsaWFzZXMiLCJmdWxsQWxpYXMiLCJleHRlbmRzIiwiZXh0ZW5kZWRBbGlhcyIsImV4dGVuZGVkVXJpIiwibWwiLCJTY2hlbWFOb3RGb3VuZCIsImRlZmF1bHRWYWx1ZSIsIl9pdGVtc1JldiIsIl9zdG9yYWdlIiwiX2NhblByb3BhZ2F0ZSIsInN0b3JlZCIsIl91cGRhdGVQYXJlbnRGb2xkZXJJdGVtUmV2IiwiX3Byb3BhZ2F0ZSIsIl9nZW5lcmF0ZUZvbGRlclJldiIsImZpbGVzIiwic29ydCIsIl9oYXNoQ29kZSIsInBhcmVudEZvbGRlciIsIl9nZXRQYXJlbnRGb2xkZXIiLCJwYXJlbnRGb2xkZXJJdGVtc1JldiIsImhhc2hJdGVtcyIsIm5ld1JldiIsIl9nZW5lcmF0ZUhhc2giLCJmb2xkZXIiLCJpdGVtc1JldiIsImhhc2hJdGVtIiwiTElOS19VUklfTUFQUyIsIkxJTktfUFJPUEVSVElFUyIsIlVSSVMiLCJnZW5lcmF0ZUVycm9yT2JqZWN0IiwiV2ViRmluZ2VyIiwid2ViZmlzdF9mYWxsYmFjayIsIl9fZmV0Y2hKUkQiLCJlcnJvckhhbmRsZXIiLCJzdWNlc3NIYW5kbGVyIiwiX19mZXRjaEpSRF9mZXRjaCIsIl9fZmV0Y2hKUkRfWEhSIiwid2ViZmluZ2VyIiwib2siLCJfX2lzVmFsaWRKU09OIiwiaGFuZGxlclNwZW50IiwiX19wcm9jZXNzU3RhdGUiLCJpc1NlY3VyZSIsIl9fbWFrZVJlcXVlc3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJvbnRpbWVvdXQiLCJfX2lzTG9jYWxob3N0IiwiX19wcm9jZXNzSlJEIiwiVVJMIiwiSlJEIiwic3VjY2Vzc0hhbmRsZXIiLCJwYXJzZWRKUkQiLCJwcm9wcyIsImFkZHJlc3MiLCJ1cmlfaW5kZXgiLCJfX2J1aWxkVVJMIiwiX19mYWxsYmFja0NoZWNrcyIsIl9fY2FsbCIsIndlYmZpc3QiLCJsb29rdXBMaW5rIiwiRmVhdHVyZXMiLCJyZWFkeUZpcmVkIiwiZmVhdHVyZU1vZHVsZXMiLCJmZWF0dXJlIiwiZmVhdHVyZU5hbWUiLCJzdXBwb3J0ZWQiLCJpbml0UmVzdWx0IiwiaW5pdCIsInNvbWUiLCJjYWNoaW5nTGF5ZXIiLCJfYmluZENoYW5nZSIsIl9wcm9jZXNzUGVuZGluZyIsInNoYXJlRmlyc3QiLCJTeW5jZWRHZXRQdXREZWxldGUiLCJnZXRTeW5jSW50ZXJ2YWwiLCJfd3JhcEJ1c3lEb25lIiwic3luY0N5Y2xlQ2IiLCJzeW5jT25Db25uZWN0IiwidGFza0ZvciIsImFjdGlvbiIsIm5vZGVDaGFuZ2VkIiwiaGFzQ29tbW9uUmV2aXNpb24iLCJTeW5jIiwiX3Rhc2tzIiwiX3J1bm5pbmciLCJfdGltZVN0YXJ0ZWQiLCJudW1UaHJlYWRzIiwib25EaWZmIiwiYWRkVGFzayIsImRvVGFza3MiLCJvbkFjdGl2YXRlIiwiZm9yY2UwMiIsImNvbnRlbnRMZW5ndGgiLCJjb3JydXB0SXRlbXNNYXAiLCJjb3JydXB0UmV2aXNpb24iLCJpc0NvcnJ1cHQiLCJuZWVkc0ZldGNoIiwibmVlZHNQdXNoIiwiaW5Db25mbGljdCIsIm5lZWRzUmVmcmVzaCIsImdldFBhcmVudFBhdGgiLCJkZWxldGVDaGlsZFBhdGhzRnJvbVRhc2tzIiwiaXNTdGFsZUNoaWxkIiwibmVlZHNSZW1vdGVQdXQiLCJuZWVkc1JlbW90ZURlbGV0ZSIsImhhc05vUmVtb3RlQ2hhbmdlcyIsImxhc3RDb21tb25WYWx1ZSIsImxhc3RDb21tb25Db250ZW50VHlwZSIsIm1lcmdlTXV0dWFsRGVsZXRpb24iLCJhdXRvTWVyZ2VGb2xkZXIiLCJhdXRvTWVyZ2VEb2N1bWVudCIsImNoYW5nZWROb2RlcyIsIm1pc3NpbmdDaGlsZHJlbiIsInJlY3Vyc2UiLCJjaGlsZE5hbWUiLCJjYWNoaW5nU3RyYXRlZ3kiLCJhdXRvTWVyZ2UiLCJjb21tb25JdGVtIiwibG9jYWxJdGVtIiwicGFyZW50Tm9kZSIsImRlbGV0ZVJlbW90ZVRyZWVzIiwiY2hhbmdlZE9ianMyIiwic3ViUGF0aHMiLCJjb2xsZWN0U3ViUGF0aHMiLCJjaGFuZ2VkTm9kZXMyIiwiYm9keU9ySXRlbXNNYXAiLCJwYXRoc0Zyb21Sb290QXJyIiwiY29sbGVjdE1pc3NpbmdDaGlsZHJlbiIsInRvQmVTYXZlZCIsInN1Y2Nlc3NmdWwiLCJ1bkF1dGgiLCJub3RGb3VuZCIsImNoYW5nZWQiLCJuZXR3b3JrUHJvYmxlbXMiLCJzZXJpZXMiLCJjb21wbGV0ZUZldGNoIiwiZGF0YUZyb21GZXRjaCIsImNvcnJ1cHRTZXJ2ZXJJdGVtc01hcCIsIm1hcmtDaGlsZHJlbiIsInVwZGF0ZUNvbW1vblRpbWVzdGFtcCIsImludGVycHJldFN0YXR1cyIsImhhbmRsZUdldFJlc3BvbnNlIiwiY29tcGxldGVQdXNoIiwiZGVhbFdpdGhGYWlsdXJlIiwidGFzayIsImhhbmRsZVJlc3BvbnNlIiwiY29tcGxldGVkIiwiY29sbGVjdFRhc2tzIiwiaGFzVGFza3MiLCJkb25lIiwibnVtVG9IYXZlIiwibnVtQWRkZWQiLCJudW1Ub0FkZCIsImRvVGFzayIsImZpbmlzaFRhc2siLCJhbHNvQ2hlY2tSZWZyZXNoIiwiY29sbGVjdERpZmZUYXNrcyIsIm51bURpZmZzIiwiY29sbGVjdFJlZnJlc2hUYXNrcyIsImVudiIsImlzQnJvd3NlciIsImhhbmRsZUNoYW5nZSIsImlzRm9yZWdyb3VuZCIsImhhbmRsZVZpc2liaWxpdHkiLCJzdGFydFN5bmMiLCJzdG9wU3luYyIsIkRFRkFVTFRfREIiLCJJbmRleGVkREIiLCJkYXRhYmFzZSIsImRiIiwiZ2V0c1J1bm5pbmciLCJwdXRzUnVubmluZyIsImNoYW5nZXNRdWV1ZWQiLCJjaGFuZ2VzUnVubmluZyIsImNvbW1pdFNsb3duZXNzV2FybmluZyIsIm1pc3NlcyIsImZyb21DYWNoZSIsImdldE5vZGVzRnJvbURiIiwibWF5YmVGbHVzaCIsImZsdXNoQ2hhbmdlc1F1ZXVlZCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInNldE5vZGVzSW5EYiIsInRyYW5zYWN0aW9uIiwib2JqZWN0U3RvcmUiLCJyZXRyaWV2ZWROb2RlcyIsIm9uc3VjY2VzcyIsIm9uY29tcGxldGUiLCJvbmFib3J0Iiwibm9kZXNTdG9yZSIsInN0YXJ0VGltZSIsImNhbGxiYWNrIiwiZGJOYW1lIiwiY2xlYW4iLCJvdGhlciIsIm9wZW5DdXJzb3IiLCJtaWdyYXRlIiwiY29udGludWUiLCJjbG9zZURCIiwicmVxIiwiaW5kZXhlZERCIiwib251cGdyYWRlbmVlZGVkIiwib2xkVmVyc2lvbiIsIm5ld1ZlcnNpb24iLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJvYmplY3RTdG9yZU5hbWVzIiwiY29udGFpbnMiLCJkYXRhYmFzZU5hbWUiLCJkZWxldGVEYXRhYmFzZSIsInBvb3JJbmRleGVkRGJTdXBwb3J0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiY2hlY2siLCJOT0RFU19QUkVGSVgiLCJpc1JlbW90ZVN0b3JhZ2VLZXkiLCJMb2NhbFN0b3JhZ2UiLCJJbk1lbW9yeVN0b3JhZ2UiXSwibWFwcGluZ3MiOiI7Q0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLGdCQUFpQixHQUFJSCxHQUNGLGlCQUFaQyxRQUNkQSxRQUF1QixjQUFJRCxJQUUzQkQsRUFBb0IsY0FBSUMsSUFSMUIsQ0FTR0ssTUFBTSxXQUNULE8sWUNURSxJQUFJQyxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVUCxRQUduQyxJQUFJQyxFQUFTSSxFQUFpQkUsR0FBWSxDQUN6Q0MsRUFBR0QsRUFDSEUsR0FBRyxFQUNIVCxRQUFTLElBVVYsT0FOQVUsRUFBUUgsR0FBVUksS0FBS1YsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU00sR0FHL0RMLEVBQU9RLEdBQUksRUFHSlIsRUFBT0QsUUEwRGYsT0FyREFNLEVBQW9CTSxFQUFJRixFQUd4QkosRUFBb0JPLEVBQUlSLEVBR3hCQyxFQUFvQlEsRUFBSSxTQUFTZCxFQUFTZSxFQUFNQyxHQUMzQ1YsRUFBb0JXLEVBQUVqQixFQUFTZSxJQUNsQ0csT0FBT0MsZUFBZW5CLEVBQVNlLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVYsRUFBb0JnQixFQUFJLFNBQVN0QixHQUNYLG9CQUFYdUIs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dUIsRUFBTXdFLGFBQWF4RSxJQUFJdkIsR0FDekIreUMsRUFBbUJ4eEMsSUFDckIwTixFQUFLeEssS0FBS2xELEdBSWQwTixFQUFLbE0sUUFBU3hCLElBQ1osVUFBSSwwQkFBMkJBLFVBQ3hCd0UsYUFBYXhFLE1BTzFCLEVBQUEyUCxZQUFZOGhDLEVBQWMsQ0FBQyxZQUUzQixVQUFTQSxHLGlIQ3hIVCxnQkFDQSxXQUNBLE9BU0EsTUFBTUMsVUFBd0IsVUFJNUIsY0FDRTFvQyxRQUhNLEtBQUF5N0IsU0FBbUMsR0FJekNwbUMsS0FBSytPLFVBQVUsQ0FBQyxTQUFVLHNCQUc1QixTQUFTaEosR0FDUCxNQUFNa1IsRUFBaUIsR0FFdkIsSUFBSyxJQUFJN1csRUFBSSxFQUFHOFcsRUFBTW5SLEVBQU1qQyxPQUFRMUQsRUFBSThXLEVBQUs5VyxJQUMzQzZXLEVBQU1sUixFQUFNM0YsSUFBTUosS0FBS29tQyxTQUFTcmdDLEVBQU0zRixJQUd4QyxPQUFPNkcsUUFBUUMsUUFBUStQLEdBR3pCLFNBQVNBLEdBQ1AsSUFBSyxNQUFNM1QsS0FBUTJULE9BQ0dqUyxJQUFoQmlTLEVBQU0zVCxVQUNEdEQsS0FBS29tQyxTQUFTOWlDLEdBRXJCdEQsS0FBS29tQyxTQUFTOWlDLEdBQVEyVCxFQUFNM1QsR0FJaEMsT0FBTzJELFFBQVFDLFVBR2pCLFlBQVlzUixHQUNWLElBQUssTUFBTWxWLEtBQVF0RCxLQUFLb21DLFNBQ3RCNXRCLEVBQUd4WSxLQUFLZ3lDLFFBQVFoeUMsS0FBS29tQyxTQUFTOWlDLEtBRWhDLE9BQU8yRCxRQUFRQyxVQUdqQixlQVdVLG1CQVdBLHVCQUVSLE9BQU8sRUFRQyx1QkFPWixFQUFBb0ssWUFBWStoQyxFQUFpQixDQUFDLFlBRTlCLFVBQVNBIiwiZmlsZSI6InJlbW90ZXN0b3JhZ2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIlJlbW90ZVN0b3JhZ2VcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiUmVtb3RlU3RvcmFnZVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJSZW1vdGVTdG9yYWdlXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE3KTtcbiIsIi8vIFJldXNhYmxlIHV0aWxpdHkgZnVuY3Rpb25zXG5cbmltcG9ydCBHbG9iYWwgPSBOb2RlSlMuR2xvYmFsO1xuXG4vKipcbiAqIFRha2VzIGFuIG9iamVjdCBhbmQgaXRzIGNvcHkgYXMgcHJvZHVjZWQgYnkgdGhlIF9kZWVwQ2xvbmUgZnVuY3Rpb25cbiAqIGJlbG93LCBhbmQgZmluZHMgYW5kIGZpeGVzIGFueSBBcnJheUJ1ZmZlcnMgdGhhdCB3ZXJlIGNhc3QgdG8gYHt9YCBpbnN0ZWFkXG4gKiBvZiBiZWluZyBjbG9uZWQgdG8gbmV3IEFycmF5QnVmZmVycyB3aXRoIHRoZSBzYW1lIGNvbnRlbnQuXG4gKlxuICogSXQgcmVjdXJzZXMgaW50byBzdWItb2JqZWN0cywgYnV0IHNraXBzIGFycmF5cyBpZiB0aGV5IG9jY3VyLlxuICovXG5mdW5jdGlvbiBfZml4QXJyYXlCdWZmZXJzKHNyY09iajogb2JqZWN0LCBkc3RPYmo6IG9iamVjdCkge1xuICBpZiAodHlwZW9mIChzcmNPYmopICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHNyY09iaikgfHwgc3JjT2JqID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAoY29uc3QgZmllbGQgaW4gc3JjT2JqKSB7XG4gICAgaWYgKHR5cGVvZiAoc3JjT2JqW2ZpZWxkXSkgPT09ICdvYmplY3QnICYmIHNyY09ialtmaWVsZF0gIT09IG51bGwpIHtcbiAgICAgIGlmIChzcmNPYmpbZmllbGRdLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpIHtcbiAgICAgICAgZHN0T2JqW2ZpZWxkXSA9IG5ldyBBcnJheUJ1ZmZlcihzcmNPYmpbZmllbGRdLmJ5dGVMZW5ndGgpO1xuICAgICAgICBjb25zdCBzcmNBcnIgPSBuZXcgSW50OEFycmF5KHNyY09ialtmaWVsZF0pO1xuICAgICAgICBjb25zdCBkc3RBcnIgPSBuZXcgSW50OEFycmF5KGRzdE9ialtmaWVsZF0pO1xuICAgICAgICBkc3RBcnIuc2V0KHNyY0Fycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfZml4QXJyYXlCdWZmZXJzKHNyY09ialtmaWVsZF0sIGRzdE9ialtmaWVsZF0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbG9nRXJyb3IgPSAoZXJyb3I6IHN0cmluZyB8IEVycm9yKTogdm9pZCA9PiB7XG4gIGlmICh0eXBlb2YgKGVycm9yKSA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yLm1lc3NhZ2UsIGVycm9yLnN0YWNrKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdsb2JhbENvbnRleHQgPSAodHlwZW9mICh3aW5kb3cpICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6ICh0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcgPyBzZWxmIDogZ2xvYmFsKSk7XG5cbmV4cG9ydCBjb25zdCBnZXRHbG9iYWxDb250ZXh0ID0gKCk6IGFueSA9PiB7XG4gIHJldHVybiAodHlwZW9mICh3aW5kb3cpICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6ICh0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcgPyBzZWxmIDogZ2xvYmFsKSk7XG59O1xuXG4vLyBUT0RPIFJlbW92ZSBpbiBmYXZvciBvZiBtb2Rlcm4gSlM6XG4vLyBgY29uc3QgbWVyZ2VkT2JqZWN0ID0geyAuLi5vYmoxLCAuLm9iajIgfWBcbmV4cG9ydCBjb25zdCBleHRlbmQgPSAoLi4uYXJncyk6IHVua25vd24gPT4ge1xuICBjb25zdCB0YXJnZXQgPSBhcmdzWzBdO1xuICBjb25zdCBzb3VyY2VzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncywgMSk7XG4gIHNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG5leHBvcnQgY29uc3QgY29udGFpbmluZ0ZvbGRlciA9IChwYXRoOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBpZiAocGF0aCA9PT0gJycpIHtcbiAgICByZXR1cm4gJy8nO1xuICB9XG4gIGlmICghcGF0aCkge1xuICAgIHRocm93IFwiUGF0aCBub3QgZ2l2ZW4hXCI7XG4gIH1cblxuICByZXR1cm4gcGF0aC5yZXBsYWNlKC9cXC8rL2csICcvJylcbiAgICAucmVwbGFjZSgvW15cXC9dK1xcLz8kLywgJycpO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzRm9sZGVyID0gKHBhdGg6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gcGF0aC5zdWJzdHIoLTEpID09PSAnLyc7XG59O1xuXG5leHBvcnQgY29uc3QgaXNEb2N1bWVudCA9IChwYXRoOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuICFpc0ZvbGRlcihwYXRoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBiYXNlTmFtZSA9IChwYXRoOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoJy8nKTtcbiAgaWYgKGlzRm9sZGVyKHBhdGgpKSB7XG4gICAgcmV0dXJuIHBhcnRzW3BhcnRzLmxlbmd0aCAtIDJdICsgJy8nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNsZWFuUGF0aCA9IChwYXRoOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gcGF0aC5yZXBsYWNlKC9cXC8rL2csICcvJylcbiAgICAuc3BsaXQoJy8nKS5tYXAoZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKCcvJylcbiAgICAucmVwbGFjZSgvJy9nLCAnJTI3Jyk7XG59O1xuXG5leHBvcnQgY29uc3QgYmluZEFsbCA9IChvYmplY3Q6IG9iamVjdCkgPT4ge1xuICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzKSB7XG4gICAgaWYgKHR5cGVvZiAob2JqZWN0W2tleV0pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBvYmplY3Rba2V5XSA9IG9iamVjdFtrZXldLmJpbmQob2JqZWN0KTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBlcXVhbCA9IChhOiBhbnksIGI6IGFueSwgc2VlbiA9IFtdKTogYm9vbGVhbiA9PiB7XG4gIGxldCBrZXk7XG5cbiAgaWYgKHR5cGVvZiAoYSkgIT09IHR5cGVvZiAoYikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAodHlwZW9mIChhKSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIChhKSA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiAoYSkgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH1cblxuICBpZiAodHlwZW9mIChhKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBhLnRvU3RyaW5nKCkgPT09IGIudG9TdHJpbmcoKTtcbiAgfVxuXG4gIGlmIChhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgJiYgYiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgLy8gV2l0aG91dCB0aGUgZm9sbG93aW5nIGNvbnZlcnNpb24gdGhlIGJyb3dzZXJzIHdvdWxkbid0IGJlIGFibGUgdG9cbiAgICAvLyB0ZWxsIHRoZSBBcnJheUJ1ZmZlciBpbnN0YW5jZXMgYXBhcnQuXG4gICAgYSA9IG5ldyBVaW50OEFycmF5KGEpO1xuICAgIGIgPSBuZXcgVWludDhBcnJheShiKTtcbiAgfVxuXG4gIC8vIElmIHRoaXMgcG9pbnQgaGFzIGJlZW4gcmVhY2hlZCwgYSBhbmQgYiBhcmUgZWl0aGVyIGFycmF5cyBvciBvYmplY3RzLlxuXG4gIGlmIChhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDAsIGMgPSBhLmxlbmd0aDsgaSA8IGM7IGkrKykge1xuICAgICAgaWYgKCFlcXVhbChhW2ldLCBiW2ldLCBzZWVuKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIENoZWNrIHRoYXQga2V5cyBmcm9tIGEgZXhpc3QgaW4gYlxuICAgIGZvciAoa2V5IGluIGEpIHtcbiAgICAgIGlmIChhLmhhc093blByb3BlcnR5KGtleSkgJiYgIShrZXkgaW4gYikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIHRoYXQga2V5cyBmcm9tIGIgZXhpc3QgaW4gYSwgYW5kIGNvbXBhcmUgdGhlIHZhbHVlc1xuICAgIGZvciAoa2V5IGluIGIpIHtcbiAgICAgIGlmICghYi5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIShrZXkgaW4gYSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBsZXQgc2VlbkFyZztcblxuICAgICAgaWYgKHR5cGVvZiAoYltrZXldKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKHNlZW4uaW5kZXhPZihiW2tleV0pID49IDApIHtcbiAgICAgICAgICAvLyBDaXJjdWxhciByZWZlcmVuY2UsIGRvbid0IGF0dGVtcHQgdG8gY29tcGFyZSB0aGlzIG9iamVjdC5cbiAgICAgICAgICAvLyBJZiBub3RoaW5nIGVsc2UgcmV0dXJucyBmYWxzZSwgdGhlIG9iamVjdHMgbWF0Y2guXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBzZWVuQXJnID0gc2Vlbi5zbGljZSgpO1xuICAgICAgICBzZWVuQXJnLnB1c2goYltrZXldKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFlcXVhbChhW2tleV0sIGJba2V5XSwgc2VlbkFyZykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlZXBDbG9uZSA9IChvYmo6IGFueSk6IGFueSA9PiB7XG4gIGlmIChvYmogPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY2xvbmUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xuICAgIF9maXhBcnJheUJ1ZmZlcnMob2JqLCBjbG9uZSk7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgcGF0aHNGcm9tUm9vdCA9IChwYXRoOiBzdHJpbmcpOiBzdHJpbmdbXSA9PiB7XG4gIGNvbnN0IHBhdGhzID0gW3BhdGhdO1xuICBjb25zdCBwYXJ0cyA9IHBhdGgucmVwbGFjZSgvXFwvJC8sICcnKS5zcGxpdCgnLycpO1xuXG4gIHdoaWxlIChwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgcGFydHMucG9wKCk7XG4gICAgcGF0aHMucHVzaChwYXJ0cy5qb2luKCcvJykgKyAnLycpO1xuICB9XG4gIHJldHVybiBwYXRocztcbn07XG5cbmV4cG9ydCBjb25zdCBsb2NhbFN0b3JhZ2VBdmFpbGFibGUgPSAoKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSBnZXRHbG9iYWxDb250ZXh0KCk7XG5cbiAgaWYgKCEoJ2xvY2FsU3RvcmFnZScgaW4gY29udGV4dCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnRleHQubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JzLWNoZWNrJywgJzEnKTtcbiAgICBjb250ZXh0LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdycy1jaGVjaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLyoqXG4gKiBFeHRyYWN0IGFuZCBwYXJzZSBKU09OIGRhdGEgZnJvbSBsb2NhbFN0b3JhZ2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIGxvY2FsU3RvcmFnZSBrZXlcbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBwYXJzZWQgb2JqZWN0IG9yIHVuZGVmaW5lZFxuICovXG5leHBvcnQgY29uc3QgZ2V0SlNPTkZyb21Mb2NhbFN0b3JhZ2UgPSAoa2V5OiBzdHJpbmcpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0+IHtcbiAgY29uc3QgY29udGV4dCA9IGdldEdsb2JhbENvbnRleHQoKSBhcyBXaW5kb3c7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShjb250ZXh0LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gbm8gSlNPTiBzdG9yZWRcbiAgfVxufTtcblxuLyoqXG4gKiBEZWNpZGUgaWYgZGF0YSBzaG91bGQgYmUgdHJlYXRlZCBhcyBiaW5hcnkgYmFzZWQgb24gdGhlIGNvbnRlbnQgKHByZXNlbmNlIG9mIG5vbi1wcmludGFibGUgY2hhcmFjdGVyc1xuICogb3IgcmVwbGFjZW1lbnQgY2hhcmFjdGVyKSBhbmQgY29udGVudC10eXBlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IC0gVGhlIGRhdGFcbiAqIEBwYXJhbSB7c3RyaW5nfSBtaW1lVHlwZSAtIFRoZSBkYXRhJ3MgY29udGVudC10eXBlXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBzaG91bGRCZVRyZWF0ZWRBc0JpbmFyeSA9IChjb250ZW50OiBzdHJpbmcgfCBBcnJheUJ1ZmZlciwgbWltZVR5cGU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxuICByZXR1cm4gISEoKG1pbWVUeXBlICYmIG1pbWVUeXBlLm1hdGNoKC9jaGFyc2V0PWJpbmFyeS8pKSB8fCAvW1xceDAwLVxceDA4XFx4MEUtXFx4MUZcXHVGRkZEXS8udGVzdChjb250ZW50IGFzIHN0cmluZykpO1xufTtcblxuLyoqXG4gKiBSZWFkIGRhdGEgZnJvbSBhbiBBcnJheUJ1ZmZlciBhbmQgcmV0dXJuIGl0IGFzIGEgc3RyaW5nXG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlclxuICogQHBhcmFtIHtzdHJpbmd9IGVuY29kaW5nXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCBhIHN0cmluZyBjb250YWluaW5nIHRoZSBkYXRhXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRUZXh0RnJvbUFycmF5QnVmZmVyID0gKGFycmF5QnVmZmVyOiBBcnJheUJ1ZmZlciwgZW5jb2Rpbmc6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgQXJyYXlCdWZmZXI+ID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLyosIHJlamVjdCovKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBCbG9iID09PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgYnVmZmVyID0gbmV3IEJ1ZmZlcihuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgICAgcmVzb2x2ZShidWZmZXIudG9TdHJpbmcoZW5jb2RpbmcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGJsb2I7XG4gICAgICBjb25zdCBnYyA9IGdsb2JhbENvbnRleHQgYXMgYW55O1xuICAgICAgLy8gVE9ETyBmaXggYXMgQmxvYkJ1aWxkZXIgaXMgbm90IGF2YWlsYWJsZSBpbiBhbGwgYnJvd3NlcnNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Jsb2JCdWlsZGVyXG4gICAgICBnYy5CbG9iQnVpbGRlciA9IGdjLkJsb2JCdWlsZGVyIHx8IGdjLldlYktpdEJsb2JCdWlsZGVyO1xuICAgICAgaWYgKHR5cGVvZiBnYy5CbG9iQnVpbGRlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgYmIgPSBuZXcgZ2MuQmxvYkJ1aWxkZXIoKTtcbiAgICAgICAgYmIuYXBwZW5kKGFycmF5QnVmZmVyKTtcbiAgICAgICAgYmxvYiA9IGJiLmdldEJsb2IoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJsb2IgPSBuZXcgQmxvYihbYXJyYXlCdWZmZXJdKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICBpZiAodHlwZW9mIGZpbGVSZWFkZXIuYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmaWxlUmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgcmVzb2x2ZShldnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsZVJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgcmVzb2x2ZShldnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBmaWxlUmVhZGVyLnJlYWRBc1RleHQoYmxvYiwgZW5jb2RpbmcpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIEVuY29kZSBzdHJpbmcgaW4gYmFzZTY0XG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBiYXNlNjQtZW5jb2RlZCBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IHRvQmFzZTY0ID0gKHN0cjogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgY29uc3QgY29udGV4dCA9IGdldEdsb2JhbENvbnRleHQoKTtcbiAgaWYgKCdidG9hJyBpbiBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGNvbnRleHRbJ2J0b2EnXShzdHIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbShzdHIpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbiAgfVxufTtcblxuLypcbiAqIEFwcGx5IG1peGlucyB0byBhbiBvYmplY3RcbiAqXG4gKiBodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay9taXhpbnMuaHRtbFxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBQYXJlbnQgb2JqZWN0XG4gKiBAcGFyYW0ge0FycmF5fSBNaXhpbnMgdG8gYXBwbHkgbWV0aG9kcyBmcm9tXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gYXBwbHlNaXhpbnMoZGVyaXZlZEN0b3I6IGFueSwgYmFzZUN0b3JzOiBhbnlbXSk6IHZvaWQge1xuICBiYXNlQ3RvcnMuZm9yRWFjaChiYXNlQ3RvciA9PiB7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYmFzZUN0b3IucHJvdG90eXBlKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRlcml2ZWRDdG9yLnByb3RvdHlwZSwgbmFtZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlQ3Rvci5wcm90b3R5cGUsIG5hbWUpKTtcbiAgICB9KTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcblxuLyoqXG4gKiBMb2cgdXNpbmcgY29uc29sZS5sb2csIHdoZW4gcmVtb3RlU3RvcmFnZSBsb2dnaW5nIGlzIGVuYWJsZWQuXG4gKlxuICogWW91IGNhbiBlbmFibGUgbG9nZ2luZyB3aXRoIGBgUmVtb3RlU3RvcmFnZSNlbmFibGVMb2dgYC5cbiAqXG4gKiAoWW91IGNhbiBhbHNvIGVuYWJsZSBsb2dnaW5nIGR1cmluZyByZW1vdGVTdG9yYWdlIG9iamVjdCBjcmVhdGlvbi4gU2VlOlxuICoge0BsaW5rIFJlbW90ZVN0b3JhZ2V9KS5cbiAqL1xuZnVuY3Rpb24gbG9nKC4uLmFyZ3MpOiB2b2lkIHtcbiAgaWYgKGNvbmZpZy5sb2dnaW5nKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmxvZyguLi5hcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgPSBsb2c7XG4iLCJpbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcblxuLy8gVE9ETyBhZGQgcmVhbCB0eXBlIGZvciBldmVudFxudHlwZSBFdmVudEhhbmRsZXIgPSAoZXZlbnQ/OiB1bmtub3duKSA9PiB2b2lkO1xuXG5jbGFzcyBFdmVudEhhbmRsaW5nIHtcbiAgX2hhbmRsZXJzOiB7IFtrZXk6IHN0cmluZ106IEV2ZW50SGFuZGxlcltdIH07XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGV2ZW50IG5hbWVzXG4gICAqXG4gICAqIFRPRE8gc2VlIGlmIG5lY2Vzc2FyeSwgb3IgY2FuIGJlIGRvbmUgb24gdGhlIGZseSBpbiBhZGRFdmVudExpc3RlbmVyXG4gICAqL1xuICBhZGRFdmVudHMoYWRkaXRpb25hbEV2ZW50czogc3RyaW5nW10pOiB2b2lkIHtcbiAgICBhZGRpdGlvbmFsRXZlbnRzLmZvckVhY2goZXZOYW1lID0+IHRoaXMuX2FkZEV2ZW50KGV2TmFtZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc3RhbGwgYW4gZXZlbnQgaGFuZGxlciBmb3IgdGhlIGdpdmVuIGV2ZW50IG5hbWVcbiAgICovXG4gIGFkZEV2ZW50TGlzdGVuZXIgKGV2ZW50TmFtZTogc3RyaW5nLCBoYW5kbGVyOiBFdmVudEhhbmRsZXIpOiB2b2lkIHtcbiAgICAvLyBDaGVjayB0eXBlIGZvciBwdWJsaWMgY29uc3VtcHRpb24gb2YgQVBJXG4gICAgaWYgKHR5cGVvZiAoZXZlbnROYW1lKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgZXZlbnROYW1lIHNob3VsZCBiZSBhIHN0cmluZycpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIChoYW5kbGVyKSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudCBoYW5kbGVyIHNob3VsZCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIGxvZygnW0V2ZW50SGFuZGxpbmddIEFkZGluZyBldmVudCBsaXN0ZW5lcicsIGV2ZW50TmFtZSk7XG4gICAgdGhpcy5fdmFsaWRhdGVFdmVudChldmVudE5hbWUpO1xuICAgIHRoaXMuX2hhbmRsZXJzW2V2ZW50TmFtZV0ucHVzaChoYW5kbGVyKTtcbiAgfVxuXG4gIC8qXG4gICAqIEFsaWFzIGZvciBhZGRFdmVudExpc3RlbmVyXG4gICAqL1xuICBvbiAoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEV2ZW50SGFuZGxlcik6IHZvaWQge1xuICAgIHJldHVybiB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBwcmV2aW91c2x5IGluc3RhbGxlZCBldmVudCBoYW5kbGVyXG4gICAqL1xuICByZW1vdmVFdmVudExpc3RlbmVyIChldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogRXZlbnRIYW5kbGVyKTogdm9pZCB7XG4gICAgdGhpcy5fdmFsaWRhdGVFdmVudChldmVudE5hbWUpO1xuICAgIGNvbnN0IGhsID0gdGhpcy5faGFuZGxlcnNbZXZlbnROYW1lXS5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBobDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5faGFuZGxlcnNbZXZlbnROYW1lXVtpXSA9PT0gaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9oYW5kbGVyc1tldmVudE5hbWVdLnNwbGljZShpLCAxKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9lbWl0IChldmVudE5hbWU6IHN0cmluZywgLi4uYXJncyk6IHZvaWQge1xuICAgIHRoaXMuX3ZhbGlkYXRlRXZlbnQoZXZlbnROYW1lKTtcbiAgICB0aGlzLl9oYW5kbGVyc1tldmVudE5hbWVdLnNsaWNlKCkuZm9yRWFjaCgoaGFuZGxlcikgPT4ge1xuICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9KTtcbiAgfVxuXG4gIF92YWxpZGF0ZUV2ZW50IChldmVudE5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICghKGV2ZW50TmFtZSBpbiB0aGlzLl9oYW5kbGVycykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gZXZlbnQ6IFwiICsgZXZlbnROYW1lKTtcbiAgICB9XG4gIH1cblxuICBfZGVsZWdhdGVFdmVudCAoZXZlbnROYW1lOiBzdHJpbmcsIHRhcmdldCk6IHZvaWQge1xuICAgIHRhcmdldC5vbihldmVudE5hbWUsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5fZW1pdChldmVudE5hbWUsIGV2ZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9hZGRFdmVudCAoZXZlbnROYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuX2hhbmRsZXJzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5faGFuZGxlcnMgPSB7fTtcbiAgICB9XG4gICAgdGhpcy5faGFuZGxlcnNbZXZlbnROYW1lXSA9IFtdO1xuICB9XG59XG5cbmV4cG9ydCA9IEV2ZW50SGFuZGxpbmc7XG4iLCIvKipcbiAqIFRoZSBkZWZhdWx0IGNvbmZpZywgbWVyZ2VkIHdpdGggdGhlIG9iamVjdCBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yIG9mIHRoZVxuICogUmVtb3RlU3RvcmFnZSBvYmplY3RcbiAqL1xuY29uc3QgY29uZmlnID0ge1xuICBjYWNoZTogdHJ1ZSxcbiAgY2hhbmdlRXZlbnRzOiB7XG4gICAgbG9jYWw6ICAgIHRydWUsXG4gICAgd2luZG93OiAgIGZhbHNlLFxuICAgIHJlbW90ZTogICB0cnVlLFxuICAgIGNvbmZsaWN0OiB0cnVlXG4gIH0sXG4gIGNvcmRvdmFSZWRpcmVjdFVyaTogdW5kZWZpbmVkLFxuICBsb2dnaW5nOiBmYWxzZSxcbiAgbW9kdWxlczogW10sXG4gIC8vIHRoZSBmb2xsb3dpbmcgYXJlIG5vdCBwdWJsaWMgYW5kIHdpbGwgcHJvYmFibHkgYmUgbW92ZWQgYXdheSBmcm9tIHRoZVxuICAvLyBkZWZhdWx0IGNvbmZpZ1xuICBiYWNrZ3JvdW5kU3luY0ludGVydmFsOiA2MDAwMCxcbiAgZGlzYWJsZUZlYXR1cmVzOiBbXSxcbiAgZGlzY292ZXJ5VGltZW91dDogMTAwMDAsXG4gIGlzQmFja2dyb3VuZDogZmFsc2UsXG4gIHJlcXVlc3RUaW1lb3V0OiAzMDAwMCxcbiAgc3luY0ludGVydmFsOiAxMDAwMFxufTtcblxuZXhwb3J0ID0gY29uZmlnO1xuIiwiY2xhc3MgVW5hdXRob3JpemVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvZGU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvciAobWVzc2FnZT86IHN0cmluZywgb3B0aW9uczoge2NvZGU/OiBzdHJpbmd9ID0ge30pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubmFtZSA9ICdVbmF1dGhvcml6ZWQnO1xuXG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5tZXNzYWdlID0gJ0FwcCBhdXRob3JpemF0aW9uIGV4cGlyZWQgb3IgcmV2b2tlZC4nO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jb2RlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5jb2RlID0gb3B0aW9ucy5jb2RlO1xuICAgIH1cblxuICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xuICB9O1xufVxuXG5leHBvcnQgPSBVbmF1dGhvcml6ZWRFcnJvcjtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImltcG9ydCBsb2cgZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHsgbG9jYWxTdG9yYWdlQXZhaWxhYmxlLCBnbG9iYWxDb250ZXh0LCB0b0Jhc2U2NCB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgVW5hdXRob3JpemVkRXJyb3IgZnJvbSAnLi91bmF1dGhvcml6ZWQtZXJyb3InO1xuXG5pbnRlcmZhY2UgQXV0aE9wdGlvbnMge1xuICBhdXRoVVJMOiBzdHJpbmc7XG4gIHNjb3BlPzogc3RyaW5nO1xuICBjbGllbnRJZD86IHN0cmluZztcbiAgcmVkaXJlY3RVcmk/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBBdXRoUmVzdWx0IHtcbiAgYWNjZXNzX3Rva2VuPzogc3RyaW5nO1xuICByc0Rpc2NvdmVyeT86IG9iamVjdDtcbiAgZXJyb3I/OiBzdHJpbmc7XG4gIHJlbW90ZXN0b3JhZ2U/OiBzdHJpbmc7XG4gIHN0YXRlPzogc3RyaW5nO1xufVxuXG4vLyBUaGlzIGlzIHNldCBpbiBfcnNfaW5pdCBhbmQgbmVlZGVkIGZvciByZW1vdmFsIGluIF9yc19jbGVhbnVwXG5sZXQgb25GZWF0dXJlc0xvYWRlZDogRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGV4dHJhY3RQYXJhbXMgKHVybD86IHN0cmluZyk6IEF1dGhSZXN1bHQge1xuICAvLyBGRiBhbHJlYWR5IGRlY29kZXMgdGhlIFVSTCBmcmFnbWVudCBpbiBkb2N1bWVudC5sb2NhdGlvbi5oYXNoLCBzbyB1c2UgdGhpcyBpbnN0ZWFkOlxuICBjb25zdCBsb2NhdGlvbiA9IHVybCB8fCBBdXRob3JpemUuZ2V0TG9jYXRpb24oKS5ocmVmO1xuICBjb25zdCBoYXNoUG9zICA9IGxvY2F0aW9uLmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2hQb3MgPT09IC0xKSB7IHJldHVybjsgfVxuICBjb25zdCB1cmxGcmFnbWVudCA9IGxvY2F0aW9uLnN1YnN0cmluZyhoYXNoUG9zKzEpO1xuICAvLyBpZiBoYXNoIGlzIG5vdCBvZiB0aGUgZm9ybSAja2V5PXZhbCZrZXk9dmFsLCBpdCdzIHByb2JhYmx5IG5vdCBmb3IgdXNcbiAgaWYgKCF1cmxGcmFnbWVudC5pbmNsdWRlcygnPScpKSB7IHJldHVybjsgfVxuXG4gIHJldHVybiB1cmxGcmFnbWVudC5zcGxpdCgnJicpLnJlZHVjZShmdW5jdGlvbihwYXJhbXMsIGt2cykge1xuICAgIGNvbnN0IGt2ID0ga3ZzLnNwbGl0KCc9Jyk7XG5cbiAgICBpZiAoa3ZbMF0gPT09ICdzdGF0ZScgJiYga3ZbMV0ubWF0Y2goL3JzRGlzY292ZXJ5LykpIHtcbiAgICAgIC8vIGV4dHJhY3QgcnNEaXNjb3ZlcnkgZGF0YSBmcm9tIHRoZSBzdGF0ZSBwYXJhbVxuICAgICAgbGV0IHN0YXRlVmFsdWUgPSBkZWNvZGVVUklDb21wb25lbnQoa3ZbMV0pO1xuICAgICAgY29uc3QgZW5jb2RlZERhdGEgPSBzdGF0ZVZhbHVlLnN1YnN0cihzdGF0ZVZhbHVlLmluZGV4T2YoJ3JzRGlzY292ZXJ5PScpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnJicpWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCc9JylbMV07XG5cbiAgICAgIHBhcmFtc1sncnNEaXNjb3ZlcnknXSA9IEpTT04ucGFyc2UoYXRvYihlbmNvZGVkRGF0YSkpO1xuXG4gICAgICAvLyByZW1vdmUgcnNEaXNjb3ZlcnkgcGFyYW1cbiAgICAgIHN0YXRlVmFsdWUgPSBzdGF0ZVZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cCgnJj9yc0Rpc2NvdmVyeT0nICsgZW5jb2RlZERhdGEpLCAnJyk7XG5cbiAgICAgIGlmIChzdGF0ZVZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGFyYW1zWydzdGF0ZSddID0gc3RhdGVWYWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGFyYW1zW2RlY29kZVVSSUNvbXBvbmVudChrdlswXSldID0gZGVjb2RlVVJJQ29tcG9uZW50KGt2WzFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyYW1zO1xuICB9LCB7fSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkT0F1dGhVUkwgKGF1dGhVUkw6IHN0cmluZywgcmVkaXJlY3RVcmk6IHN0cmluZywgc2NvcGU6IHN0cmluZywgY2xpZW50SWQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGhhc2hQb3MgPSByZWRpcmVjdFVyaS5pbmRleE9mKCcjJyk7XG4gIGxldCB1cmwgPSBhdXRoVVJMO1xuXG4gIHVybCArPSBhdXRoVVJMLmluZGV4T2YoJz8nKSA+IDAgPyAnJicgOiAnPyc7XG4gIHVybCArPSAncmVkaXJlY3RfdXJpPScgKyBlbmNvZGVVUklDb21wb25lbnQocmVkaXJlY3RVcmkucmVwbGFjZSgvIy4qJC8sICcnKSk7XG4gIHVybCArPSAnJnNjb3BlPScgKyBlbmNvZGVVUklDb21wb25lbnQoc2NvcGUpO1xuICB1cmwgKz0gJyZjbGllbnRfaWQ9JyArIGVuY29kZVVSSUNvbXBvbmVudChjbGllbnRJZCk7XG5cbiAgaWYgKGhhc2hQb3MgIT09IC0gMSAmJiBoYXNoUG9zKzEgIT09IHJlZGlyZWN0VXJpLmxlbmd0aCkge1xuICAgIHVybCArPSAnJnN0YXRlPScgKyBlbmNvZGVVUklDb21wb25lbnQocmVkaXJlY3RVcmkuc3Vic3RyaW5nKGhhc2hQb3MrMSkpO1xuICB9XG4gIHVybCArPSAnJnJlc3BvbnNlX3R5cGU9dG9rZW4nO1xuXG4gIHJldHVybiB1cmw7XG59XG5cbmNsYXNzIEF1dGhvcml6ZSB7XG4gIHN0YXRpYyBJTVBMSUVEX0ZBS0VfVE9LRU4gPSBmYWxzZTtcblxuICBzdGF0aWMgYXV0aG9yaXplIChyZW1vdGVTdG9yYWdlLCB7IGF1dGhVUkwsIHNjb3BlLCByZWRpcmVjdFVyaSwgY2xpZW50SWQgfTogQXV0aE9wdGlvbnMpOiB2b2lkIHtcbiAgICBsb2coJ1tBdXRob3JpemVdIGF1dGhVUkwgPSAnLCBhdXRoVVJMLCAnc2NvcGUgPSAnLCBzY29wZSwgJ3JlZGlyZWN0VXJpID0gJywgcmVkaXJlY3RVcmksICdjbGllbnRJZCA9ICcsIGNsaWVudElkKTtcblxuICAgIC8vIFRPRE8gYWRkIGEgdGVzdCBmb3IgdGhpc1xuICAgIC8vIGtlZXAgdHJhY2sgb2YgdGhlIGRpc2NvdmVyeSBkYXRhIGR1cmluZyByZWRpcmVjdCBpZiB3ZSBjYW4ndCBzYXZlIGl0IGluIGxvY2FsU3RvcmFnZVxuICAgIGlmICghbG9jYWxTdG9yYWdlQXZhaWxhYmxlKCkgJiYgcmVtb3RlU3RvcmFnZS5iYWNrZW5kID09PSAncmVtb3Rlc3RvcmFnZScpIHtcbiAgICAgIHJlZGlyZWN0VXJpICs9IHJlZGlyZWN0VXJpLmluZGV4T2YoJyMnKSA+IDAgPyAnJicgOiAnIyc7XG5cbiAgICAgIGNvbnN0IGRpc2NvdmVyeURhdGEgPSB7XG4gICAgICAgIHVzZXJBZGRyZXNzOiByZW1vdGVTdG9yYWdlLnJlbW90ZS51c2VyQWRkcmVzcyxcbiAgICAgICAgaHJlZjogcmVtb3RlU3RvcmFnZS5yZW1vdGUuaHJlZixcbiAgICAgICAgc3RvcmFnZUFwaTogcmVtb3RlU3RvcmFnZS5yZW1vdGUuc3RvcmFnZUFwaSxcbiAgICAgICAgcHJvcGVydGllczogcmVtb3RlU3RvcmFnZS5yZW1vdGUucHJvcGVydGllc1xuICAgICAgfTtcblxuICAgICAgcmVkaXJlY3RVcmkgKz0gJ3JzRGlzY292ZXJ5PScgKyB0b0Jhc2U2NChKU09OLnN0cmluZ2lmeShkaXNjb3ZlcnlEYXRhKSk7XG4gICAgfVxuXG4gICAgY29uc3QgdXJsID0gYnVpbGRPQXV0aFVSTChhdXRoVVJMLCByZWRpcmVjdFVyaSwgc2NvcGUsIGNsaWVudElkKTtcblxuICAgIC8vIEZJWE1FIGRlY2xhcmUgcG90ZW50aWFsIGBjb3Jkb252YWAgcHJvcGVydHkgb24gZ2xvYmFsIHNvbWVob3csIHNvIHdlIGRvbid0IGhhdmUgdG9cbiAgICAvLyB1c2UgYSBzdHJpbmcgYWNjZXNzb3IgaGVyZS5cbiAgICBpZiAoZ2xvYmFsQ29udGV4dFsnY29yZG92YSddKSB7XG4gICAgICBBdXRob3JpemVcbiAgICAgICAgLm9wZW5XaW5kb3codXJsLCByZWRpcmVjdFVyaSwgJ2xvY2F0aW9uPXllcyxjbGVhcnNlc3Npb25jYWNoZT15ZXMsY2xlYXJjYWNoZT15ZXMnKVxuICAgICAgICAudGhlbigoYXV0aFJlc3VsdDogQXV0aFJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLmNvbmZpZ3VyZSh7IHRva2VuOiBhdXRoUmVzdWx0LmFjY2Vzc190b2tlbiB9KTtcbiAgICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQXV0aG9yaXplLnNldExvY2F0aW9uKHVybCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgZG9jdW1lbnQgbG9jYXRpb25cbiAgICpcbiAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgYWNjZXNzIHRvIGRvY3VtZW50LmxvY2F0aW9uIGlzIGZvcmJpZGRlblxuICAgKi9cbiAgc3RhdGljIGdldExvY2F0aW9uID0gZnVuY3Rpb24gKCk6IExvY2F0aW9uIHtcbiAgICByZXR1cm4gZG9jdW1lbnQubG9jYXRpb247XG4gIH07XG5cbiAgLyoqXG4gICAqIE9wZW4gbmV3IEluQXBwQnJvd3NlciB3aW5kb3cgZm9yIE9BdXRoIGluIENvcmRvdmFcbiAgICovXG4gIHN0YXRpYyBvcGVuV2luZG93ID0gZnVuY3Rpb24gKHVybCwgcmVkaXJlY3RVcmksIG9wdGlvbnMpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KTogYW55ID0+IHtcblxuICAgICAgY29uc3QgbmV3V2luZG93ID0gb3Blbih1cmwsICdfYmxhbmsnLCBvcHRpb25zKTtcblxuICAgICAgaWYgKCFuZXdXaW5kb3cgfHwgbmV3V2luZG93LmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0KCdBdXRob3JpemF0aW9uIHBvcHVwIHdhcyBibG9ja2VkJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZUV4aXQgKCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0KCdBdXRob3JpemF0aW9uIHdhcyBjYW5jZWxlZCcpO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gaGFuZGxlTG9hZHN0YXJ0IChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudXJsLmluZGV4T2YocmVkaXJlY3RVcmkpICE9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3V2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2V4aXQnLCBoYW5kbGVFeGl0KTtcbiAgICAgICAgbmV3V2luZG93LmNsb3NlKCk7XG5cbiAgICAgICAgY29uc3QgYXV0aFJlc3VsdDogQXV0aFJlc3VsdCA9IGV4dHJhY3RQYXJhbXMoZXZlbnQudXJsKTtcblxuICAgICAgICBpZiAoIWF1dGhSZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KCdBdXRob3JpemF0aW9uIGVycm9yJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzb2x2ZShhdXRoUmVzdWx0KTtcbiAgICAgIH07XG5cbiAgICAgIG5ld1dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2Fkc3RhcnQnLCBoYW5kbGVMb2Fkc3RhcnQpO1xuICAgICAgbmV3V2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2V4aXQnLCBoYW5kbGVFeGl0KTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IGN1cnJlbnQgZG9jdW1lbnQgbG9jYXRpb25cbiAgICpcbiAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgYWNjZXNzIHRvIGRvY3VtZW50LmxvY2F0aW9uIGlzIGZvcmJpZGRlblxuICAgKi9cbiAgc3RhdGljIHNldExvY2F0aW9uIChsb2NhdGlvbjogc3RyaW5nIHwgTG9jYXRpb24pOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IGxvY2F0aW9uO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnb2JqZWN0Jykge1xuICAgICAgZG9jdW1lbnQubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJJbnZhbGlkIGxvY2F0aW9uIFwiICsgbG9jYXRpb247XG4gICAgfVxuICB9O1xuXG4gIHN0YXRpYyBfcnNfc3VwcG9ydGVkICgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHlwZW9mKGRvY3VtZW50KSAhPT0gJ3VuZGVmaW5lZCc7XG4gIH07XG5cbiAgc3RhdGljIF9yc19pbml0ID0gZnVuY3Rpb24gKHJlbW90ZVN0b3JhZ2UpOiB2b2lkIHtcbiAgICBjb25zdCBwYXJhbXMgPSBleHRyYWN0UGFyYW1zKCk7XG4gICAgbGV0IGxvY2F0aW9uO1xuXG4gICAgaWYgKHBhcmFtcykge1xuICAgICAgbG9jYXRpb24gPSBBdXRob3JpemUuZ2V0TG9jYXRpb24oKTtcbiAgICAgIGxvY2F0aW9uLmhhc2ggPSAnJztcbiAgICB9XG5cbiAgICBvbkZlYXR1cmVzTG9hZGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgYXV0aFBhcmFtc1VzZWQgPSBmYWxzZTtcblxuICAgICAgaWYgKCFwYXJhbXMpIHtcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5yZW1vdGUuc3RvcFdhaXRpbmdGb3JUb2tlbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9O1xuXG4gICAgICBpZiAocGFyYW1zLmVycm9yKSB7XG4gICAgICAgIGlmIChwYXJhbXMuZXJyb3IgPT09ICdhY2Nlc3NfZGVuaWVkJykge1xuICAgICAgICAgIHRocm93IG5ldyBVbmF1dGhvcml6ZWRFcnJvcignQXV0aG9yaXphdGlvbiBmYWlsZWQ6IGFjY2VzcyBkZW5pZWQnLCB7IGNvZGU6ICdhY2Nlc3NfZGVuaWVkJyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVW5hdXRob3JpemVkRXJyb3IoYEF1dGhvcml6YXRpb24gZmFpbGVkOiAke3BhcmFtcy5lcnJvcn1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyByc0Rpc2NvdmVyeSBjYW1lIHdpdGggdGhlIHJlZGlyZWN0LCBiZWNhdXNlIGl0IGNvdWxkbid0IGJlXG4gICAgICAvLyBzYXZlZCBpbiBsb2NhbFN0b3JhZ2VcbiAgICAgIGlmIChwYXJhbXMucnNEaXNjb3ZlcnkpIHtcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5yZW1vdGUuY29uZmlndXJlKHBhcmFtcy5yc0Rpc2NvdmVyeSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMuYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLmNvbmZpZ3VyZSh7IHRva2VuOiBwYXJhbXMuYWNjZXNzX3Rva2VuIH0pO1xuICAgICAgICBhdXRoUGFyYW1zVXNlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMucmVtb3Rlc3RvcmFnZSkge1xuICAgICAgICByZW1vdGVTdG9yYWdlLmNvbm5lY3QocGFyYW1zLnJlbW90ZXN0b3JhZ2UpO1xuICAgICAgICBhdXRoUGFyYW1zVXNlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMuc3RhdGUpIHtcbiAgICAgICAgbG9jYXRpb24gPSBBdXRob3JpemUuZ2V0TG9jYXRpb24oKTtcbiAgICAgICAgQXV0aG9yaXplLnNldExvY2F0aW9uKGxvY2F0aW9uLmhyZWYuc3BsaXQoJyMnKVswXSsnIycrcGFyYW1zLnN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFhdXRoUGFyYW1zVXNlZCkge1xuICAgICAgICByZW1vdGVTdG9yYWdlLnJlbW90ZS5zdG9wV2FpdGluZ0ZvclRva2VuKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJlbW90ZVN0b3JhZ2Uub24oJ2ZlYXR1cmVzLWxvYWRlZCcsIG9uRmVhdHVyZXNMb2FkZWQpO1xuICB9O1xuXG4gIHN0YXRpYyBfcnNfY2xlYW51cCAocmVtb3RlU3RvcmFnZSk6IHZvaWQge1xuICAgIHJlbW90ZVN0b3JhZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZmVhdHVyZXMtbG9hZGVkJywgb25GZWF0dXJlc0xvYWRlZCk7XG4gIH07XG59O1xuXG5leHBvcnQgPSBBdXRob3JpemU7XG4iLCJpbXBvcnQgdHY0IGZyb20gJ3R2NCc7XG5pbXBvcnQgVHlwZXMgZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgU2NoZW1hTm90Rm91bmQgZnJvbSAnLi9zY2hlbWEtbm90LWZvdW5kLWVycm9yJztcbmltcG9ydCBFdmVudEhhbmRsaW5nIGZyb20gJy4vZXZlbnRoYW5kbGluZyc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGFwcGx5TWl4aW5zLCBjbGVhblBhdGggfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IFJlbW90ZVN0b3JhZ2UgZnJvbSAnLi9yZW1vdGVzdG9yYWdlJztcblxuLyoqXG4gKiBQcm92aWRlcyBhIGhpZ2gtbGV2ZWwgaW50ZXJmYWNlIHRvIGFjY2VzcyBkYXRhIGJlbG93IGEgZ2l2ZW4gcm9vdCBwYXRoLlxuICovXG5jbGFzcyBCYXNlQ2xpZW50IHtcbiAgLyoqXG4gICAqIFRoZSA8UmVtb3RlU3RvcmFnZT4gaW5zdGFuY2UgdGhpcyA8QmFzZUNsaWVudD4gb3BlcmF0ZXMgb24uXG4gICAqL1xuICBzdG9yYWdlOiBSZW1vdGVTdG9yYWdlO1xuXG4gIC8qKlxuICAgKiBCYXNlIHBhdGgsIHdoaWNoIHRoaXMgPEJhc2VDbGllbnQ+IG9wZXJhdGVzIG9uLlxuICAgKlxuICAgKiBGb3IgdGhlIG1vZHVsZSdzIHByaXZhdGVDbGllbnQgdGhpcyB3b3VsZCBiZSAvPG1vZHVsZU5hbWU+LywgZm9yIHRoZVxuICAgKiBjb3JyZXNwb25kaW5nIHB1YmxpY0NsaWVudCAvcHVibGljLzxtb2R1bGVOYW1lPi8uXG4gICAqL1xuICBiYXNlOiBzdHJpbmc7XG5cbiAgbW9kdWxlTmFtZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHN0b3JhZ2U6IFJlbW90ZVN0b3JhZ2UsIGJhc2U6IHN0cmluZykge1xuICAgIGlmIChiYXNlW2Jhc2UubGVuZ3RoIC0gMV0gIT09ICcvJykge1xuICAgICAgdGhyb3cgXCJOb3QgYSBmb2xkZXI6IFwiICsgYmFzZTtcbiAgICB9XG5cbiAgICBpZiAoYmFzZSA9PT0gJy8nKSB7XG4gICAgICAvLyBhbGxvdyBhYnNvbHV0ZSBhbmQgcmVsYXRpdmUgcGF0aHMgZm9yIHRoZSByb290IHNjb3BlLlxuICAgICAgdGhpcy5tYWtlUGF0aCA9IChwYXRoOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgICAgICByZXR1cm4gKHBhdGhbMF0gPT09ICcvJyA/ICcnIDogJy8nKSArIHBhdGg7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XG4gICAgdGhpcy5iYXNlID0gYmFzZTtcblxuICAgIC8qKlxuICAgICAqIFRPRE86IGRvY3VtZW50XG4gICAgICovXG4gICAgY29uc3QgcGFydHMgPSB0aGlzLmJhc2Uuc3BsaXQoJy8nKTtcbiAgICBpZiAocGFydHMubGVuZ3RoID4gMikge1xuICAgICAgdGhpcy5tb2R1bGVOYW1lID0gcGFydHNbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubW9kdWxlTmFtZSA9ICdyb290JztcbiAgICB9XG5cbiAgICB0aGlzLmFkZEV2ZW50cyhbJ2NoYW5nZSddKTtcbiAgICB0aGlzLm9uID0gdGhpcy5vbi5iaW5kKHRoaXMpO1xuICAgIHN0b3JhZ2Uub25DaGFuZ2UodGhpcy5iYXNlLCB0aGlzLl9maXJlQ2hhbmdlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgbmV3IGNsaWVudCwgc2NvcGVkIHRvIGEgc3VicGF0aCBvZiB0aGUgY3VycmVudCBjbGllbnQnc1xuICAgKiBwYXRoLlxuICAgKlxuICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBwYXRoIHRvIHNjb3BlIHRoZSBuZXcgY2xpZW50IHRvXG4gICAqXG4gICAqIEByZXR1cm5zICBBIG5ldyBjbGllbnQgb3BlcmF0aW5nIG9uIGEgc3VicGF0aCBvZiB0aGUgY3VycmVudCBiYXNlIHBhdGhcbiAgICovXG4gIHNjb3BlIChwYXRoOiBzdHJpbmcpOiBCYXNlQ2xpZW50IHtcbiAgICByZXR1cm4gbmV3IEJhc2VDbGllbnQodGhpcy5zdG9yYWdlLCB0aGlzLm1ha2VQYXRoKHBhdGgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBsaXN0IG9mIGNoaWxkIG5vZGVzIGJlbG93IGEgZ2l2ZW4gcGF0aC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBUaGUgcGF0aCB0byBxdWVyeS4gSXQgTVVTVCBlbmQgd2l0aCBhIGZvcndhcmQgc2xhc2guXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBZ2UgLSAob3B0aW9uYWwpIEVpdGhlciBgYGZhbHNlYGAgb3IgdGhlIG1heGltdW0gYWdlIG9mXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZWQgbGlzdGluZyBpbiBtaWxsaXNlY29uZHMuIFNlZSA6cmVmOmBtYXgtYWdlYC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSBmb3IgYW4gb2JqZWN0IHJlcHJlc2VudGluZyBjaGlsZCBub2Rlc1xuICAgKi9cbiAgLy8gVE9ETyBhZGQgcmVhbCByZXR1cm4gdHlwZVxuICBnZXRMaXN0aW5nIChwYXRoOiBzdHJpbmcsIG1heEFnZT86IGZhbHNlIHwgbnVtYmVyKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKHR5cGVvZiAocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICBwYXRoID0gJyc7XG4gICAgfSBlbHNlIGlmIChwYXRoLmxlbmd0aCA+IDAgJiYgcGF0aFtwYXRoLmxlbmd0aCAtIDFdICE9PSAnLycpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIk5vdCBhIGZvbGRlcjogXCIgKyBwYXRoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXQodGhpcy5tYWtlUGF0aChwYXRoKSwgbWF4QWdlKS50aGVuKFxuICAgICAgZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgcmV0dXJuIChyLnN0YXR1c0NvZGUgPT09IDQwNCkgPyB7fSA6IHIuYm9keTtcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgb2JqZWN0cyBkaXJlY3RseSBiZWxvdyBhIGdpdmVuIHBhdGguXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCB0byB0aGUgZm9sZGVyLiBNdXN0IGVuZCBpbiBhIGZvcndhcmQgc2xhc2guXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBZ2UgLSAob3B0aW9uYWwpIEVpdGhlciBgYGZhbHNlYGAgb3IgdGhlIG1heGltdW0gYWdlIG9mXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZWQgb2JqZWN0cyBpbiBtaWxsaXNlY29uZHMuIFNlZSA6cmVmOmBtYXgtYWdlYC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSBmb3IgYW4gb2JqZWN0XG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHJldHVybiB0eXBlXG4gIGdldEFsbCAocGF0aDogc3RyaW5nLCBtYXhBZ2U/OiBmYWxzZSB8IG51bWJlcik6IFByb21pc2U8dW5rbm93bj4ge1xuICAgIGlmICh0eXBlb2YgKHBhdGgpICE9PSAnc3RyaW5nJykge1xuICAgICAgcGF0aCA9ICcnO1xuICAgIH0gZWxzZSBpZiAocGF0aC5sZW5ndGggPiAwICYmIHBhdGhbcGF0aC5sZW5ndGggLSAxXSAhPT0gJy8nKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJOb3QgYSBmb2xkZXI6IFwiICsgcGF0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXQodGhpcy5tYWtlUGF0aChwYXRoKSwgbWF4QWdlKS50aGVuKChyKSA9PiB7XG4gICAgICBpZiAoci5zdGF0dXNDb2RlID09PSA0MDQpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiAoci5ib2R5KSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHIuYm9keSk7XG4gICAgICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIC8vIHRyZWF0IHRoaXMgbGlrZSA0MDQuIGl0IHByb2JhYmx5IG1lYW5zIGEgZm9sZGVyIGxpc3RpbmcgdGhhdFxuICAgICAgICAgIC8vIGhhcyBjaGFuZ2VzIHRoYXQgaGF2ZW4ndCBiZWVuIHB1c2hlZCBvdXQgeWV0LlxuICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhbGxzID0ga2V5cy5tYXAoKGtleTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXQodGhpcy5tYWtlUGF0aChwYXRoICsga2V5KSwgbWF4QWdlKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoby5ib2R5KSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgby5ib2R5ID0gSlNPTi5wYXJzZShvLmJvZHkpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgIC8vIGVtcHR5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgKG8uYm9keSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgci5ib2R5W2tleV0gPSBvLmJvZHk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGNhbGxzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gci5ib2R5O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZpbGUgYXQgdGhlIGdpdmVuIHBhdGguIEEgZmlsZSBpcyByYXcgZGF0YSwgYXMgb3Bwb3NlZCB0b1xuICAgKiBhIEpTT04gb2JqZWN0ICh1c2UgOmZ1bmM6YGdldE9iamVjdGAgZm9yIHRoYXQpLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFJlbGF0aXZlIHBhdGggZnJvbSB0aGUgbW9kdWxlIHJvb3QgKHdpdGhvdXQgbGVhZGluZ1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIHNsYXNoKS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heEFnZSAtIChvcHRpb25hbCkgRWl0aGVyIGBgZmFsc2VgYCBvciB0aGUgbWF4aW11bSBhZ2Ugb2ZcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBjYWNoZWQgZmlsZSBpbiBtaWxsaXNlY29uZHMuIFNlZSA6cmVmOmBtYXgtYWdlYC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSBmb3IgYW4gb2JqZWN0XG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHJldHVybiB0eXBlXG4gIGdldEZpbGUgKHBhdGg6IHN0cmluZywgbWF4QWdlPzogZmFsc2UgfCBudW1iZXIpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICBpZiAodHlwZW9mIChwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LmdldEZpbGUgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldCh0aGlzLm1ha2VQYXRoKHBhdGgpLCBtYXhBZ2UpLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IHIuYm9keSxcbiAgICAgICAgY29udGVudFR5cGU6IHIuY29udGVudFR5cGUsXG4gICAgICAgIHJldmlzaW9uOiByLnJldmlzaW9uIC8vICh0aGlzIGlzIG5ldylcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcmUgcmF3IGRhdGEgYXQgYSBnaXZlbiBwYXRoLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWltZVR5cGUgLSBNSU1FIG1lZGlhIHR5cGUgb2YgdGhlIGRhdGEgYmVpbmcgc3RvcmVkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoICAgICAtIFBhdGggcmVsYXRpdmUgdG8gdGhlIG1vZHVsZSByb290XG4gICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gYm9keSAtIFJhdyBkYXRhIHRvIHN0b3JlXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgZm9yIHRoZSBjcmVhdGVkL3VwZGF0ZWQgcmV2aXNpb24gKEVUYWcpXG4gICAqL1xuICBzdG9yZUZpbGUgKG1pbWVUeXBlOiBzdHJpbmcsIHBhdGg6IHN0cmluZywgYm9keTogc3RyaW5nIHwgQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGlmICh0eXBlb2YgKG1pbWVUeXBlKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQXJndW1lbnQgXFwnbWltZVR5cGVcXCcgb2YgYmFzZUNsaWVudC5zdG9yZUZpbGUgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIChwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LnN0b3JlRmlsZSBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgKGJvZHkpICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgKGJvZHkpICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdib2R5XFwnIG9mIGJhc2VDbGllbnQuc3RvcmVGaWxlIG11c3QgYmUgYSBzdHJpbmcsIEFycmF5QnVmZmVyLCBvciBBcnJheUJ1ZmZlclZpZXcnKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnN0b3JhZ2UuYWNjZXNzLmNoZWNrUGF0aFBlcm1pc3Npb24odGhpcy5tYWtlUGF0aChwYXRoKSwgJ3J3JykpIHtcbiAgICAgIGNvbnNvbGUud2FybignV0FSTklORzogRWRpdGluZyBhIGRvY3VtZW50IHRvIHdoaWNoIG9ubHkgcmVhZCBhY2Nlc3MgKFxcJ3JcXCcpIHdhcyBjbGFpbWVkJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5wdXQodGhpcy5tYWtlUGF0aChwYXRoKSwgYm9keSwgbWltZVR5cGUpLnRoZW4oKHIpID0+IHtcbiAgICAgIGlmIChyLnN0YXR1c0NvZGUgPT09IDIwMCB8fCByLnN0YXR1c0NvZGUgPT09IDIwMSkge1xuICAgICAgICByZXR1cm4gci5yZXZpc2lvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIlJlcXVlc3QgKFBVVCBcIiArIHRoaXMubWFrZVBhdGgocGF0aCkgKyBcIikgZmFpbGVkIHdpdGggc3RhdHVzOiBcIiArIHIuc3RhdHVzQ29kZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgSlNPTiBvYmplY3QgZnJvbSB0aGUgZ2l2ZW4gcGF0aC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBSZWxhdGl2ZSBwYXRoIGZyb20gdGhlIG1vZHVsZSByb290ICh3aXRob3V0IGxlYWRpbmdcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBzbGFzaCkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBZ2UgLSAob3B0aW9uYWwpIEVpdGhlciBgYGZhbHNlYGAgb3IgdGhlIG1heGltdW0gYWdlIG9mXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZWQgb2JqZWN0IGluIG1pbGxpc2Vjb25kcy4gU2VlIDpyZWY6YG1heC1hZ2VgLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlLCB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSByZXF1ZXN0ZWQgb2JqZWN0IChvciBgYG51bGxgYFxuICAgKiAgICAgICAgICBpZiBub24tZXhpc3RlbnQpXG4gICAqL1xuXG4gIC8vIFRPRE8gYWRkIHJlYWwgcmV0dXJuIHR5cGVcbiAgZ2V0T2JqZWN0IChwYXRoOiBzdHJpbmcsIG1heEFnZT86IGZhbHNlIHwgbnVtYmVyKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKHR5cGVvZiAocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ0FyZ3VtZW50IFxcJ3BhdGhcXCcgb2YgYmFzZUNsaWVudC5nZXRPYmplY3QgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldCh0aGlzLm1ha2VQYXRoKHBhdGgpLCBtYXhBZ2UpLnRoZW4oKHIpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgKHIuYm9keSkgPT09ICdvYmplY3QnKSB7IC8vIHdpbGwgYmUgdGhlIGNhc2UgZm9yIGRvY3VtZW50cyBzdG9yZWQgd2l0aCBycy5qcyA8PSAwLjEwLjAtYmV0YTJcbiAgICAgICAgcmV0dXJuIHIuYm9keTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIChyLmJvZHkpID09PSAnc3RyaW5nJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHIuYm9keSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB0aHJvdyBcIk5vdCB2YWxpZCBKU09OOiBcIiArIHRoaXMubWFrZVBhdGgocGF0aCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIChyLmJvZHkpICE9PSAndW5kZWZpbmVkJyAmJiByLnN0YXR1c0NvZGUgPT09IDIwMCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJOb3QgYW4gb2JqZWN0OiBcIiArIHRoaXMubWFrZVBhdGgocGF0aCkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3JlIG9iamVjdCBhdCBnaXZlbiBwYXRoLiBUcmlnZ2VycyBzeW5jaHJvbml6YXRpb24uXG4gICAqXG4gICAqIFNlZSBgYGRlY2xhcmVUeXBlKClgYCBhbmQgOmRvYzpgZGF0YSB0eXBlcyA8L2RhdGEtbW9kdWxlcy9kZWZpbmluZy1kYXRhLXR5cGVzPmBcbiAgICogZm9yIGFuIGV4cGxhbmF0aW9uIG9mIHR5cGVzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlQWxpYXMgICAtIFVuaXF1ZSB0eXBlIG9mIHRoaXMgb2JqZWN0IHdpdGhpbiB0aGlzIG1vZHVsZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggICAtIFBhdGggcmVsYXRpdmUgdG8gdGhlIG1vZHVsZSByb290LlxuICAgKiBAcGFyYW0ge29iamVjdH0gb2JqZWN0IC0gQSBKYXZhU2NyaXB0IG9iamVjdCB0byBiZSBzdG9yZWQgYXQgdGhlIGdpdmVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoLiBNdXN0IGJlIHNlcmlhbGl6YWJsZSBhcyBKU09OLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCByZXZpc2lvbiBvbiBzdWNjZXNzLiBSZWplY3RzIHdpdGhcbiAgICogICAgICAgICAgICAgICAgICAgIGEgVmFsaWRhdGlvbkVycm9yLCBpZiB2YWxpZGF0aW9ucyBmYWlsLlxuICAgKi9cbiAgLy8gVE9ETyBhZGQgcmVhbCByZXR1cm4gdHlwZVxuICBzdG9yZU9iamVjdCAodHlwZUFsaWFzOiBzdHJpbmcsIHBhdGg6IHN0cmluZywgb2JqZWN0OiBvYmplY3QpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICBpZiAodHlwZW9mICh0eXBlQWxpYXMpICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCd0eXBlQWxpYXNcXCcgb2YgYmFzZUNsaWVudC5zdG9yZU9iamVjdCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgKHBhdGgpICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdwYXRoXFwnIG9mIGJhc2VDbGllbnQuc3RvcmVPYmplY3QgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIChvYmplY3QpICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdvYmplY3RcXCcgb2YgYmFzZUNsaWVudC5zdG9yZU9iamVjdCBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICAgIH1cblxuICAgIHRoaXMuX2F0dGFjaFR5cGUob2JqZWN0LCB0eXBlQWxpYXMpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSB0aGlzLnZhbGlkYXRlKG9iamVjdCk7XG4gICAgICBpZiAoIXZhbGlkYXRpb25SZXN1bHQudmFsaWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGV4Yykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGV4Yyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5wdXQodGhpcy5tYWtlUGF0aChwYXRoKSwgSlNPTi5zdHJpbmdpZnkob2JqZWN0KSwgJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnKS50aGVuKChyKSA9PiB7XG4gICAgICBpZiAoci5zdGF0dXNDb2RlID09PSAyMDAgfHwgci5zdGF0dXNDb2RlID09PSAyMDEpIHtcbiAgICAgICAgcmV0dXJuIHIucmV2aXNpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJSZXF1ZXN0IChQVVQgXCIgKyB0aGlzLm1ha2VQYXRoKHBhdGgpICsgXCIpIGZhaWxlZCB3aXRoIHN0YXR1czogXCIgKyByLnN0YXR1c0NvZGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBub2RlIGF0IGdpdmVuIHBhdGggZnJvbSBzdG9yYWdlLiBUcmlnZ2VycyBzeW5jaHJvbml6YXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCByZWxhdGl2ZSB0byB0aGUgbW9kdWxlIHJvb3QuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgLy8gVE9ETyBhZGQgcmVhbCByZXR1cm4gdHlwZVxuICByZW1vdmUgKHBhdGg6IHN0cmluZyk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgIGlmICh0eXBlb2YgKHBhdGgpICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdwYXRoXFwnIG9mIGJhc2VDbGllbnQucmVtb3ZlIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnN0b3JhZ2UuYWNjZXNzLmNoZWNrUGF0aFBlcm1pc3Npb24odGhpcy5tYWtlUGF0aChwYXRoKSwgJ3J3JykpIHtcbiAgICAgIGNvbnNvbGUud2FybignV0FSTklORzogUmVtb3ZpbmcgYSBkb2N1bWVudCB0byB3aGljaCBvbmx5IHJlYWQgYWNjZXNzIChcXCdyXFwnKSB3YXMgY2xhaW1lZCcpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZGVsZXRlKHRoaXMubWFrZVBhdGgocGF0aCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGZ1bGwgVVJMIG9mIGEgZG9jdW1lbnQuIFVzZWZ1bCBmb3IgZXhhbXBsZSBmb3Igc2hhcmluZyB0aGUgcHVibGljXG4gICAqIFVSTCBvZiBhbiBpdGVtIGluIHRoZSBgYC9wdWJsaWNgYCBmb2xkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCByZWxhdGl2ZSB0byB0aGUgbW9kdWxlIHJvb3QuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmdWxsIFVSTCBvZiB0aGUgaXRlbSwgaW5jbHVkaW5nIHRoZSBzdG9yYWdlIG9yaWdpblxuICAgKi9cbiAgZ2V0SXRlbVVSTCAocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAodHlwZW9mIChwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93ICdBcmd1bWVudCBcXCdwYXRoXFwnIG9mIGJhc2VDbGllbnQuZ2V0SXRlbVVSTCBtdXN0IGJlIGEgc3RyaW5nJztcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RvcmFnZS5jb25uZWN0ZWQpIHtcbiAgICAgIHBhdGggPSBjbGVhblBhdGgodGhpcy5tYWtlUGF0aChwYXRoKSk7XG4gICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLnJlbW90ZS5ocmVmICsgcGF0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IGNhY2hpbmcgc3RyYXRlZ3kgZm9yIGEgZ2l2ZW4gcGF0aCBhbmQgaXRzIGNoaWxkcmVuLlxuICAgKlxuICAgKiBTZWUgOnJlZjpgY2FjaGluZy1zdHJhdGVnaWVzYCBmb3IgYSBkZXRhaWxlZCBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gICAqIHN0cmF0ZWdpZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCB0byBjYWNoZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyYXRlZ3kgLSBDYWNoaW5nIHN0cmF0ZWd5LiBPbmUgb2YgJ0FMTCcsICdTRUVOJywgb3JcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZMVVNIJy4gRGVmYXVsdHMgdG8gJ0FMTCcuXG4gICAqXG4gICAqIEByZXR1cm5zIHtCYXNlQ2xpZW50fSBUaGUgc2FtZSBpbnN0YW5jZSB0aGlzIGlzIGNhbGxlZCBvbiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nXG4gICAqL1xuICBjYWNoZSAocGF0aDogc3RyaW5nLCBzdHJhdGVneTogJ0FMTCcgfCAnU0VFTicgfCAnRkxVU0gnID0gJ0FMTCcpIHtcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyAnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LmNhY2hlIG11c3QgYmUgYSBzdHJpbmcnO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc3RyYXRlZ3kgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyAnQXJndW1lbnQgXFwnc3RyYXRlZ3lcXCcgb2YgYmFzZUNsaWVudC5jYWNoZSBtdXN0IGJlIGEgc3RyaW5nIG9yIHVuZGVmaW5lZCc7XG4gICAgfVxuXG4gICAgaWYgKHN0cmF0ZWd5ICE9PSAnRkxVU0gnICYmXG4gICAgICBzdHJhdGVneSAhPT0gJ1NFRU4nICYmXG4gICAgICBzdHJhdGVneSAhPT0gJ0FMTCcpIHtcbiAgICAgIHRocm93ICdBcmd1bWVudCBcXCdzdHJhdGVneVxcJyBvZiBiYXNlY2xpZW50LmNhY2hlIG11c3QgYmUgb25lIG9mICdcbiAgICAgICsgJ1tcIkZMVVNIXCIsIFwiU0VFTlwiLCBcIkFMTFwiXSc7XG4gICAgfVxuICAgIHRoaXMuc3RvcmFnZS5jYWNoaW5nLnNldCh0aGlzLm1ha2VQYXRoKHBhdGgpLCBzdHJhdGVneSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICAgKi9cbiAgLy8gVE9ETyBhZGQgcmV0dXJuIHR5cGUgb25jZSBrbm93blxuICBmbHVzaCAocGF0aDogc3RyaW5nKTogdW5rbm93biB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5sb2NhbC5mbHVzaChwYXRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWNsYXJlIGEgcmVtb3RlU3RvcmFnZSBvYmplY3QgdHlwZSB1c2luZyBhIEpTT04gc2NoZW1hLlxuICAgKlxuICAgKiBTZWUgOmRvYzpgRGVmaW5pbmcgZGF0YSB0eXBlcyA8L2RhdGEtbW9kdWxlcy9kZWZpbmluZy1kYXRhLXR5cGVzPmAgZm9yIG1vcmUgaW5mby5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFsaWFzICAtIEEgdHlwZSBhbGlhcy9zaG9ydG5hbWVcbiAgICogQHBhcmFtIHt1cml9ICAgIHVyaSAgICAtIChvcHRpb25hbCkgSlNPTi1MRCBVUkkgb2YgdGhlIHNjaGVtYS4gQXV0b21hdGljYWxseSBnZW5lcmF0ZWQgaWYgbm9uZSBnaXZlblxuICAgKiBAcGFyYW0ge29iamVjdH0gc2NoZW1hIC0gQSBKU09OIFNjaGVtYSBvYmplY3QgZGVzY3JpYmluZyB0aGUgb2JqZWN0IHR5cGVcbiAgICoqL1xuICBkZWNsYXJlVHlwZSAoYWxpYXM6IGFueSwgdXJpT3JTY2hlbWE6IGFueSwgc2NoZW1hPzogYW55KTogdm9pZCB7XG4gICAgbGV0IHVyaTogc3RyaW5nO1xuXG4gICAgaWYgKCFzY2hlbWEpIHtcbiAgICAgIHNjaGVtYSA9IHVyaU9yU2NoZW1hO1xuICAgICAgdXJpID0gdGhpcy5fZGVmYXVsdFR5cGVVUkkoYWxpYXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cmkgPSB1cmlPclNjaGVtYTtcbiAgICB9XG5cbiAgICBCYXNlQ2xpZW50LlR5cGVzLmRlY2xhcmUodGhpcy5tb2R1bGVOYW1lLCBhbGlhcywgdXJpLCBzY2hlbWEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIGFuIG9iamVjdCBhZ2FpbnN0IHRoZSBhc3NvY2lhdGVkIHNjaGVtYS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAtIEpTIG9iamVjdCB0byB2YWxpZGF0ZS4gTXVzdCBoYXZlIGEgYGBAY29udGV4dGBgIHByb3BlcnR5LlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyBpbmZvcm1hdGlvbiBhYm91dCB2YWxpZGF0aW9uIGVycm9yc1xuICAgKiovXG4gIHZhbGlkYXRlIChvYmplY3Q6IHtba2V5OiBzdHJpbmddOiBhbnl9KToge1trZXk6IHN0cmluZ106IGFueX0ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEJhc2VDbGllbnQuVHlwZXMuZ2V0U2NoZW1hKG9iamVjdFsnQGNvbnRleHQnXSk7XG4gICAgaWYgKHNjaGVtYSkge1xuICAgICAgcmV0dXJuIHR2NC52YWxpZGF0ZVJlc3VsdChvYmplY3QsIHNjaGVtYSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBTY2hlbWFOb3RGb3VuZChvYmplY3RbJ0Bjb250ZXh0J10pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPIGRvY3VtZW50XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzY2hlbWFzID0ge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBCYXNlQ2xpZW50LlR5cGVzLmluU2NvcGUodGhpcy5tb2R1bGVOYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IEpTT04tTEQgQGNvbnRleHQgVVJMIGZvciBSUyB0eXBlcy9vYmplY3RzL2RvY3VtZW50c1xuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RlZmF1bHRUeXBlVVJJIChhbGlhczogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ2h0dHA6Ly9yZW1vdGVzdG9yYWdlLmlvL3NwZWMvbW9kdWxlcy8nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMubW9kdWxlTmFtZSkgKyAnLycgKyBlbmNvZGVVUklDb21wb25lbnQoYWxpYXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGFjaGVzIHRoZSBKU09OLUxEIEBjb250ZW50IHRvIGFuIG9iamVjdFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2F0dGFjaFR5cGUgKG9iamVjdDogb2JqZWN0LCBhbGlhczogc3RyaW5nKTogdm9pZCB7XG4gICAgb2JqZWN0WydAY29udGV4dCddID0gQmFzZUNsaWVudC5UeXBlcy5yZXNvbHZlQWxpYXModGhpcy5tb2R1bGVOYW1lICsgJy8nICsgYWxpYXMpIHx8IHRoaXMuX2RlZmF1bHRUeXBlVVJJKGFsaWFzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbWFrZVBhdGggKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuYmFzZSArIChwYXRoIHx8ICcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ZpcmVDaGFuZ2UgKGV2ZW50OiBDaGFuZ2VPYmopIHtcbiAgICBpZiAoY29uZmlnLmNoYW5nZUV2ZW50c1tldmVudC5vcmlnaW5dKSB7XG4gICAgICBbJ25ldycsICdvbGQnLCAnbGFzdENvbW1vbiddLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkTmFtZVByZWZpeCkge1xuICAgICAgICBpZiAoKCFldmVudFtmaWVsZE5hbWVQcmVmaXggKyAnQ29udGVudFR5cGUnXSlcbiAgICAgICAgICB8fCAoL15hcHBsaWNhdGlvblxcLyguKilqc29uKC4qKS8uZXhlYyhldmVudFtmaWVsZE5hbWVQcmVmaXggKyAnQ29udGVudFR5cGUnXSkpKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiAoZXZlbnRbZmllbGROYW1lUHJlZml4ICsgJ1ZhbHVlJ10pID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZXZlbnRbZmllbGROYW1lUHJlZml4ICsgJ1ZhbHVlJ10gPSBKU09OLnBhcnNlKGV2ZW50W2ZpZWxkTmFtZVByZWZpeCArICdWYWx1ZSddKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5fZW1pdCgnY2hhbmdlJywgZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBUeXBlcyA9IFR5cGVzO1xuXG4gIHN0YXRpYyBfcnNfaW5pdCAoKTogdm9pZCB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbmludGVyZmFjZSBCYXNlQ2xpZW50IGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKEJhc2VDbGllbnQsIFtFdmVudEhhbmRsaW5nXSk7XG5cbmV4cG9ydCA9IEJhc2VDbGllbnQ7XG4iLCIvKipcbiAqIFRoaXMgZmlsZSBleHBvc2VzIGEgZ2V0L3B1dC9kZWxldGUgaW50ZXJmYWNlIG9uIHRvcCBvZiBmZXRjaCgpIG9yIFhNTEh0dHBSZXF1ZXN0LlxuICogSXQgcmVxdWlyZXMgdG8gYmUgY29uZmlndXJlZCB3aXRoIHBhcmFtZXRlcnMgYWJvdXQgdGhlIHJlbW90ZXN0b3JhZ2Ugc2VydmVyIHRvXG4gKiBjb25uZWN0IHRvLlxuICogRWFjaCBpbnN0YW5jZSBvZiBXaXJlQ2xpZW50IGlzIGFsd2F5cyBhc3NvY2lhdGVkIHdpdGggYSBzaW5nbGUgcmVtb3Rlc3RvcmFnZVxuICogc2VydmVyIGFuZCBhY2Nlc3MgdG9rZW4uXG4gKlxuICogVXN1YWxseSB0aGUgV2lyZUNsaWVudCBpbnN0YW5jZSBjYW4gYmUgYWNjZXNzZWQgdmlhIGByZW1vdGVTdG9yYWdlLnJlbW90ZWAuXG4gKlxuICogVGhpcyBpcyB0aGUgZ2V0L3B1dC9kZWxldGUgaW50ZXJmYWNlOlxuICpcbiAqICAgLSAjZ2V0KCkgdGFrZXMgYSBwYXRoIGFuZCBvcHRpb25hbGx5IGEgaWZOb25lTWF0Y2ggb3B0aW9uIGNhcnJ5aW5nIGEgdmVyc2lvblxuICogICAgIHN0cmluZyB0byBjaGVjay4gSXQgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlIGZ1bGZpbGxlZCB3aXRoIHRoZSBIVFRQXG4gKiAgICAgcmVzcG9uc2Ugc3RhdHVzLCB0aGUgcmVzcG9uc2UgYm9keSwgdGhlIE1JTUUgdHlwZSBhcyByZXR1cm5lZCBpbiB0aGVcbiAqICAgICAnQ29udGVudC1UeXBlJyBoZWFkZXIgYW5kIHRoZSBjdXJyZW50IHJldmlzaW9uLCBhcyByZXR1cm5lZCBpbiB0aGUgJ0VUYWcnXG4gKiAgICAgaGVhZGVyLlxuICogICAtICNwdXQoKSB0YWtlcyBhIHBhdGgsIHRoZSByZXF1ZXN0IGJvZHkgYW5kIGEgY29udGVudCB0eXBlIHN0cmluZy4gSXQgYWxzb1xuICogICAgIGFjY2VwdHMgdGhlIGlmTWF0Y2ggYW5kIGlmTm9uZU1hdGNoIG9wdGlvbnMsIHRoYXQgbWFwIHRvIHRoZSBJZi1NYXRjaCBhbmRcbiAqICAgICBJZi1Ob25lLU1hdGNoIGhlYWRlcnMgcmVzcGVjdGl2ZWx5LiBTZWUgdGhlIHJlbW90ZXN0b3JhZ2UtMDEgc3BlY2lmaWNhdGlvblxuICogICAgIGZvciBkZXRhaWxzIG9uIGhhbmRsaW5nIHRoZXNlIGhlYWRlcnMuIEl0IHJldHVybnMgYSBwcm9taXNlLCBmdWxmaWxsZWQgd2l0aFxuICogICAgIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGUgb25lIGZvciAjZ2V0KCkuXG4gKiAgIC0gI2RlbGV0ZSgpIHRha2VzIGEgcGF0aCBhbmQgdGhlIGlmTWF0Y2ggb3B0aW9uIGFzIHdlbGwuIEl0IHJldHVybnMgYSBwcm9taXNlXG4gKiAgICAgZnVsZmlsbGVkIHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoZSBvbmUgZm9yICNnZXQoKS5cbiAqXG4gKiBJbiBhZGRpdGlvbiB0byB0aGlzLCB0aGUgV2lyZUNsaWVudCBoYXMgc29tZSBjb21wYXRpYmlsaXR5IGZlYXR1cmVzIHRvIHdvcmsgd2l0aFxuICogcmVtb3Rlc3RvcmFnZSAyMDEyLjA0IGNvbXBhdGlibGUgc3RvcmFnZXMuIEZvciBleGFtcGxlIGl0IHdpbGwgY2FjaGUgcmV2aXNpb25zXG4gKiBmcm9tIGZvbGRlciBsaXN0aW5ncyBpbi1tZW1vcnkgYW5kIHJldHVybiB0aGVtIGFjY29yZGluZ2x5IGFzIHRoZSBcInJldmlzaW9uXCJcbiAqIHBhcmFtZXRlciBpbiByZXNwb25zZSB0byAjZ2V0KCkgcmVxdWVzdHMuIFNpbWlsYXJseSBpdCB3aWxsIHJldHVybiA0MDQgd2hlbiBpdFxuICogcmVjZWl2ZXMgYW4gZW1wdHkgZm9sZGVyIGxpc3RpbmcsIHRvIG1pbWljIHJlbW90ZXN0b3JhZ2UtMDEgYmVoYXZpb3IuIE5vdGVcbiAqIHRoYXQgaXQgaXMgbm90IGFsd2F5cyBwb3NzaWJsZSB0byBrbm93IHRoZSByZXZpc2lvbiBiZWZvcmVoYW5kLCBoZW5jZSBpdCBtYXlcbiAqIGJlIHVuZGVmaW5lZCBhdCB0aW1lcyAoZXNwZWNpYWxseSBmb3IgY2FjaGluZy1yb290cykuXG4gKi9cbmltcG9ydCBSZW1vdGVTdG9yYWdlIGZyb20gJy4vcmVtb3Rlc3RvcmFnZSc7XG5pbXBvcnQgQXV0aG9yaXplIGZyb20gJy4vYXV0aG9yaXplJztcbmltcG9ydCBFdmVudEhhbmRsaW5nIGZyb20gJy4vZXZlbnRoYW5kbGluZyc7XG5pbXBvcnQgVW5hdXRob3JpemVkRXJyb3IgZnJvbSAnLi91bmF1dGhvcml6ZWQtZXJyb3InO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcbmltcG9ydCB7XG4gIGFwcGx5TWl4aW5zLFxuICBjbGVhblBhdGgsXG4gIGdldEpTT05Gcm9tTG9jYWxTdG9yYWdlLFxuICBnZXRUZXh0RnJvbUFycmF5QnVmZmVyLFxuICBpc0ZvbGRlcixcbiAgbG9jYWxTdG9yYWdlQXZhaWxhYmxlLFxuICBzaG91bGRCZVRyZWF0ZWRBc0JpbmFyeVxufSBmcm9tICcuL3V0aWwnO1xuXG5sZXQgaGFzTG9jYWxTdG9yYWdlO1xuY29uc3QgU0VUVElOR1NfS0VZID0gJ3JlbW90ZXN0b3JhZ2U6d2lyZWNsaWVudCc7XG5cbmNvbnN0IEFQSV8yMDEyID0gMTtcbmNvbnN0IEFQSV8wMCA9IDI7XG5jb25zdCBBUElfMDEgPSAzO1xuY29uc3QgQVBJXzAyID0gNDtcbmNvbnN0IEFQSV9IRUFEID0gNTtcblxuY29uc3QgU1RPUkFHRV9BUElTID0ge1xuICAnZHJhZnQtZGVqb25nLXJlbW90ZXN0b3JhZ2UtMDAnOiBBUElfMDAsXG4gICdkcmFmdC1kZWpvbmctcmVtb3Rlc3RvcmFnZS0wMSc6IEFQSV8wMSxcbiAgJ2RyYWZ0LWRlam9uZy1yZW1vdGVzdG9yYWdlLTAyJzogQVBJXzAyLFxuICAnaHR0cHM6Ly93d3cudzMub3JnL2NvbW11bml0eS9yd3cvd2lraS9yZWFkLXdyaXRlLXdlYi0wMCNzaW1wbGUnOiBBUElfMjAxMlxufTtcblxuZnVuY3Rpb24gcmVhZFNldHRpbmdzICgpIHtcbiAgY29uc3Qgc2V0dGluZ3MgPSBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZShTRVRUSU5HU19LRVkpIHx8IHt9O1xuICBjb25zdCB7IHVzZXJBZGRyZXNzLCBocmVmLCBzdG9yYWdlQXBpLCB0b2tlbiwgcHJvcGVydGllcyB9ID0gc2V0dGluZ3M7XG5cbiAgcmV0dXJuIHsgdXNlckFkZHJlc3MsIGhyZWYsIHN0b3JhZ2VBcGksIHRva2VuLCBwcm9wZXJ0aWVzIH07XG59O1xuXG5sZXQgaXNBcnJheUJ1ZmZlclZpZXc7XG5cbmlmICh0eXBlb2YgKChnbG9iYWwgfHwgd2luZG93IGFzIGFueSkuQXJyYXlCdWZmZXJWaWV3KSA9PT0gJ2Z1bmN0aW9uJykge1xuICBpc0FycmF5QnVmZmVyVmlldyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0ICYmIChvYmplY3QgaW5zdGFuY2VvZiAoZ2xvYmFsIHx8IHdpbmRvdyBhcyBhbnkpLkFycmF5QnVmZmVyVmlldyk7XG4gIH07XG59IGVsc2Uge1xuICBjb25zdCBhcnJheUJ1ZmZlclZpZXdzID0gW1xuICAgIEludDhBcnJheSwgVWludDhBcnJheSwgSW50MTZBcnJheSwgVWludDE2QXJyYXksXG4gICAgSW50MzJBcnJheSwgVWludDMyQXJyYXksIEZsb2F0MzJBcnJheSwgRmxvYXQ2NEFycmF5XG4gIF07XG4gIGlzQXJyYXlCdWZmZXJWaWV3ID0gZnVuY3Rpb24gKG9iamVjdCk6IGJvb2xlYW4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgYXJyYXlCdWZmZXJWaWV3c1tpXSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xufVxuXG4vLyBUT0RPIGRvdWJsZSBjaGVja1xuaW50ZXJmYWNlIFdpcmVDbGllbnRTZXR0aW5ncyB7XG4gIHVzZXJBZGRyZXNzOiBzdHJpbmc7XG4gIGhyZWY6IHN0cmluZztcbiAgc3RvcmFnZUFwaTogc3RyaW5nO1xuICB0b2tlbjogc3RyaW5nO1xuICBwcm9wZXJ0aWVzOiB1bmtub3duO1xufVxuXG5pbnRlcmZhY2UgV2lyZVJlcXVlc3RSZXNwb25zZSB7XG4gIHN0YXR1c0NvZGU6IG51bWJlcjtcbiAgcmV2aXNpb246IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgYm9keT86IGFueTtcbn1cblxuZnVuY3Rpb24gYWRkUXVvdGVzIChzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICh0eXBlb2YgKHN0cikgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICBpZiAoc3RyID09PSAnKicpIHtcbiAgICByZXR1cm4gJyonO1xuICB9XG5cbiAgcmV0dXJuICdcIicgKyBzdHIgKyAnXCInO1xufVxuXG5mdW5jdGlvbiBzdHJpcFF1b3RlcyAoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAodHlwZW9mIChzdHIpICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzdHI7XG4gIH1cblxuICByZXR1cm4gc3RyLnJlcGxhY2UoL15bXCInXXxbXCInXSQvZywgJycpO1xufVxuXG5mdW5jdGlvbiBkZXRlcm1pbmVDaGFyc2V0IChtaW1lVHlwZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgbGV0IGNoYXJzZXQgPSAnVVRGLTgnO1xuICBsZXQgY2hhcnNldE1hdGNoO1xuXG4gIGlmIChtaW1lVHlwZSkge1xuICAgIGNoYXJzZXRNYXRjaCA9IG1pbWVUeXBlLm1hdGNoKC9jaGFyc2V0PSguKykkLyk7XG4gICAgaWYgKGNoYXJzZXRNYXRjaCkge1xuICAgICAgY2hhcnNldCA9IGNoYXJzZXRNYXRjaFsxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNoYXJzZXQ7XG59XG5cbmZ1bmN0aW9uIGlzRm9sZGVyRGVzY3JpcHRpb24gKGJvZHk6IG9iamVjdCk6IGJvb2xlYW4ge1xuICByZXR1cm4gKChib2R5WydAY29udGV4dCddID09PSAnaHR0cDovL3JlbW90ZXN0b3JhZ2UuaW8vc3BlYy9mb2xkZXItZGVzY3JpcHRpb24nKVxuICAgICYmICh0eXBlb2YgKGJvZHlbJ2l0ZW1zJ10pID09PSAnb2JqZWN0JykpO1xufVxuXG5mdW5jdGlvbiBpc1N1Y2Nlc3NTdGF0dXMgKHN0YXR1czogbnVtYmVyKTogYm9vbGVhbiB7XG4gIHJldHVybiBbMjAxLCAyMDQsIDMwNF0uaW5kZXhPZihzdGF0dXMpID49IDA7XG59XG5cbmZ1bmN0aW9uIGlzRXJyb3JTdGF0dXMgKHN0YXR1czogbnVtYmVyKTogYm9vbGVhbiB7XG4gIHJldHVybiBbNDAxLCA0MDMsIDQwNCwgNDEyXS5pbmRleE9mKHN0YXR1cykgPj0gMDtcbn1cblxuZnVuY3Rpb24gaXNGb3JiaWRkZW5SZXF1ZXN0TWV0aG9kKG1ldGhvZDogc3RyaW5nLCB1cmk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBpZiAobWV0aG9kID09PSAnUFVUJyB8fCBtZXRob2QgPT09ICdERUxFVEUnKSB7XG4gICAgcmV0dXJuIGlzRm9sZGVyKHVyaSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmNsYXNzIFdpcmVDbGllbnQge1xuICByczogUmVtb3RlU3RvcmFnZTtcbiAgY29ubmVjdGVkOiBib29sZWFuO1xuICBvbmxpbmU6IGJvb2xlYW47XG4gIHVzZXJBZGRyZXNzOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEhvbGRzIHRoZSBiZWFyZXIgdG9rZW4gb2YgdGhpcyBXaXJlQ2xpZW50LCBhcyBvYnRhaW5lZCBpbiB0aGUgT0F1dGggZGFuY2VcbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogICAoc3RhcnQgY29kZSlcbiAgICpcbiAgICogICByZW1vdGVTdG9yYWdlLnJlbW90ZS50b2tlblxuICAgKiAgIC8vIC0+ICdERUFEQkVFRjAxPT0nXG4gICAqL1xuICB0b2tlbjogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBIb2xkcyB0aGUgc2VydmVyJ3MgYmFzZSBVUkwsIGFzIG9idGFpbmVkIGluIHRoZSBXZWJmaW5nZXIgZGlzY292ZXJ5XG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqICAgKHN0YXJ0IGNvZGUpXG4gICAqXG4gICAqICAgcmVtb3RlU3RvcmFnZS5yZW1vdGUuaHJlZlxuICAgKiAgIC8vIC0+ICdodHRwczovL3N0b3JhZ2UuZXhhbXBsZS5jb20vdXNlcnMvamJsb2dnLydcbiAgICovXG4gIGhyZWY6IHN0cmluZztcblxuICAvKipcbiAgICogSG9sZHMgdGhlIHNwZWMgdmVyc2lvbiB0aGUgc2VydmVyIGNsYWltcyB0byBiZSBjb21wYXRpYmxlIHdpdGhcbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogICAoc3RhcnQgY29kZSlcbiAgICpcbiAgICogICByZW1vdGVTdG9yYWdlLnJlbW90ZS5zdG9yYWdlQXBpXG4gICAqICAgLy8gLT4gJ2RyYWZ0LWRlam9uZy1yZW1vdGVzdG9yYWdlLTAxJ1xuICAgKi9cbiAgc3RvcmFnZUFwaTogc3RyaW5nO1xuICAvLyBUT0RPIGltcGxlbWVudCBUUyB2YWxpZGF0aW9uIGZvciBpbmNvbWluZyB0eXBlXG5cbiAgc3VwcG9ydHNSZXZzOiBib29sZWFuO1xuXG4gIF9yZXZpc2lvbkNhY2hlOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge307XG5cbiAgcHJvcGVydGllczogYW55O1xuXG4gIGNvbnN0cnVjdG9yIChyczogUmVtb3RlU3RvcmFnZSkge1xuICAgIGhhc0xvY2FsU3RvcmFnZSA9IGxvY2FsU3RvcmFnZUF2YWlsYWJsZSgpO1xuXG4gICAgdGhpcy5ycyA9IHJzO1xuICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBFdmVudDogY29ubmVjdGVkXG4gICAgICogICBGaXJlZCB3aGVuIHRoZSB3aXJlY2xpZW50IGNvbm5lY3QgbWV0aG9kIHJlYWxpemVzIHRoYXQgaXQgaXMgaW5cbiAgICAgKiAgIHBvc3Nlc3Npb24gb2YgYSB0b2tlbiBhbmQgaHJlZlxuICAgICAqKi9cbiAgICB0aGlzLmFkZEV2ZW50cyhbJ2Nvbm5lY3RlZCcsICdub3QtY29ubmVjdGVkJ10pO1xuXG4gICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgY29uc3Qgc2V0dGluZ3MgPSByZWFkU2V0dGluZ3MoKTtcbiAgICAgIGlmIChzZXR0aW5ncykge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNvbmZpZ3VyZShzZXR0aW5ncyk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgc2V0VGltZW91dCh0aGlzLl9lbWl0LmJpbmQodGhpcyksIDAsICdjb25uZWN0ZWQnKTtcbiAgICB9XG4gIH1cblxuICBnZXQgc3RvcmFnZVR5cGUgKCkge1xuICAgIGlmICh0aGlzLnN0b3JhZ2VBcGkpIHtcbiAgICAgIGNvbnN0IHNwZWMgPSB0aGlzLnN0b3JhZ2VBcGkubWF0Y2goL2RyYWZ0LWRlam9uZy0ocmVtb3Rlc3RvcmFnZS1cXGRcXGQpLyk7XG4gICAgICByZXR1cm4gc3BlYyA/IHNwZWNbMV0gOiAnMjAxMi4wNCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX3JlcXVlc3QgKG1ldGhvZDogc3RyaW5nLCB1cmk6IHN0cmluZywgdG9rZW46IHN0cmluZyB8IGZhbHNlLCBoZWFkZXJzOiBvYmplY3QsIGJvZHk6IHVua25vd24sIGdldEV0YWc6IGJvb2xlYW4sIGZha2VSZXZpc2lvbj86IHN0cmluZyk6IFByb21pc2U8V2lyZVJlcXVlc3RSZXNwb25zZT4ge1xuICAgIGlmIChpc0ZvcmJpZGRlblJlcXVlc3RNZXRob2QobWV0aG9kLCB1cmkpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYERvbid0IHVzZSAke21ldGhvZH0gb24gZGlyZWN0b3JpZXMhYCk7XG4gICAgfVxuXG4gICAgbGV0IHJldmlzaW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICBpZiAodG9rZW4gIT09IEF1dGhvcml6ZS5JTVBMSUVEX0ZBS0VfVE9LRU4pIHtcbiAgICAgIGhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIHRva2VuO1xuICAgIH1cblxuICAgIHRoaXMucnMuX2VtaXQoJ3dpcmUtYnVzeScsIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVyaSlcbiAgICB9KTtcblxuICAgIHJldHVybiBXaXJlQ2xpZW50LnJlcXVlc3QobWV0aG9kLCB1cmksIHtcbiAgICAgIGJvZHk6IGJvZHksXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInXG4gICAgfSkudGhlbigocmVzcG9uc2U6IFhNTEh0dHBSZXF1ZXN0KTogUHJvbWlzZTxXaXJlUmVxdWVzdFJlc3BvbnNlPiA9PiB7XG4gICAgICBpZiAoIXRoaXMub25saW5lKSB7XG4gICAgICAgIHRoaXMub25saW5lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ycy5fZW1pdCgnbmV0d29yay1vbmxpbmUnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucnMuX2VtaXQoJ3dpcmUtZG9uZScsIHtcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIGlzRm9sZGVyOiBpc0ZvbGRlcih1cmkpLFxuICAgICAgICBzdWNjZXNzOiB0cnVlXG4gICAgICB9KTtcblxuICAgICAgaWYgKGlzRXJyb3JTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgICAgICBsb2coJ1tXaXJlQ2xpZW50XSBFcnJvciByZXNwb25zZSBzdGF0dXMnLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICBpZiAoZ2V0RXRhZykge1xuICAgICAgICAgIHJldmlzaW9uID0gc3RyaXBRdW90ZXMocmVzcG9uc2UuZ2V0UmVzcG9uc2VIZWFkZXIoJ0VUYWcnKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2aXNpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICB0aGlzLnJzLl9lbWl0KCdlcnJvcicsIG5ldyBVbmF1dGhvcml6ZWRFcnJvcigpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cywgcmV2aXNpb246IHJldmlzaW9ufSk7XG4gICAgICB9IGVsc2UgaWYgKGlzU3VjY2Vzc1N0YXR1cyhyZXNwb25zZS5zdGF0dXMpIHx8XG4gICAgICAgIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCAmJiBtZXRob2QgIT09ICdHRVQnKSkge1xuICAgICAgICByZXZpc2lvbiA9IHN0cmlwUXVvdGVzKHJlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKCdFVGFnJykpO1xuICAgICAgICBsb2coJ1tXaXJlQ2xpZW50XSBTdWNjZXNzZnVsIHJlcXVlc3QnLCByZXZpc2lvbik7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cywgcmV2aXNpb246IHJldmlzaW9ufSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBtaW1lVHlwZSA9IHJlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LVR5cGUnKTtcbiAgICAgICAgaWYgKGdldEV0YWcpIHtcbiAgICAgICAgICByZXZpc2lvbiA9IHN0cmlwUXVvdGVzKHJlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKCdFVGFnJykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldmlzaW9uID0gKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSA/IGZha2VSZXZpc2lvbiA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNoYXJzZXQgPSBkZXRlcm1pbmVDaGFyc2V0KG1pbWVUeXBlKTtcblxuICAgICAgICBpZiAoc2hvdWxkQmVUcmVhdGVkQXNCaW5hcnkocmVzcG9uc2UucmVzcG9uc2UsIG1pbWVUeXBlKSkge1xuICAgICAgICAgIGxvZygnW1dpcmVDbGllbnRdIFN1Y2Nlc3NmdWwgcmVxdWVzdCB3aXRoIHVua25vd24gb3IgYmluYXJ5IG1pbWUtdHlwZScsIHJldmlzaW9uKTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgIGJvZHk6IHJlc3BvbnNlLnJlc3BvbnNlLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IG1pbWVUeXBlLFxuICAgICAgICAgICAgcmV2aXNpb246IHJldmlzaW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGdldFRleHRGcm9tQXJyYXlCdWZmZXIocmVzcG9uc2UucmVzcG9uc2UsIGNoYXJzZXQpXG4gICAgICAgICAgICAudGhlbigodGV4dENvbnRlbnQpID0+IHtcbiAgICAgICAgICAgICAgbG9nKCdbV2lyZUNsaWVudF0gU3VjY2Vzc2Z1bCByZXF1ZXN0JywgcmV2aXNpb24pO1xuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgYm9keTogdGV4dENvbnRlbnQsXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6IG1pbWVUeXBlLFxuICAgICAgICAgICAgICAgIHJldmlzaW9uOiByZXZpc2lvblxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgZXJyb3IgPT4ge1xuICAgICAgaWYgKHRoaXMub25saW5lKSB7XG4gICAgICAgIHRoaXMub25saW5lID0gZmFsc2U7XG4gICAgICAgIHRoaXMucnMuX2VtaXQoJ25ldHdvcmstb2ZmbGluZScpO1xuICAgICAgfVxuICAgICAgdGhpcy5ycy5fZW1pdCgnd2lyZS1kb25lJywge1xuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVyaSksXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB1c2VyQWRkcmVzcywgaHJlZiwgc3RvcmFnZUFwaSwgdG9rZW4sIGFuZCBwcm9wZXJ0aWVzIG9mIGFcbiAgICogcmVtb3RlIHN0b3JlLiBBbHNvIHNldHMgY29ubmVjdGVkIGFuZCBvbmxpbmUgdG8gdHJ1ZSBhbmQgZW1pdHMgdGhlXG4gICAqICdjb25uZWN0ZWQnIGV2ZW50LCBpZiBib3RoIHRva2VuIGFuZCBocmVmIGFyZSBwcmVzZW50LlxuICAgKlxuICAgKiBQYXJhbWV0ZXJzOlxuICAgKiAgIHNldHRpbmdzIC0gQW4gb2JqZWN0IHRoYXQgbWF5IGNvbnRhaW4gdXNlckFkZHJlc3MgKHN0cmluZyBvciBudWxsKSxcbiAgICogICAgICAgICAgICAgIGhyZWYgKHN0cmluZyBvciBudWxsKSwgc3RvcmFnZUFwaSAoc3RyaW5nIG9yIG51bGwpLCB0b2tlbiAoc3RyaW5nXG4gICAqICAgICAgICAgICAgICBvciBudWxsKSwgYW5kL29yIHByb3BlcnRpZXMgKHRoZSBKU09OLXBhcnNlZCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgKiAgICAgICAgICAgICAgZnJvbSB0aGUgdXNlcidzIFdlYkZpbmdlciByZWNvcmQsIHNlZSBzZWN0aW9uIDEwIG9mXG4gICAqICAgICAgICAgICAgICBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1kZWpvbmctcmVtb3Rlc3RvcmFnZS0wM1xuICAgKiAgICAgICAgICAgICAgb3IgbnVsbCkuXG4gICAqICAgICAgICAgICAgICBGaWVsZHMgdGhhdCBhcmUgbm90IGluY2x1ZGVkIChpLmUuIGB1bmRlZmluZWRgKSwgc3RheSBhdFxuICAgKiAgICAgICAgICAgICAgdGhlaXIgY3VycmVudCB2YWx1ZS4gVG8gc2V0IGEgZmllbGQsIGluY2x1ZGUgdGhhdCBmaWVsZFxuICAgKiAgICAgICAgICAgICAgd2l0aCBhIGBzdHJpbmdgIHZhbHVlLiBUbyByZXNldCBhIGZpZWxkLCBmb3IgaW5zdGFuY2Ugd2hlblxuICAgKiAgICAgICAgICAgICAgdGhlIHVzZXIgZGlzY29ubmVjdGVkIHRoZWlyIHN0b3JhZ2UsIG9yIHlvdSBmb3VuZCB0aGF0IHRoZVxuICAgKiAgICAgICAgICAgICAgdG9rZW4geW91IGhhdmUgaGFzIGV4cGlyZWQsIHNpbXBseSBzZXQgdGhhdCBmaWVsZCB0byBgbnVsbGAuXG4gICAqL1xuICBjb25maWd1cmUgKHNldHRpbmdzOiBXaXJlQ2xpZW50U2V0dGluZ3MpOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIHNldHRpbmdzICE9PSAnb2JqZWN0Jykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXaXJlQ2xpZW50IGNvbmZpZ3VyZSBzZXR0aW5ncyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGFuIG9iamVjdCcpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNldHRpbmdzLnVzZXJBZGRyZXNzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy51c2VyQWRkcmVzcyA9IHNldHRpbmdzLnVzZXJBZGRyZXNzO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNldHRpbmdzLmhyZWYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmhyZWYgPSBzZXR0aW5ncy5ocmVmO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNldHRpbmdzLnN0b3JhZ2VBcGkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLnN0b3JhZ2VBcGkgPSBzZXR0aW5ncy5zdG9yYWdlQXBpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNldHRpbmdzLnRva2VuICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy50b2tlbiA9IHNldHRpbmdzLnRva2VuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNldHRpbmdzLnByb3BlcnRpZXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLnByb3BlcnRpZXMgPSBzZXR0aW5ncy5wcm9wZXJ0aWVzO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGhpcy5zdG9yYWdlQXBpID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgX3N0b3JhZ2VBcGkgPSBTVE9SQUdFX0FQSVNbdGhpcy5zdG9yYWdlQXBpXSB8fCBBUElfSEVBRDtcbiAgICAgIHRoaXMuc3VwcG9ydHNSZXZzID0gX3N0b3JhZ2VBcGkgPj0gQVBJXzAwO1xuICAgIH1cbiAgICBpZiAodGhpcy5ocmVmICYmIHRoaXMudG9rZW4pIHtcbiAgICAgIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMub25saW5lID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3RlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgICBsb2NhbFN0b3JhZ2VbU0VUVElOR1NfS0VZXSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdXNlckFkZHJlc3M6IHRoaXMudXNlckFkZHJlc3MsXG4gICAgICAgIGhyZWY6IHRoaXMuaHJlZixcbiAgICAgICAgc3RvcmFnZUFwaTogdGhpcy5zdG9yYWdlQXBpLFxuICAgICAgICB0b2tlbjogdGhpcy50b2tlbixcbiAgICAgICAgcHJvcGVydGllczogdGhpcy5wcm9wZXJ0aWVzXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBzdG9wV2FpdGluZ0ZvclRva2VuICgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICB0aGlzLl9lbWl0KCdub3QtY29ubmVjdGVkJyk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IChwYXRoOiBzdHJpbmcsIG9wdGlvbnM6IHsgaWZOb25lTWF0Y2g/OiBzdHJpbmcgfSA9IHt9KTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdub3QgY29ubmVjdGVkIChwYXRoOiAnICsgcGF0aCArICcpJyk7XG4gICAgfVxuXG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGlmICh0aGlzLnN1cHBvcnRzUmV2cykge1xuICAgICAgaWYgKG9wdGlvbnMuaWZOb25lTWF0Y2gpIHtcbiAgICAgICAgaGVhZGVyc1snSWYtTm9uZS1NYXRjaCddID0gYWRkUXVvdGVzKG9wdGlvbnMuaWZOb25lTWF0Y2gpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBjb21tZW50aW5nIGl0IG91dCBhcyB0aGlzIGlzIGRvaW5nIG5vdGhpbmcgYW5kIGpzaGludCBpcyBjb21wbGFpbmluZyAtbGVzXG4gICAgLy8gZWxzZSBpZiAob3B0aW9ucy5pZk5vbmVNYXRjaCkge1xuICAgIC8vICAgbGV0IG9sZFJldiA9IHRoaXMuX3JldmlzaW9uQ2FjaGVbcGF0aF07XG4gICAgLy8gfVxuXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0dFVCcsIHRoaXMuaHJlZiArIGNsZWFuUGF0aChwYXRoKSwgdGhpcy50b2tlbiwgaGVhZGVycyxcbiAgICAgIHVuZGVmaW5lZCwgdGhpcy5zdXBwb3J0c1JldnMsIHRoaXMuX3JldmlzaW9uQ2FjaGVbcGF0aF0pXG4gICAgICAudGhlbigocikgPT4ge1xuICAgICAgICBpZiAoIWlzRm9sZGVyKHBhdGgpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaXRlbXNNYXAgPSB7fTtcbiAgICAgICAgaWYgKHR5cGVvZiAoci5ib2R5KSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgci5ib2R5ID0gSlNPTi5wYXJzZShyLmJvZHkpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnRm9sZGVyIGRlc2NyaXB0aW9uIGF0ICcgKyB0aGlzLmhyZWYgKyBjbGVhblBhdGgocGF0aCkgKyAnIGlzIG5vdCBKU09OJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHIuc3RhdHVzQ29kZSA9PT0gMjAwICYmIHR5cGVvZiAoci5ib2R5KSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAvLyBOZXcgZm9sZGVyIGxpc3RpbmcgcmVjZWl2ZWRcbiAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoci5ib2R5KS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIEVtcHR5IGZvbGRlciBsaXN0aW5nIG9mIGFueSBzcGVjXG4gICAgICAgICAgICByLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0ZvbGRlckRlc2NyaXB0aW9uKHIuYm9keSkpIHtcbiAgICAgICAgICAgIC8vID49IDAyIHNwZWNcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBpbiByLmJvZHkuaXRlbXMpIHtcbiAgICAgICAgICAgICAgdGhpcy5fcmV2aXNpb25DYWNoZVtwYXRoICsgaXRlbV0gPSByLmJvZHkuaXRlbXNbaXRlbV0uRVRhZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW1zTWFwID0gci5ib2R5Lml0ZW1zO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyA8IDAyIHNwZWNcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHIuYm9keSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuX3JldmlzaW9uQ2FjaGVbcGF0aCArIGtleV0gPSByLmJvZHlba2V5XTtcbiAgICAgICAgICAgICAgaXRlbXNNYXBba2V5XSA9IHsnRVRhZyc6IHIuYm9keVtrZXldfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByLmJvZHkgPSBpdGVtc01hcDtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgcHV0IChwYXRoOiBzdHJpbmcsIGJvZHk6IHVua25vd24sIGNvbnRlbnRUeXBlOiBzdHJpbmcsIG9wdGlvbnM6IHsgaWZNYXRjaD86IHN0cmluZzsgaWZOb25lTWF0Y2g/OiBzdHJpbmcgfSA9IHt9KSB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdub3QgY29ubmVjdGVkIChwYXRoOiAnICsgcGF0aCArICcpJyk7XG4gICAgfVxuICAgIGlmICgoIWNvbnRlbnRUeXBlLm1hdGNoKC9jaGFyc2V0PS8pKSAmJiAoYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpKSkge1xuICAgICAgY29udGVudFR5cGUgKz0gJzsgY2hhcnNldD1iaW5hcnknO1xuICAgIH1cbiAgICBjb25zdCBoZWFkZXJzID0geydDb250ZW50LVR5cGUnOiBjb250ZW50VHlwZX07XG4gICAgaWYgKHRoaXMuc3VwcG9ydHNSZXZzKSB7XG4gICAgICBpZiAob3B0aW9ucy5pZk1hdGNoKSB7XG4gICAgICAgIGhlYWRlcnNbJ0lmLU1hdGNoJ10gPSBhZGRRdW90ZXMob3B0aW9ucy5pZk1hdGNoKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmlmTm9uZU1hdGNoKSB7XG4gICAgICAgIGhlYWRlcnNbJ0lmLU5vbmUtTWF0Y2gnXSA9IGFkZFF1b3RlcyhvcHRpb25zLmlmTm9uZU1hdGNoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BVVCcsIHRoaXMuaHJlZiArIGNsZWFuUGF0aChwYXRoKSwgdGhpcy50b2tlbixcbiAgICAgIGhlYWRlcnMsIGJvZHksIHRoaXMuc3VwcG9ydHNSZXZzKTtcbiAgfVxuXG4gIGRlbGV0ZSAocGF0aDogc3RyaW5nLCBvcHRpb25zOiB7IGlmTWF0Y2g/OiBzdHJpbmcgfSA9IHt9KSB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgY29ubmVjdGVkIChwYXRoOiAnICsgcGF0aCArICcpJyk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgaWYgKHRoaXMuc3VwcG9ydHNSZXZzKSB7XG4gICAgICBpZiAob3B0aW9ucy5pZk1hdGNoKSB7XG4gICAgICAgIGhlYWRlcnNbJ0lmLU1hdGNoJ10gPSBhZGRRdW90ZXMob3B0aW9ucy5pZk1hdGNoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0RFTEVURScsIHRoaXMuaHJlZiArIGNsZWFuUGF0aChwYXRoKSwgdGhpcy50b2tlbixcbiAgICAgIGhlYWRlcnMsXG4gICAgICB1bmRlZmluZWQsIHRoaXMuc3VwcG9ydHNSZXZzKTtcbiAgfVxuXG4gIC8vIFNoYXJlZCBpc0FycmF5QnVmZmVyVmlldyB1c2VkIGJ5IFdpcmVDbGllbnQgYW5kIERyb3Bib3hcbiAgc3RhdGljIGlzQXJyYXlCdWZmZXJWaWV3ID0gaXNBcnJheUJ1ZmZlclZpZXc7XG5cbiAgLy8gVE9ETyBhZGQgcHJvcGVyIGRlZmluaXRpb24gZm9yIG9wdGlvbnNcbiAgLy8gU2hhcmVkIHJlcXVlc3QgZnVuY3Rpb24gdXNlZCBieSBXaXJlQ2xpZW50LCBHb29nbGVEcml2ZSBhbmQgRHJvcGJveC5cbiAgc3RhdGljIGFzeW5jIHJlcXVlc3QgKG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgb3B0aW9uczogdW5rbm93bik6IFByb21pc2U8WE1MSHR0cFJlcXVlc3QgfCBSZXNwb25zZT4ge1xuICAgIGlmICh0eXBlb2YgZmV0Y2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBXaXJlQ2xpZW50Ll9mZXRjaFJlcXVlc3QobWV0aG9kLCB1cmwsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gV2lyZUNsaWVudC5feGhyUmVxdWVzdChtZXRob2QsIHVybCwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZygnW1dpcmVDbGllbnRdIFlvdSBuZWVkIHRvIGFkZCBhIHBvbHlmaWxsIGZvciBmZXRjaCBvciBYTUxIdHRwUmVxdWVzdCcpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdbV2lyZUNsaWVudF0gWW91IG5lZWQgdG8gYWRkIGEgcG9seWZpbGwgZm9yIGZldGNoIG9yIFhNTEh0dHBSZXF1ZXN0Jyk7XG4gICAgfVxuICB9XG5cbiAgLyoqIG9wdGlvbnMgaW5jbHVkZXMgYm9keSwgaGVhZGVycyBhbmQgcmVzcG9uc2VUeXBlICovXG4gIHN0YXRpYyBfZmV0Y2hSZXF1ZXN0IChtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIG9wdGlvbnMpOiBQcm9taXNlPFJlc3BvbnNlPiB7XG4gICAgbGV0IHN5bnRoZXRpY1hocjtcbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSB7fTtcbiAgICBsZXQgYWJvcnRDb250cm9sbGVyO1xuICAgIGlmICh0eXBlb2YgQWJvcnRDb250cm9sbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgfVxuICAgIGNvbnN0IG5ldHdvcmtQcm9taXNlOiBQcm9taXNlPFJlc3BvbnNlPiA9IGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBoZWFkZXJzOiBvcHRpb25zLmhlYWRlcnMsXG4gICAgICBib2R5OiBvcHRpb25zLmJvZHksXG4gICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlciA/IGFib3J0Q29udHJvbGxlci5zaWduYWwgOiB1bmRlZmluZWRcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgbG9nKCdbV2lyZUNsaWVudCBmZXRjaF0nLCByZXNwb25zZSk7XG5cbiAgICAgIHJlc3BvbnNlLmhlYWRlcnMuZm9yRWFjaCgodmFsdWU6IHN0cmluZywgaGVhZGVyTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIHJlc3BvbnNlSGVhZGVyc1toZWFkZXJOYW1lLnRvVXBwZXJDYXNlKCldID0gdmFsdWU7XG4gICAgICB9KTtcblxuICAgICAgc3ludGhldGljWGhyID0ge1xuICAgICAgICByZWFkeVN0YXRlOiA0LFxuICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgcmVzcG9uc2U6IHVuZGVmaW5lZCxcbiAgICAgICAgZ2V0UmVzcG9uc2VIZWFkZXI6IChoZWFkZXJOYW1lOiBzdHJpbmcpOiB1bmtub3duID0+IHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2VIZWFkZXJzW2hlYWRlck5hbWUudG9VcHBlckNhc2UoKV0gfHwgbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gcmVzcG9uc2VUZXh0OiAnZm9vJyxcbiAgICAgICAgcmVzcG9uc2VUeXBlOiBvcHRpb25zLnJlc3BvbnNlVHlwZSxcbiAgICAgICAgcmVzcG9uc2VVUkw6IHVybCxcbiAgICAgIH07XG4gICAgICBzd2l0Y2ggKG9wdGlvbnMucmVzcG9uc2VUeXBlKSB7XG4gICAgICAgIGNhc2UgJ2FycmF5YnVmZmVyJzpcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgY2FzZSAnYmxvYic6XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgY2FzZSAnanNvbic6XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgIGNhc2UgJyc6XG4gICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGRlZmF1bHQ6ICAgLy8gZG9jdW1lbnRcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJyZXNwb25zZVR5cGUgJ2RvY3VtZW50JyBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCB1c2luZyBmZXRjaFwiKTtcbiAgICAgIH1cbiAgICB9KS50aGVuKChwcm9jZXNzZWRCb2R5KSA9PiB7XG4gICAgICBzeW50aGV0aWNYaHIucmVzcG9uc2UgPSBwcm9jZXNzZWRCb2R5O1xuICAgICAgaWYgKCFvcHRpb25zLnJlc3BvbnNlVHlwZSB8fCBvcHRpb25zLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIHN5bnRoZXRpY1hoci5yZXNwb25zZVRleHQgPSBwcm9jZXNzZWRCb2R5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN5bnRoZXRpY1hocjtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlOiBQcm9taXNlPFJlc3BvbnNlPiA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByZWplY3QoJ3RpbWVvdXQnKTtcbiAgICAgICAgaWYgKGFib3J0Q29udHJvbGxlcikge1xuICAgICAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICB9LCBjb25maWcucmVxdWVzdFRpbWVvdXQpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIFByb21pc2UucmFjZShbbmV0d29ya1Byb21pc2UsIHRpbWVvdXRQcm9taXNlXSk7XG4gIH1cblxuICBzdGF0aWMgX3hoclJlcXVlc3QgKG1ldGhvZCwgdXJsLCBvcHRpb25zKTogUHJvbWlzZTxYTUxIdHRwUmVxdWVzdD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgIGxvZygnW1dpcmVDbGllbnRdJywgbWV0aG9kLCB1cmwpO1xuXG4gICAgICBsZXQgdGltZWRPdXQgPSBmYWxzZTtcblxuICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGltZWRPdXQgPSB0cnVlO1xuICAgICAgICByZWplY3QoJ3RpbWVvdXQnKTtcbiAgICAgIH0sIGNvbmZpZy5yZXF1ZXN0VGltZW91dCk7XG5cbiAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuXG4gICAgICBpZiAob3B0aW9ucy5yZXNwb25zZVR5cGUpIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IG9wdGlvbnMucmVzcG9uc2VUeXBlO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgb3B0aW9ucy5oZWFkZXJzW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHhoci5vbmxvYWQgPSAoKTogdm9pZCA9PiB7XG4gICAgICAgIGlmICh0aW1lZE91dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICByZXNvbHZlKHhocik7XG4gICAgICB9O1xuXG4gICAgICB4aHIub25lcnJvciA9IChlcnJvcik6IHZvaWQgPT4ge1xuICAgICAgICBpZiAodGltZWRPdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH07XG5cbiAgICAgIGxldCBib2R5ID0gb3B0aW9ucy5ib2R5O1xuXG4gICAgICBpZiAodHlwZW9mIChib2R5KSA9PT0gJ29iamVjdCcgJiYgIWlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpICYmIGJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICBib2R5ID0gbmV3IFVpbnQ4QXJyYXkoYm9keSk7XG4gICAgICB9XG4gICAgICB4aHIuc2VuZChib2R5KTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBfcnNfaW5pdCAocmVtb3RlU3RvcmFnZSk6IHZvaWQge1xuICAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlID0gbmV3IFdpcmVDbGllbnQocmVtb3RlU3RvcmFnZSk7XG4gICAgcmVtb3RlU3RvcmFnZS5yZW1vdGUub25saW5lID0gdHJ1ZTtcbiAgfVxuXG4gIHN0YXRpYyBfcnNfc3VwcG9ydGVkICgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHlwZW9mIGZldGNoID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJztcbiAgfVxuXG4gIHN0YXRpYyBfcnNfY2xlYW51cCAoKTogdm9pZCB7XG4gICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtTRVRUSU5HU19LRVldO1xuICAgIH1cbiAgfVxufVxuXG5pbnRlcmZhY2UgV2lyZUNsaWVudCBleHRlbmRzIEV2ZW50SGFuZGxpbmcge307XG5hcHBseU1peGlucyhXaXJlQ2xpZW50LCBbRXZlbnRIYW5kbGluZ10pO1xuXG5leHBvcnQgPSBXaXJlQ2xpZW50O1xuIiwiY2xhc3MgU3luY0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBvcmlnaW5hbEVycm9yOiBFcnJvclxuXG4gIGNvbnN0cnVjdG9yIChvcmlnaW5hbEVycm9yOiBzdHJpbmcgfCBFcnJvcikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5uYW1lID0gJ1N5bmNFcnJvcic7XG4gICAgdGhpcy5tZXNzYWdlID0gJ1N5bmMgZmFpbGVkOiAnO1xuICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxFcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMubWVzc2FnZSArPSBvcmlnaW5hbEVycm9yO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1lc3NhZ2UgKz0gb3JpZ2luYWxFcnJvci5tZXNzYWdlO1xuICAgICAgdGhpcy5zdGFjayA9IG9yaWdpbmFsRXJyb3Iuc3RhY2s7XG4gICAgICB0aGlzLm9yaWdpbmFsRXJyb3IgPSBvcmlnaW5hbEVycm9yO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgPSBTeW5jRXJyb3I7XG4iLCJpbXBvcnQgRXZlbnRIYW5kbGluZyBmcm9tICcuL2V2ZW50aGFuZGxpbmcnO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcbmltcG9ydCB7XG4gIGFwcGx5TWl4aW5zLFxuICBkZWVwQ2xvbmUsXG4gIGVxdWFsLFxuICBpc0RvY3VtZW50LFxuICBpc0ZvbGRlcixcbiAgcGF0aHNGcm9tUm9vdFxufSBmcm9tICcuL3V0aWwnO1xuXG4vKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgZnVuY3Rpb25zIHRoYXQgYXJlIG1peGVkIGludG8gcmVtb3RlU3RvcmFnZS5sb2NhbCB3aGVuXG4gKiBpdCBpcyBpbnN0YW50aWF0ZWQgKGN1cnJlbnRseSBvbmUgb2YgaW5kZXhlZGRiLmpzLCBsb2NhbHN0b3JhZ2UuanMsIG9yXG4gKiBpbm1lbW9yeXN0b3JhZ2UuanMpLlxuICpcbiAqIEFsbCByZW1vdGVTdG9yYWdlLmxvY2FsIGltcGxlbWVudGF0aW9ucyBzaG91bGQgdGhlcmVmb3JlIGltcGxlbWVudFxuICogdGhpcy5nZXROb2RlcywgdGhpcy5zZXROb2RlcywgYW5kIHRoaXMuZm9yQWxsTm9kZXMuIFRoZSByZXN0IGlzIGJsZW5kZWQgaW5cbiAqIGhlcmUgdG8gY3JlYXRlIGEgR1BEIChnZXQvcHV0L2RlbGV0ZSkgaW50ZXJmYWNlIHdoaWNoIHRoZSBCYXNlQ2xpZW50IGNhblxuICogdGFsayB0by5cbiAqXG4gKiBAaW50ZXJmYWNlXG4gKi9cblxuYWJzdHJhY3QgY2xhc3MgQ2FjaGluZ0xheWVyIHtcbiAgLy8gRklYTUVcbiAgLy8gdGhpcyBwcm9jZXNzIG9mIHVwZGF0aW5nIG5vZGVzIG5lZWRzIHRvIGJlIGhlYXZpbHkgZG9jdW1lbnRlZCBmaXJzdCwgdGhlblxuICAvLyByZWZhY3RvcmVkLiBSaWdodCBub3cgaXQncyBhbG1vc3QgaW1wb3NzaWJsZSB0byByZWZhY3RvciBhcyB0aGVyZSdzIG5vXG4gIC8vIGV4cGxhbmF0aW9uIG9mIHdoeSB0aGluZ3MgYXJlIGltcGxlbWVudGVkIGNlcnRhaW4gd2F5cyBvciB3aGF0IHRoZSBnb2FsKHMpXG4gIC8vIG9mIHRoZSBiZWhhdmlvciBhcmUuIC1zbHZyYmNrdCAoKzEgLWxlcylcbiAgcHJpdmF0ZSBfdXBkYXRlTm9kZXNSdW5uaW5nID0gZmFsc2U7XG4gIHByaXZhdGUgX3VwZGF0ZU5vZGVzUXVldWVkID0gW107XG5cblxuICAvLyBmdW5jdGlvbnMgdGhhdCB3aWxsIGJlIG92ZXJ3cml0dGVuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgYWJzdHJhY3QgZ2V0Tm9kZXMocGF0aHM6IHN0cmluZ1tdKTogUHJvbWlzZTxSU05vZGVzPjtcblxuICBhYnN0cmFjdCBkaWZmSGFuZGxlciguLi5hcmdzOiBhbnlbXSk7XG5cbiAgYWJzdHJhY3QgZm9yQWxsTm9kZXMoY2I6IChub2RlKSA9PiBhbnkpOiBQcm9taXNlPHZvaWQ+O1xuXG4gIGFic3RyYWN0IHNldE5vZGVzKG5vZGVzOiBSU05vZGVzKTogUHJvbWlzZTx2b2lkPjtcblxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gVE9ETzogaW1wcm92ZSBvdXIgY29kZSBzdHJ1Y3R1cmUgc28gdGhhdCB0aGlzIGZ1bmN0aW9uXG4gIC8vIGNvdWxkIGNhbGwgc3luYy5xdWV1ZUdldFJlcXVlc3QgZGlyZWN0bHkgaW5zdGVhZCBvZiBuZWVkaW5nXG4gIC8vIHRoaXMgaGFja3kgdGhpcmQgcGFyYW1ldGVyIGFzIGEgY2FsbGJhY2tcbiAgZ2V0IChwYXRoOiBzdHJpbmcsIG1heEFnZTogbnVtYmVyLCBxdWV1ZUdldFJlcXVlc3Q6IChwYXRoOiBzdHJpbmcpID0+IFByb21pc2U8UXVldWVkUmVxdWVzdFJlc3BvbnNlPik6IFByb21pc2U8UXVldWVkUmVxdWVzdFJlc3BvbnNlPiB7XG5cbiAgICBpZiAodHlwZW9mIChtYXhBZ2UpID09PSAnbnVtYmVyJykge1xuXG4gICAgICByZXR1cm4gdGhpcy5nZXROb2RlcyhwYXRoc0Zyb21Sb290KHBhdGgpKVxuICAgICAgICAudGhlbigob2JqcykgPT4ge1xuICAgICAgICAgIGNvbnN0IG5vZGU6IFJTTm9kZSA9IGdldExhdGVzdChvYmpzW3BhdGhdKTtcbiAgICAgICAgICBpZiAoaXNPdXRkYXRlZChvYmpzLCBtYXhBZ2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVldWVHZXRSZXF1ZXN0KHBhdGgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtzdGF0dXNDb2RlOiAyMDAsIGJvZHk6IG5vZGUuYm9keSB8fCBub2RlLml0ZW1zTWFwLCBjb250ZW50VHlwZTogbm9kZS5jb250ZW50VHlwZX07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7c3RhdHVzQ29kZTogNDA0fTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXROb2RlcyhbcGF0aF0pXG4gICAgICAgIC50aGVuKChvYmpzKSA9PiB7XG4gICAgICAgICAgY29uc3Qgbm9kZSA9IGdldExhdGVzdChvYmpzW3BhdGhdKTtcbiAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgaWYgKGlzRm9sZGVyKHBhdGgpKSB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgaSBpbiBub2RlLml0ZW1zTWFwKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhlIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUgaXMgb25seSBiZWNhdXNlIG91ciBqc2hpbnQgc2V0dGluZ3MgcmVxdWlyZSBpdDpcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5pdGVtc01hcC5oYXNPd25Qcm9wZXJ0eShpKSAmJiBub2RlLml0ZW1zTWFwW2ldID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIG5vZGUuaXRlbXNNYXBbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge3N0YXR1c0NvZGU6IDIwMCwgYm9keTogbm9kZS5ib2R5IHx8IG5vZGUuaXRlbXNNYXAsIGNvbnRlbnRUeXBlOiBub2RlLmNvbnRlbnRUeXBlfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtzdGF0dXNDb2RlOiA0MDR9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHV0KHBhdGg6IHN0cmluZywgYm9keTogYW55LCBjb250ZW50VHlwZTogc3RyaW5nKTogUHJvbWlzZTxSU05vZGVzPiB7XG4gICAgY29uc3QgcGF0aHMgPSBwYXRoc0Zyb21Sb290KHBhdGgpO1xuXG4gICAgZnVuY3Rpb24gX3Byb2Nlc3NOb2Rlcyhub2RlUGF0aHMsIG5vZGVzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbm9kZVBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qgbm9kZVBhdGggPSBub2RlUGF0aHNbaV07XG4gICAgICAgICAgbGV0IG5vZGUgPSBub2Rlc1tub2RlUGF0aF07XG4gICAgICAgICAgbGV0IHByZXZpb3VzO1xuXG4gICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICBub2Rlc1tub2RlUGF0aF0gPSBub2RlID0gbWFrZU5vZGUobm9kZVBhdGgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIERvY3VtZW50XG4gICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIHByZXZpb3VzID0gZ2V0TGF0ZXN0KG5vZGUpO1xuICAgICAgICAgICAgbm9kZS5sb2NhbCA9IHtcbiAgICAgICAgICAgICAgYm9keTogYm9keSxcbiAgICAgICAgICAgICAgY29udGVudFR5cGU6IGNvbnRlbnRUeXBlLFxuICAgICAgICAgICAgICBwcmV2aW91c0JvZHk6IChwcmV2aW91cyA/IHByZXZpb3VzLmJvZHkgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICBwcmV2aW91c0NvbnRlbnRUeXBlOiAocHJldmlvdXMgPyBwcmV2aW91cy5jb250ZW50VHlwZSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBGb2xkZXJcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1OYW1lID0gbm9kZVBhdGhzW2kgLSAxXS5zdWJzdHJpbmcobm9kZVBhdGgubGVuZ3RoKTtcbiAgICAgICAgICAgIG5vZGUgPSB1cGRhdGVGb2xkZXJOb2RlV2l0aEl0ZW1OYW1lKG5vZGUsIGl0ZW1OYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGVzO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBsb2coJ1tDYWNoaW5nbGF5ZXJdIEVycm9yIGR1cmluZyBQVVQnLCBub2RlcywgZSk7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3VwZGF0ZU5vZGVzKHBhdGhzLCBfcHJvY2Vzc05vZGVzKTtcbiAgfVxuXG4gIGRlbGV0ZShwYXRoOiBzdHJpbmcpOiB1bmtub3duIHtcbiAgICBjb25zdCBwYXRocyA9IHBhdGhzRnJvbVJvb3QocGF0aCk7XG5cbiAgICByZXR1cm4gdGhpcy5fdXBkYXRlTm9kZXMocGF0aHMsIGZ1bmN0aW9uIChub2RlUGF0aHMsIG5vZGVzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbm9kZVBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG5vZGVQYXRoID0gbm9kZVBhdGhzW2ldO1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbbm9kZVBhdGhdO1xuICAgICAgICBsZXQgcHJldmlvdXM7XG5cbiAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQ2Fubm90IGRlbGV0ZSBub24tZXhpc3Rpbmcgbm9kZSAnICsgbm9kZVBhdGgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAvLyBEb2N1bWVudFxuICAgICAgICAgIHByZXZpb3VzID0gZ2V0TGF0ZXN0KG5vZGUpO1xuICAgICAgICAgIG5vZGUubG9jYWwgPSB7XG4gICAgICAgICAgICBib2R5OiBmYWxzZSxcbiAgICAgICAgICAgIHByZXZpb3VzQm9keTogKHByZXZpb3VzID8gcHJldmlvdXMuYm9keSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICBwcmV2aW91c0NvbnRlbnRUeXBlOiAocHJldmlvdXMgPyBwcmV2aW91cy5jb250ZW50VHlwZSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBGb2xkZXJcbiAgICAgICAgICBpZiAoIW5vZGUubG9jYWwpIHtcbiAgICAgICAgICAgIG5vZGUubG9jYWwgPSBkZWVwQ2xvbmUobm9kZS5jb21tb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpdGVtTmFtZSA9IG5vZGVQYXRoc1tpIC0gMV0uc3Vic3RyaW5nKG5vZGVQYXRoLmxlbmd0aCk7XG4gICAgICAgICAgZGVsZXRlIG5vZGUubG9jYWwuaXRlbXNNYXBbaXRlbU5hbWVdO1xuXG4gICAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG5vZGUubG9jYWwuaXRlbXNNYXApLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIFRoaXMgZm9sZGVyIHN0aWxsIGNvbnRhaW5zIG90aGVyIGl0ZW1zLCBkb24ndCByZW1vdmUgYW55IGZ1cnRoZXIgYW5jZXN0b3JzXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlcztcbiAgICB9KTtcbiAgfVxuXG4gIGZsdXNoKHBhdGg6IHN0cmluZyk6IHVua25vd24ge1xuXG4gICAgcmV0dXJuIHRoaXMuX2dldEFsbERlc2NlbmRlbnRQYXRocyhwYXRoKS50aGVuKChwYXRocykgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZXMocGF0aHMpO1xuICAgIH0pLnRoZW4oKG5vZGVzOiBSU05vZGVzKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IG5vZGVQYXRoIGluIG5vZGVzKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tub2RlUGF0aF07XG5cbiAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5jb21tb24gJiYgbm9kZS5sb2NhbCkge1xuICAgICAgICAgIHRoaXMuX2VtaXRDaGFuZ2Uoe1xuICAgICAgICAgICAgcGF0aDogbm9kZS5wYXRoLFxuICAgICAgICAgICAgb3JpZ2luOiAnbG9jYWwnLFxuICAgICAgICAgICAgb2xkVmFsdWU6IChub2RlLmxvY2FsLmJvZHkgPT09IGZhbHNlID8gdW5kZWZpbmVkIDogbm9kZS5sb2NhbC5ib2R5KSxcbiAgICAgICAgICAgIG5ld1ZhbHVlOiAobm9kZS5jb21tb24uYm9keSA9PT0gZmFsc2UgPyB1bmRlZmluZWQgOiBub2RlLmNvbW1vbi5ib2R5KVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIG5vZGVzW25vZGVQYXRoXSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuc2V0Tm9kZXMobm9kZXMpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfZW1pdENoYW5nZShvYmo6IENoYW5nZU9iaikge1xuICAgIGlmIChjb25maWcuY2hhbmdlRXZlbnRzW29iai5vcmlnaW5dKSB7XG4gICAgICB0aGlzLl9lbWl0KCdjaGFuZ2UnLCBvYmopO1xuICAgIH1cbiAgfVxuXG4gIGZpcmVJbml0aWFsKCkge1xuICAgIGlmICghY29uZmlnLmNoYW5nZUV2ZW50cy5sb2NhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZm9yQWxsTm9kZXMoKG5vZGUpID0+IHtcblxuICAgICAgaWYgKGlzRG9jdW1lbnQobm9kZS5wYXRoKSkge1xuICAgICAgICBjb25zdCBsYXRlc3QgPSBnZXRMYXRlc3Qobm9kZSk7XG4gICAgICAgIGlmIChsYXRlc3QpIHtcbiAgICAgICAgICB0aGlzLl9lbWl0Q2hhbmdlKHtcbiAgICAgICAgICAgIHBhdGg6IG5vZGUucGF0aCxcbiAgICAgICAgICAgIG9yaWdpbjogJ2xvY2FsJyxcbiAgICAgICAgICAgIG9sZFZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvbGRDb250ZW50VHlwZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbmV3VmFsdWU6IGxhdGVzdC5ib2R5LFxuICAgICAgICAgICAgbmV3Q29udGVudFR5cGU6IGxhdGVzdC5jb250ZW50VHlwZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLl9lbWl0KCdsb2NhbC1ldmVudHMtZG9uZScpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gVE9ETyBhZGQgcHJvcGVyIHR5cGVcbiAgb25EaWZmKGRpZmZIYW5kbGVyOiBhbnkpIHtcbiAgICB0aGlzLmRpZmZIYW5kbGVyID0gZGlmZkhhbmRsZXI7XG4gIH1cblxuICBtaWdyYXRlKG5vZGU6IFJTTm9kZSk6IFJTTm9kZSB7XG4gICAgaWYgKHR5cGVvZiAobm9kZSkgPT09ICdvYmplY3QnICYmICFub2RlLmNvbW1vbikge1xuICAgICAgbm9kZS5jb21tb24gPSB7fTtcbiAgICAgIGlmICh0eXBlb2YgKG5vZGUucGF0aCkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChub2RlLnBhdGguc3Vic3RyKC0xKSA9PT0gJy8nICYmIHR5cGVvZiAobm9kZS5ib2R5KSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBub2RlLmNvbW1vbi5pdGVtc01hcCA9IG5vZGUuYm9keTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9zYXZlIGxlZ2FjeSBjb250ZW50IG9mIGRvY3VtZW50IG5vZGUgYXMgbG9jYWwgdmVyc2lvblxuICAgICAgICBpZiAoIW5vZGUubG9jYWwpIHtcbiAgICAgICAgICBub2RlLmxvY2FsID0ge307XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5sb2NhbC5ib2R5ID0gbm9kZS5ib2R5O1xuICAgICAgICBub2RlLmxvY2FsLmNvbnRlbnRUeXBlID0gbm9kZS5jb250ZW50VHlwZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuXG4gIHByaXZhdGUgX3VwZGF0ZU5vZGVzKHBhdGhzOiBzdHJpbmdbXSwgX3Byb2Nlc3NOb2Rlcyk6IFByb21pc2U8UlNOb2Rlcz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLl9kb1VwZGF0ZU5vZGVzKHBhdGhzLCBfcHJvY2Vzc05vZGVzLCB7XG4gICAgICAgIHJlc29sdmU6IHJlc29sdmUsXG4gICAgICAgIHJlamVjdDogcmVqZWN0XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2RvVXBkYXRlTm9kZXMocGF0aHMsIF9wcm9jZXNzTm9kZXMsIHByb21pc2UpIHtcbiAgICBpZiAodGhpcy5fdXBkYXRlTm9kZXNSdW5uaW5nKSB7XG4gICAgICB0aGlzLl91cGRhdGVOb2Rlc1F1ZXVlZC5wdXNoKHtcbiAgICAgICAgcGF0aHM6IHBhdGhzLFxuICAgICAgICBjYjogX3Byb2Nlc3NOb2RlcyxcbiAgICAgICAgcHJvbWlzZTogcHJvbWlzZVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3VwZGF0ZU5vZGVzUnVubmluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5nZXROb2RlcyhwYXRocykudGhlbigobm9kZXMpID0+IHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nTm9kZXMgPSBkZWVwQ2xvbmUobm9kZXMpO1xuICAgICAgY29uc3QgY2hhbmdlRXZlbnRzID0gW107XG5cbiAgICAgIG5vZGVzID0gX3Byb2Nlc3NOb2RlcyhwYXRocywgbm9kZXMpO1xuXG4gICAgICBmb3IgKGNvbnN0IHBhdGggaW4gbm9kZXMpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW3BhdGhdO1xuICAgICAgICBpZiAoZXF1YWwobm9kZSwgZXhpc3RpbmdOb2Rlc1twYXRoXSkpIHtcbiAgICAgICAgICBkZWxldGUgbm9kZXNbcGF0aF07XG4gICAgICAgIH0gZWxzZSBpZiAoaXNEb2N1bWVudChwYXRoKSkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFlcXVhbChub2RlLmxvY2FsLmJvZHksIG5vZGUubG9jYWwucHJldmlvdXNCb2R5KSB8fFxuICAgICAgICAgICAgbm9kZS5sb2NhbC5jb250ZW50VHlwZSAhPT0gbm9kZS5sb2NhbC5wcmV2aW91c0NvbnRlbnRUeXBlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjaGFuZ2VFdmVudHMucHVzaCh7XG4gICAgICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgICAgIG9yaWdpbjogJ3dpbmRvdycsXG4gICAgICAgICAgICAgIG9sZFZhbHVlOiBub2RlLmxvY2FsLnByZXZpb3VzQm9keSxcbiAgICAgICAgICAgICAgbmV3VmFsdWU6IG5vZGUubG9jYWwuYm9keSA9PT0gZmFsc2UgPyB1bmRlZmluZWQgOiBub2RlLmxvY2FsLmJvZHksXG4gICAgICAgICAgICAgIG9sZENvbnRlbnRUeXBlOiBub2RlLmxvY2FsLnByZXZpb3VzQ29udGVudFR5cGUsXG4gICAgICAgICAgICAgIG5ld0NvbnRlbnRUeXBlOiBub2RlLmxvY2FsLmNvbnRlbnRUeXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIG5vZGUubG9jYWwucHJldmlvdXNCb2R5O1xuICAgICAgICAgIGRlbGV0ZSBub2RlLmxvY2FsLnByZXZpb3VzQ29udGVudFR5cGU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXROb2Rlcyhub2RlcykudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMuX2VtaXRDaGFuZ2VFdmVudHMoY2hhbmdlRXZlbnRzKTtcbiAgICAgICAgcHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAyMDB9KTtcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH0sIChlcnIpID0+IHtcbiAgICAgIHByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLl91cGRhdGVOb2Rlc1J1bm5pbmcgPSBmYWxzZTtcbiAgICAgIGNvbnN0IG5leHRKb2IgPSB0aGlzLl91cGRhdGVOb2Rlc1F1ZXVlZC5zaGlmdCgpO1xuICAgICAgaWYgKG5leHRKb2IpIHtcbiAgICAgICAgdGhpcy5fZG9VcGRhdGVOb2RlcyhuZXh0Sm9iLnBhdGhzLCBuZXh0Sm9iLmNiLCBuZXh0Sm9iLnByb21pc2UpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfZW1pdENoYW5nZUV2ZW50cyhldmVudHM6IFJTRXZlbnRbXSkge1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBldmVudHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRoaXMuX2VtaXRDaGFuZ2UoZXZlbnRzW2ldKTtcbiAgICAgIGlmICh0aGlzLmRpZmZIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuZGlmZkhhbmRsZXIoZXZlbnRzW2ldLnBhdGgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2dldEFsbERlc2NlbmRlbnRQYXRocyhwYXRoOiBzdHJpbmcpIHtcbiAgICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzKFtwYXRoXSkudGhlbigobm9kZXMpID0+IHtcbiAgICAgICAgY29uc3QgYWxsUGF0aHMgPSBbcGF0aF07XG4gICAgICAgIGNvbnN0IGxhdGVzdCA9IGdldExhdGVzdChub2Rlc1twYXRoXSk7XG5cbiAgICAgICAgY29uc3QgaXRlbU5hbWVzID0gT2JqZWN0LmtleXMobGF0ZXN0Lml0ZW1zTWFwKTtcbiAgICAgICAgY29uc3QgY2FsbHMgPSBpdGVtTmFtZXMubWFwKChpdGVtTmFtZSkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRBbGxEZXNjZW5kZW50UGF0aHMocGF0aCArIGl0ZW1OYW1lKS50aGVuKChwYXRocykgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgIGFsbFBhdGhzLnB1c2gocGF0aHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGNhbGxzKS50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gYWxsUGF0aHM7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW3BhdGhdKTtcbiAgICB9XG4gIH1cblxuICAvLyB0cmVhdGVkIGFzIHByaXZhdGUgYnV0IG1hZGUgcHVibGljIGZvciB1bml0IHRlc3RpbmdcbiAgX2dldEludGVybmFscygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0TGF0ZXN0OiBnZXRMYXRlc3QsXG4gICAgICBtYWtlTm9kZTogbWFrZU5vZGUsXG4gICAgICBpc091dGRhdGVkOiBpc091dGRhdGVkXG4gICAgfTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGdldExhdGVzdChub2RlOiBSU05vZGUpOiBhbnkge1xuICBpZiAodHlwZW9mIChub2RlKSAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIChub2RlLnBhdGgpICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaXNGb2xkZXIobm9kZS5wYXRoKSkge1xuICAgIGlmIChub2RlLmxvY2FsICYmIG5vZGUubG9jYWwuaXRlbXNNYXApIHtcbiAgICAgIHJldHVybiBub2RlLmxvY2FsO1xuICAgIH1cbiAgICBpZiAobm9kZS5jb21tb24gJiYgbm9kZS5jb21tb24uaXRlbXNNYXApIHtcbiAgICAgIHJldHVybiBub2RlLmNvbW1vbjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKG5vZGUubG9jYWwpIHtcbiAgICAgIGlmIChub2RlLmxvY2FsLmJvZHkgJiYgbm9kZS5sb2NhbC5jb250ZW50VHlwZSkge1xuICAgICAgICByZXR1cm4gbm9kZS5sb2NhbDtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmxvY2FsLmJvZHkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vZGUuY29tbW9uICYmIG5vZGUuY29tbW9uLmJvZHkgJiYgbm9kZS5jb21tb24uY29udGVudFR5cGUpIHtcbiAgICAgIHJldHVybiBub2RlLmNvbW1vbjtcbiAgICB9XG4gICAgLy8gTWlncmF0aW9uIGNvZGUhIE9uY2UgYWxsIGFwcHMgdXNlIGF0IGxlYXN0IHRoaXMgdmVyc2lvbiBvZiB0aGUgbGliLCB3ZVxuICAgIC8vIGNhbiBwdWJsaXNoIGNsZWFuLXVwIGNvZGUgdGhhdCBtaWdyYXRlcyBvdmVyIGFueSBvbGQtZm9ybWF0IGRhdGEsIGFuZFxuICAgIC8vIHN0b3Agc3VwcG9ydGluZyBpdC4gRm9yIG5vdywgbmV3IGFwcHMgd2lsbCBzdXBwb3J0IGRhdGEgaW4gYm90aFxuICAgIC8vIGZvcm1hdHMsIHRoYW5rcyB0byB0aGlzOlxuICAgIGlmIChub2RlLmJvZHkgJiYgbm9kZS5jb250ZW50VHlwZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYm9keTogbm9kZS5ib2R5LFxuICAgICAgICBjb250ZW50VHlwZTogbm9kZS5jb250ZW50VHlwZVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNPdXRkYXRlZChub2RlczogUlNOb2RlcywgbWF4QWdlOiBudW1iZXIpOiBib29sZWFuIHtcbiAgZm9yIChjb25zdCBwYXRoIGluIG5vZGVzKSB7XG4gICAgaWYgKG5vZGVzW3BhdGhdICYmIG5vZGVzW3BhdGhdLnJlbW90ZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IG5vZGVWZXJzaW9uID0gZ2V0TGF0ZXN0KG5vZGVzW3BhdGhdKTtcbiAgICBpZiAobm9kZVZlcnNpb24gJiYgbm9kZVZlcnNpb24udGltZXN0YW1wICYmIChuZXcgRGF0ZSgpLmdldFRpbWUoKSkgLSBub2RlVmVyc2lvbi50aW1lc3RhbXAgPD0gbWF4QWdlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmICghbm9kZVZlcnNpb24pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG5mdW5jdGlvbiBtYWtlTm9kZShwYXRoOiBzdHJpbmcpOiBSU05vZGUge1xuICBjb25zdCBub2RlOiBSU05vZGUgPSB7cGF0aDogcGF0aCwgY29tbW9uOiB7fX07XG5cbiAgaWYgKGlzRm9sZGVyKHBhdGgpKSB7XG4gICAgbm9kZS5jb21tb24uaXRlbXNNYXAgPSB7fTtcbiAgfVxuICByZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRm9sZGVyTm9kZVdpdGhJdGVtTmFtZShub2RlOiBSU05vZGUsIGl0ZW1OYW1lOiBzdHJpbmcpOiBSU05vZGUge1xuICBpZiAoIW5vZGUuY29tbW9uKSB7XG4gICAgbm9kZS5jb21tb24gPSB7XG4gICAgICBpdGVtc01hcDoge31cbiAgICB9O1xuICB9XG4gIGlmICghbm9kZS5jb21tb24uaXRlbXNNYXApIHtcbiAgICBub2RlLmNvbW1vbi5pdGVtc01hcCA9IHt9O1xuICB9XG4gIGlmICghbm9kZS5sb2NhbCkge1xuICAgIG5vZGUubG9jYWwgPSBkZWVwQ2xvbmUobm9kZS5jb21tb24pO1xuICB9XG4gIGlmICghbm9kZS5sb2NhbC5pdGVtc01hcCkge1xuICAgIG5vZGUubG9jYWwuaXRlbXNNYXAgPSBub2RlLmNvbW1vbi5pdGVtc01hcDtcbiAgfVxuICBub2RlLmxvY2FsLml0ZW1zTWFwW2l0ZW1OYW1lXSA9IHRydWU7XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmludGVyZmFjZSBDYWNoaW5nTGF5ZXIgZXh0ZW5kcyBFdmVudEhhbmRsaW5nIHt9O1xuYXBwbHlNaXhpbnMoQ2FjaGluZ0xheWVyLCBbRXZlbnRIYW5kbGluZ10pO1xuXG5leHBvcnQgPSBDYWNoaW5nTGF5ZXI7XG4iLCIvLyBUT0RPIG1heWJlIG1vdmUgdG8gY29tbW9uIGludGVyZmFjZXMgJiB0eXBlcyBmaWxlXG4vLyBhbHNvIHdvcnRoIGNvbnNpZGVyaW5nIGVudW1zXG50eXBlIEFjY2Vzc01vZGUgPSAncicgfCAncncnO1xudHlwZSBBY2Nlc3NTY29wZSA9IHN0cmluZztcblxuaW50ZXJmYWNlIFNjb3BlRW50cnkge1xuICBuYW1lOiBzdHJpbmc7XG4gIG1vZGU6IEFjY2Vzc01vZGU7XG59XG5cbmludGVyZmFjZSBTY29wZU1vZGVNYXAge1xuICAvLyBOT1RFOiBrZXkgaXMgYWN0dWFsbHkgQWNjZXNzU2NvcGVcbiAgW2tleTogc3RyaW5nXTogQWNjZXNzTW9kZTtcbn1cblxuLyoqXG4gKiBAY2xhc3MgQWNjZXNzXG4gKlxuICogS2VlcHMgdHJhY2sgb2YgY2xhaW1lZCBhY2Nlc3MgYW5kIHNjb3Blcy5cbiAqL1xuY2xhc3MgQWNjZXNzIHtcbiAgc2NvcGVNb2RlTWFwOiBTY29wZU1vZGVNYXA7XG4gIHJvb3RQYXRoczogc3RyaW5nW107XG4gIHN0b3JhZ2VUeXBlOiBzdHJpbmc7XG5cbiAgLy8gVE9ETyBjcmVhdGUgY3VzdG9tIHR5cGUgZm9yIGluaXQgZnVuY3Rpb25cbiAgc3RhdGljIF9yc19pbml0KCk6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9wZXJ0eTogc2NvcGVzXG4gICAqXG4gICAqIEhvbGRzIGFuIGFycmF5IG9mIGNsYWltZWQgc2NvcGVzIGluIHRoZSBmb3JtXG4gICAqID4geyBuYW1lOiBcIjxzY29wZS1uYW1lPlwiLCBtb2RlOiBcIjxtb2RlPlwiIH1cbiAgICovXG4gIGdldCBzY29wZXMoKTogU2NvcGVFbnRyeVtdIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5zY29wZU1vZGVNYXApLm1hcCgoa2V5KSA9PiB7XG4gICAgICByZXR1cm4geyBuYW1lOiBrZXksIG1vZGU6IHRoaXMuc2NvcGVNb2RlTWFwW2tleV0gfTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBzY29wZVBhcmFtZXRlcigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnNjb3Blcy5tYXAoKHNjb3BlKSA9PiB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5fc2NvcGVOYW1lRm9yUGFyYW1ldGVyKHNjb3BlKX06JHtzY29wZS5tb2RlfWA7XG4gICAgfSkuam9pbignICcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsYWltIGFjY2VzcyBvbiBhIGdpdmVuIHNjb3BlIHdpdGggZ2l2ZW4gbW9kZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNjb3BlIC0gQW4gYWNjZXNzIHNjb3BlLCBzdWNoIGFzIFwiY29udGFjdHNcIiBvciBcImNhbGVuZGFyXCJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBBY2Nlc3MgbW9kZS4gRWl0aGVyIFwiclwiIGZvciByZWFkLW9ubHkgb3IgXCJyd1wiIGZvciByZWFkL3dyaXRlXG4gICAqL1xuICBjbGFpbSAoc2NvcGU6IEFjY2Vzc1Njb3BlLCBtb2RlOiBBY2Nlc3NNb2RlKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiAoc2NvcGUpICE9PSAnc3RyaW5nJyB8fCBzY29wZS5pbmRleE9mKCcvJykgIT09IC0xIHx8IHNjb3BlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTY29wZSBzaG91bGQgYmUgYSBub24tZW1wdHkgc3RyaW5nIHdpdGhvdXQgZm9yd2FyZCBzbGFzaGVzJyk7XG4gICAgfVxuICAgIGlmICghbW9kZS5tYXRjaCgvXnJ3PyQvKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNb2RlIHNob3VsZCBiZSBlaXRoZXIgXFwnclxcJyBvciBcXCdyd1xcJycpO1xuICAgIH1cbiAgICB0aGlzLl9hZGp1c3RSb290UGF0aHMoc2NvcGUpO1xuICAgIHRoaXMuc2NvcGVNb2RlTWFwW3Njb3BlXSA9IG1vZGU7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhY2Nlc3MgbW9kZSBmb3IgYSBnaXZlbiBzY29wZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNjb3BlIC0gQWNjZXNzIHNjb3BlXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IEFjY2VzcyBtb2RlXG4gICAqL1xuICBnZXQgKHNjb3BlOiBBY2Nlc3NTY29wZSk6IEFjY2Vzc01vZGUge1xuICAgIHJldHVybiB0aGlzLnNjb3BlTW9kZU1hcFtzY29wZV07XG4gIH1cblxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWNjZXNzIGZvciB0aGUgZ2l2ZW4gc2NvcGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzY29wZSAtIEFjY2VzcyBzY29wZVxuICAgKi9cbiAgcmVtb3ZlIChzY29wZTogQWNjZXNzU2NvcGUpOiB2b2lkIHtcbiAgICBjb25zdCBzYXZlZE1hcDogU2NvcGVNb2RlTWFwID0ge307XG4gICAgZm9yIChjb25zdCBuYW1lIGluIHRoaXMuc2NvcGVNb2RlTWFwKSB7XG4gICAgICBzYXZlZE1hcFtuYW1lXSA9IHRoaXMuc2NvcGVNb2RlTWFwW25hbWVdO1xuICAgIH1cbiAgICB0aGlzLnJlc2V0KCk7XG4gICAgZGVsZXRlIHNhdmVkTWFwW3Njb3BlXTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gc2F2ZWRNYXApIHtcbiAgICAgIHRoaXMuY2xhaW0obmFtZSBhcyBBY2Nlc3NTY29wZSwgc2F2ZWRNYXBbbmFtZV0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZnkgcGVybWlzc2lvbiBmb3IgYSBnaXZlbiBzY29wZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNjb3BlIC0gQWNjZXNzIHNjb3BlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gQWNjZXNzIG1vZGVcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIHJlcXVlc3RlZCBhY2Nlc3MgbW9kZSBpcyBhY3RpdmUsIGZhbHNlIG90aGVyd2lzZVxuICAgKi9cbiAgY2hlY2tQZXJtaXNzaW9uIChzY29wZTogQWNjZXNzU2NvcGUsIG1vZGU6IEFjY2Vzc01vZGUpOiBib29sZWFuIHtcbiAgICBjb25zdCBhY3R1YWxNb2RlID0gdGhpcy5nZXQoc2NvcGUpO1xuICAgIHJldHVybiBhY3R1YWxNb2RlICYmIChtb2RlID09PSAncicgfHwgYWN0dWFsTW9kZSA9PT0gJ3J3Jyk7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZ5IHBlcm1pc3Npb24gZm9yIGEgZ2l2ZW4gcGF0aC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gQWNjZXNzIG1vZGVcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIHJlcXVlc3RlZCBhY2Nlc3MgbW9kZSBpcyBhY3RpdmUsIGZhbHNlIG90aGVyd2lzZVxuICAgKi9cbiAgY2hlY2tQYXRoUGVybWlzc2lvbiAocGF0aDogc3RyaW5nLCBtb2RlOiBBY2Nlc3NNb2RlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuY2hlY2tQZXJtaXNzaW9uKCcqJywgbW9kZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBUT0RPIGNoZWNrIGlmIHRoaXMgaXMgcmVsaWFibGVcbiAgICBjb25zdCBzY29wZSA9IHRoaXMuX2dldE1vZHVsZU5hbWUocGF0aCkgYXMgQWNjZXNzU2NvcGU7XG4gICAgcmV0dXJuICEhdGhpcy5jaGVja1Blcm1pc3Npb24oc2NvcGUsIG1vZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IGFsbCBhY2Nlc3MgcGVybWlzc2lvbnMuXG4gICAqL1xuICByZXNldCgpOiB2b2lkIHtcbiAgICB0aGlzLnJvb3RQYXRocyA9IFtdO1xuICAgIHRoaXMuc2NvcGVNb2RlTWFwID0ge307XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBtb2R1bGUgbmFtZSBmb3IgYSBnaXZlbiBwYXRoLlxuICAgKi9cbiAgcHJpdmF0ZSBfZ2V0TW9kdWxlTmFtZSAocGF0aCk6IHN0cmluZyB7XG4gICAgaWYgKHBhdGhbMF0gIT09ICcvJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXRoIHNob3VsZCBzdGFydCB3aXRoIGEgc2xhc2gnKTtcbiAgICB9XG4gICAgY29uc3QgbW9kdWxlTWF0Y2ggPSBwYXRoLnJlcGxhY2UoL15cXC9wdWJsaWMvLCAnJykubWF0Y2goL15cXC8oW14vXSopXFwvLyk7XG4gICAgcmV0dXJuIG1vZHVsZU1hdGNoID8gbW9kdWxlTWF0Y2hbMV0gOiAnKic7XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICovXG4gIHByaXZhdGUgX2FkanVzdFJvb3RQYXRocyAobmV3U2NvcGU6IEFjY2Vzc1Njb3BlKTogdm9pZCB7XG4gICAgaWYgKCcqJyBpbiB0aGlzLnNjb3BlTW9kZU1hcCB8fCBuZXdTY29wZSA9PT0gJyonKSB7XG4gICAgICB0aGlzLnJvb3RQYXRocyA9IFsnLyddO1xuICAgIH0gZWxzZSBpZiAoIShuZXdTY29wZSBpbiB0aGlzLnNjb3BlTW9kZU1hcCkpIHtcbiAgICAgIHRoaXMucm9vdFBhdGhzLnB1c2goJy8nICsgbmV3U2NvcGUgKyAnLycpO1xuICAgICAgdGhpcy5yb290UGF0aHMucHVzaCgnL3B1YmxpYy8nICsgbmV3U2NvcGUgKyAnLycpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKi9cbiAgcHJpdmF0ZSBfc2NvcGVOYW1lRm9yUGFyYW1ldGVyIChzY29wZTogU2NvcGVFbnRyeSk6IHN0cmluZyB7XG4gICAgaWYgKHNjb3BlLm5hbWUgPT09ICcqJyAmJiB0aGlzLnN0b3JhZ2VUeXBlKSB7XG4gICAgICBpZiAodGhpcy5zdG9yYWdlVHlwZSA9PT0gJzIwMTIuMDQnKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdG9yYWdlVHlwZS5tYXRjaCgvcmVtb3Rlc3RvcmFnZS0wWzAxXS8pKSB7XG4gICAgICAgIHJldHVybiAncm9vdCc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzY29wZS5uYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc3RvcmFnZSB0eXBlIG9mIHRoZSByZW1vdGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gU3RvcmFnZSB0eXBlXG4gICAqL1xuICBzZXRTdG9yYWdlVHlwZSAodHlwZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5zdG9yYWdlVHlwZSA9IHR5cGU7XG4gIH1cbn1cblxuZXhwb3J0ID0gQWNjZXNzO1xuIiwiaW1wb3J0IHsgY29udGFpbmluZ0ZvbGRlciwgaXNGb2xkZXIgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IGxvZyBmcm9tICcuL2xvZyc7XG5cbi8qKlxuICogQGNsYXNzIENhY2hpbmdcbiAqXG4gKiBIb2xkcy9tYW5hZ2VzIGNhY2hpbmcgY29uZmlndXJhdGlvbi5cbiAqKi9cbmNsYXNzIENhY2hpbmcge1xuICBwZW5kaW5nQWN0aXZhdGlvbnM6IHN0cmluZ1tdID0gW107XG4gIC8vIFRPRE8gYWRkIGNvcnJlY3QgdHlwZVxuICBhY3RpdmF0ZUhhbmRsZXI6IEZ1bmN0aW9uO1xuXG4gIHByaXZhdGUgX3Jvb3RQYXRoczogb2JqZWN0O1xuXG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogQ29uZmlndXJlIGNhY2hpbmcgZm9yIGEgZ2l2ZW4gcGF0aCBleHBsaWNpdGx5LlxuICAgKlxuICAgKiBOb3QgbmVlZGVkIHdoZW4gdXNpbmcgYGBlbmFibGVgYC9gYGRpc2FibGVgYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoIHRvIGNhY2hlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJhdGVneSAtIENhY2hpbmcgc3RyYXRlZ3kuIE9uZSBvZiAnQUxMJywgJ1NFRU4nLCBvciAnRkxVU0gnLlxuICAgKi9cbiAgc2V0IChwYXRoOiBzdHJpbmcsIHN0cmF0ZWd5OiAnQUxMJyB8ICdTRUVOJyB8ICdGTFVTSCcpOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhdGggc2hvdWxkIGJlIGEgc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmICghaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncGF0aCBzaG91bGQgYmUgYSBmb2xkZXInKTtcbiAgICB9XG4gICAgLy8gRklYTUUgV2UgbmVlZCB0byBnZXQgdG8gdGhlIGFjY2VzcyBpbnN0YW5jZSBzb21laG93LiAgQnV0IEknbSBub3Qgc3VyZVxuICAgIC8vIHRoaXMgY2hlY2sgaXMgZXZlbiBuZWNlc3NhcnkgaW4gdGhlIGZpcnN0IHBsYWNlLiAtcmF1Y2FvXG4gICAgLy8gaWYgKCF0aGlzLl9yZW1vdGVTdG9yYWdlLmFjY2Vzcy5jaGVja1BhdGhQZXJtaXNzaW9uKHBhdGgsICdyJykpIHtcbiAgICAvLyAgIHRocm93IG5ldyBFcnJvcignTm8gYWNjZXNzIHRvIHBhdGggXCInICsgcGF0aCArICdcIi4gWW91IGhhdmUgdG8gY2xhaW0gYWNjZXNzIHRvIGl0IGZpcnN0LicpO1xuICAgIC8vIH1cbiAgICBpZiAoIXN0cmF0ZWd5Lm1hdGNoKC9eKEZMVVNIfFNFRU58QUxMKSQvKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwic3RyYXRlZ3kgc2hvdWxkIGJlICdGTFVTSCcsICdTRUVOJywgb3IgJ0FMTCdcIik7XG4gICAgfVxuXG4gICAgdGhpcy5fcm9vdFBhdGhzW3BhdGhdID0gc3RyYXRlZ3k7XG5cbiAgICBpZiAoc3RyYXRlZ3kgPT09ICdBTEwnKSB7XG4gICAgICBpZiAodGhpcy5hY3RpdmF0ZUhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZUhhbmRsZXIocGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBlbmRpbmdBY3RpdmF0aW9ucy5wdXNoKHBhdGgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgY2FjaGluZyBmb3IgYSBnaXZlbiBwYXRoLlxuICAgKlxuICAgKiBVc2VzIGNhY2hpbmcgc3RyYXRlZ3kgYGBBTExgYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoIHRvIGVuYWJsZSBjYWNoaW5nIGZvclxuICAgKi9cbiAgZW5hYmxlIChwYXRoOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNldChwYXRoLCAnQUxMJyk7XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZSBjYWNoaW5nIGZvciBhIGdpdmVuIHBhdGguXG4gICAqXG4gICAqIFVzZXMgY2FjaGluZyBzdHJhdGVneSBgYEZMVVNIYGAgKG1lYW5pbmcgaXRlbXMgYXJlIG9ubHkgY2FjaGVkIHVudGlsXG4gICAqIHN1Y2Nlc3NmdWxseSBwdXNoZWQgdG8gdGhlIHJlbW90ZSkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCB0byBkaXNhYmxlIGNhY2hpbmcgZm9yXG4gICAqL1xuICBkaXNhYmxlIChwYXRoOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNldChwYXRoLCAnRkxVU0gnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYSBjYWxsYmFjayBmb3Igd2hlbiBjYWNoaW5nIGlzIGFjdGl2YXRlZCBmb3IgYSBwYXRoLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIENhbGxiYWNrIGZ1bmN0aW9uXG4gICAqL1xuICBvbkFjdGl2YXRlIChjYjogKGZpcnN0UGVuZGluZzogc3RyaW5nKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgbG9nKCdbQ2FjaGluZ10gU2V0dGluZyBhY3RpdmF0ZSBoYW5kbGVyJywgY2IsIHRoaXMucGVuZGluZ0FjdGl2YXRpb25zKTtcbiAgICB0aGlzLmFjdGl2YXRlSGFuZGxlciA9IGNiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wZW5kaW5nQWN0aXZhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNiKHRoaXMucGVuZGluZ0FjdGl2YXRpb25zW2ldKTtcbiAgICB9XG4gICAgdGhpcy5wZW5kaW5nQWN0aXZhdGlvbnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBjYWNoaW5nIHNldHRpbmcgZm9yIGEgZ2l2ZW4gcGF0aCwgb3IgaXRzIG5leHQgcGFyZW50XG4gICAqIHdpdGggYSBjYWNoaW5nIHN0cmF0ZWd5IHNldC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoIHRvIHJldHJpZXZlIHNldHRpbmcgZm9yXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IGNhY2hpbmcgc3RyYXRlZ3kgZm9yIHRoZSBwYXRoXG4gICAqKi9cbiAgY2hlY2tQYXRoIChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmICh0aGlzLl9yb290UGF0aHNbcGF0aF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Jvb3RQYXRoc1twYXRoXTtcbiAgICB9IGVsc2UgaWYgKHBhdGggPT09ICcvJykge1xuICAgICAgcmV0dXJuICdTRUVOJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuY2hlY2tQYXRoKGNvbnRhaW5pbmdGb2xkZXIocGF0aCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgc3RhdGUgb2YgY2FjaGluZyBieSBkZWxldGluZyBhbGwgY2FjaGluZyBpbmZvcm1hdGlvbi5cbiAgICoqL1xuICByZXNldCAoKTogdm9pZCB7XG4gICAgdGhpcy5fcm9vdFBhdGhzID0ge307XG4gIH1cblxuICAvKipcbiAgICogU2V0dXAgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgb24gaW5pdGlhbGl6YXRpb24uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqKi9cbiAgc3RhdGljIF9yc19pbml0ICgvKnJlbW90ZVN0b3JhZ2UqLyk6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxufVxuXG5leHBvcnQgPSBDYWNoaW5nO1xuIiwiaW1wb3J0IEJhc2VDbGllbnQgZnJvbSAnLi9iYXNlY2xpZW50JztcbmltcG9ydCBXaXJlQ2xpZW50IGZyb20gJy4vd2lyZWNsaWVudCc7XG5pbXBvcnQgRXZlbnRIYW5kbGluZyBmcm9tICcuL2V2ZW50aGFuZGxpbmcnO1xuaW1wb3J0IHtcbiAgYXBwbHlNaXhpbnMsXG4gIGlzRm9sZGVyLFxuICBjbGVhblBhdGgsXG4gIHNob3VsZEJlVHJlYXRlZEFzQmluYXJ5LFxuICBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZSxcbiAgZ2V0VGV4dEZyb21BcnJheUJ1ZmZlcixcbiAgbG9jYWxTdG9yYWdlQXZhaWxhYmxlXG59IGZyb20gJy4vdXRpbCc7XG5cbmNvbnN0IEJBU0VfVVJMID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tJztcbmNvbnN0IEFVVEhfVVJMID0gJ2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi9hdXRoJztcbmNvbnN0IEFVVEhfU0NPUEUgPSAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kcml2ZSc7XG5jb25zdCBTRVRUSU5HU19LRVkgPSAncmVtb3Rlc3RvcmFnZTpnb29nbGVkcml2ZSc7XG5jb25zdCBQQVRIX1BSRUZJWCA9ICcvcmVtb3Rlc3RvcmFnZSc7XG5cbmNvbnN0IEdEX0RJUl9NSU1FX1RZUEUgPSAnYXBwbGljYXRpb24vdm5kLmdvb2dsZS1hcHBzLmZvbGRlcic7XG5jb25zdCBSU19ESVJfTUlNRV9UWVBFID0gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnO1xuXG5sZXQgaGFzTG9jYWxTdG9yYWdlO1xuXG4vKipcbiAqIFByb2R1Y2UgYSB0aXRsZSBmcm9tIGEgZmlsZW5hbWUgZm9yIG1ldGFkYXRhLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlbmFtZVxuICogQHJldHVybnMge3N0cmluZ30gdGl0bGVcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBtZXRhVGl0bGVGcm9tRmlsZU5hbWUgKGZpbGVuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoZmlsZW5hbWUuc3Vic3RyKC0xKSA9PT0gJy8nKSB7XG4gICAgZmlsZW5hbWUgPSBmaWxlbmFtZS5zdWJzdHIoMCwgZmlsZW5hbWUubGVuZ3RoIC0gMSk7XG4gIH1cblxuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGZpbGVuYW1lKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHBhcmVudCBkaXJlY3RvcnkgZm9yIHRoZSBnaXZlbiBwYXRoLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBwYXJlbnQgZGlyZWN0b3J5XG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcGFyZW50UGF0aCAocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZSgvW15cXC9dK1xcLz8kLywgJycpO1xufVxuXG4vKipcbiAqIEdldCBvbmx5IHRoZSBmaWxlbmFtZSBmcm9tIGEgZnVsbCBwYXRoLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBmaWxlbmFtZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGJhc2VOYW1lIChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoJy8nKTtcbiAgaWYgKHBhdGguc3Vic3RyKC0xKSA9PT0gJy8nKSB7XG4gICAgcmV0dXJuIHBhcnRzW3BhcnRzLmxlbmd0aC0yXSsnLyc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBhcnRzW3BhcnRzLmxlbmd0aC0xXTtcbiAgfVxufVxuXG4vKipcbiAqIFByZXBlbmQgdGhlIHBhdGggd2l0aCB0aGUgcmVtb3RlU3RvcmFnZSBiYXNlIGRpcmVjdG9yeS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFBhdGhcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEFjdHVhbCBwYXRoIG9uIEdvb2dsZSBEcml2ZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGdvb2dsZURyaXZlUGF0aCAocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGNsZWFuUGF0aChgJHtQQVRIX1BSRUZJWH0vJHtwYXRofWApO1xufVxuXG4vKipcbiAqIFJlbW92ZSBzdXJyb3VuZGluZyBxdW90ZXMgZnJvbSBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIC0gc3RyaW5nIHdpdGggc3Vycm91bmRpbmcgcXVvdGVzXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJpbmcgd2l0aG91dCBzdXJyb3VuZGluZyBxdW90ZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZW1vdmVRdW90ZXMgKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eW1wiJ10oLiopW1wiJ10kLywgXCIkMVwiKTtcbn1cblxuLyoqXG4gKiBJbnRlcm5hbCBjYWNoZSBvYmplY3QgZm9yIHN0b3JpbmcgR29vZ2xlIGZpbGUgSURzLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBZ2UgLSBNYXhpbXVtIGFnZSAoaW4gc2Vjb25kcykgdGhlIGNvbnRlbnQgc2hvdWxkIGJlIGNhY2hlZCBmb3JcbiAqL1xuY2xhc3MgRmlsZUlkQ2FjaGUge1xuICBtYXhBZ2U6IG51bWJlcjtcbiAgX2l0ZW1zID0ge31cblxuICBjb25zdHJ1Y3RvcihtYXhBZ2U/OiBudW1iZXIpIHtcbiAgICB0aGlzLm1heEFnZSA9IG1heEFnZTtcbiAgICB0aGlzLl9pdGVtcyA9IHt9O1xuICB9XG5cbiAgZ2V0IChrZXkpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLl9pdGVtc1trZXldO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHJldHVybiAoaXRlbSAmJiBpdGVtLnQgPj0gKG5vdyAtIHRoaXMubWF4QWdlKSkgPyBpdGVtLnYgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBzZXQgKGtleSwgdmFsdWUpOiB2b2lkIHtcbiAgICB0aGlzLl9pdGVtc1trZXldID0ge1xuICAgICAgdjogdmFsdWUsXG4gICAgICB0OiBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuICAgIH07XG4gIH1cbn07XG5cbi8qKlxuICogT3ZlcndyaXRlIEJhc2VDbGllbnQncyBnZXRJdGVtVVJMIHdpdGggb3VyIG93biBpbXBsZW1lbnRhdGlvblxuICpcbiAqIFRPRE86IFN0aWxsIG5lZWRzIHRvIGJlIGltcGxlbWVudGVkLiBBdCB0aGUgbW9tZW50IGl0IGp1c3QgdGhyb3dzXG4gKiBhbmQgZXJyb3Igc2F5aW5nIHRoYXQgaXQncyBub3QgaW1wbGVtZW50ZWQgeWV0LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBycyAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBob29rR2V0SXRlbVVSTCAocnMpOiB2b2lkIHtcbiAgaWYgKHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkwpIHsgcmV0dXJuOyB9XG4gIHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkwgPSBCYXNlQ2xpZW50LnByb3RvdHlwZS5nZXRJdGVtVVJMO1xuICBCYXNlQ2xpZW50LnByb3RvdHlwZS5nZXRJdGVtVVJMID0gZnVuY3Rpb24gKC8qIHBhdGggKi8pOiBuZXZlciB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdnZXRJdGVtVVJMIGlzIG5vdCBpbXBsZW1lbnRlZCBmb3IgR29vZ2xlIERyaXZlIHlldCcpO1xuICB9O1xufVxuXG4vKipcbiAqIFJlc3RvcmUgQmFzZUNsaWVudCdzIGdldEl0ZW1VUkwgb3JpZ2luYWwgaW1wbGVtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcnMgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdW5Ib29rR2V0SXRlbVVSTCAocnMpOiB2b2lkIHtcbiAgaWYgKCFycy5fb3JpZ0Jhc2VDbGllbnRHZXRJdGVtVVJMKSB7IHJldHVybjsgfVxuICBCYXNlQ2xpZW50LnByb3RvdHlwZS5nZXRJdGVtVVJMID0gcnMuX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTDtcbiAgZGVsZXRlIHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkw7XG59XG5cbi8qKlxuICogQGNsYXNzIEdvb2dsZURyaXZlXG4gKlxuICogVG8gdXNlIHRoaXMgYmFja2VuZCwgeW91IG5lZWQgdG8gc3BlY2lmeSB0aGUgYXBwJ3MgY2xpZW50IElEIGxpa2Ugc286XG4gKlxuICogQGV4YW1wbGVcbiAqIHJlbW90ZVN0b3JhZ2Uuc2V0QXBpS2V5cyh7XG4gKiAgIGdvb2dsZWRyaXZlOiAneW91ci1jbGllbnQtaWQnXG4gKiB9KTtcbiAqXG4gKiBBIGNsaWVudCBJRCBjYW4gYmUgb2J0YWluZWQgYnkgcmVnaXN0ZXJpbmcgeW91ciBhcHAgaW4gdGhlIEdvb2dsZVxuICogRGV2ZWxvcGVycyBDb25zb2xlOiBodHRwczovL2NvbnNvbGUuZGV2ZWxvcGVycy5nb29nbGUuY29tL2Zsb3dzL2VuYWJsZWFwaT9hcGlpZD1kcml2ZVxuICpcbiAqIERvY3M6IGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2RyaXZlL3YzL3dlYi9xdWlja3N0YXJ0L2pzXG4qKi9cbmNsYXNzIEdvb2dsZURyaXZlIHtcbiAgcnM6IGFueTtcbiAgY2xpZW50SWQ6IHN0cmluZztcbiAgdXNlckFkZHJlc3M6IHN0cmluZztcbiAgdG9rZW46IHN0cmluZztcbiAgY29ubmVjdGVkID0gZmFsc2U7XG4gIG9ubGluZSA9IHRydWU7XG5cbiAgX2ZpbGVJZENhY2hlOiBGaWxlSWRDYWNoZTtcblxuICBjb25zdHJ1Y3RvcihyZW1vdGVTdG9yYWdlLCBjbGllbnRJZCkge1xuICAgIHRoaXMuYWRkRXZlbnRzKFsnY29ubmVjdGVkJywgJ25vdC1jb25uZWN0ZWQnXSk7XG5cbiAgICB0aGlzLnJzID0gcmVtb3RlU3RvcmFnZTtcbiAgICB0aGlzLmNsaWVudElkID0gY2xpZW50SWQ7XG5cbiAgICB0aGlzLl9maWxlSWRDYWNoZSA9IG5ldyBGaWxlSWRDYWNoZSg2MCAqIDUpOyAvLyBJRHMgZXhwaXJlIGFmdGVyIDUgbWludXRlcyAoaXMgdGhpcyBhIGdvb2QgaWRlYT8pXG5cbiAgICBoYXNMb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2VBdmFpbGFibGUoKTtcblxuICAgIGlmIChoYXNMb2NhbFN0b3JhZ2Upe1xuICAgICAgY29uc3Qgc2V0dGluZ3MgPSBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZShTRVRUSU5HU19LRVkpO1xuICAgICAgaWYgKHNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuY29uZmlndXJlKHNldHRpbmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29uZmlndXJlIHRoZSBHb29nbGUgRHJpdmUgYmFja2VuZC5cbiAgICpcbiAgICogRmV0Y2hlcyB0aGUgdXNlciBpbmZvIGZyb20gR29vZ2xlIHdoZW4gbm8gYGB1c2VyQWRkcmVzc2BgIGlzIGdpdmVuLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3NcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtzZXR0aW5ncy51c2VyQWRkcmVzc10gLSBUaGUgdXNlcidzIGVtYWlsIGFkZHJlc3NcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtzZXR0aW5ncy50b2tlbl0gLSBBdXRob3JpemF0aW9uIHRva2VuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGNvbmZpZ3VyZSAoc2V0dGluZ3MpIHsgLy8gU2V0dGluZ3MgcGFyYW1ldGVyIGNvbXBhdGlibGUgd2l0aCBXaXJlQ2xpZW50XG4gICAgLy8gV2Ugb25seSB1cGRhdGUgdGhpcy51c2VyQWRkcmVzcyBpZiBzZXR0aW5ncy51c2VyQWRkcmVzcyBpcyBzZXQgdG8gYSBzdHJpbmcgb3IgdG8gbnVsbFxuICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MudXNlckFkZHJlc3MgIT09ICd1bmRlZmluZWQnKSB7IHRoaXMudXNlckFkZHJlc3MgPSBzZXR0aW5ncy51c2VyQWRkcmVzczsgfVxuICAgIC8vIFNhbWUgZm9yIHRoaXMudG9rZW4uIElmIG9ubHkgb25lIG9mIHRoZXNlIHR3byBpcyBzZXQsIHdlIGxlYXZlIHRoZSBvdGhlciBvbmUgYXQgaXRzIGV4aXN0aW5nIHZhbHVlXG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy50b2tlbiAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy50b2tlbiA9IHNldHRpbmdzLnRva2VuOyB9XG5cbiAgICBjb25zdCB3cml0ZVNldHRpbmdzVG9DYWNoZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRVRUSU5HU19LRVksIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB1c2VyQWRkcmVzczogdGhpcy51c2VyQWRkcmVzcyxcbiAgICAgICAgICB0b2tlbjogdGhpcy50b2tlblxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgZGVsZXRlIHRoaXMudG9rZW47XG4gICAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNFVFRJTkdTX0tFWSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0aGlzLnRva2VuKSB7XG4gICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG5cbiAgICAgIGlmICh0aGlzLnVzZXJBZGRyZXNzKSB7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3RlZCcpO1xuICAgICAgICB3cml0ZVNldHRpbmdzVG9DYWNoZS5hcHBseSh0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW5mbygpLnRoZW4oKGluZm8pID0+IHtcbiAgICAgICAgICB0aGlzLnVzZXJBZGRyZXNzID0gaW5mby51c2VyLmVtYWlsQWRkcmVzcztcbiAgICAgICAgICB0aGlzLl9lbWl0KCdjb25uZWN0ZWQnKTtcbiAgICAgICAgICB3cml0ZVNldHRpbmdzVG9DYWNoZS5hcHBseSh0aGlzKTtcbiAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgIGhhbmRsZUVycm9yLmFwcGx5KHRoaXMpO1xuICAgICAgICAgIHRoaXMucnMuX2VtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdDb3VsZCBub3QgZmV0Y2ggdXNlciBpbmZvLicpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZUVycm9yLmFwcGx5KHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWF0ZSB0aGUgYXV0aG9yaXphdGlvbiBmbG93J3MgT0F1dGggZGFuY2UuXG4gICAqL1xuICBjb25uZWN0ICgpOiB2b2lkIHtcbiAgICB0aGlzLnJzLnNldEJhY2tlbmQoJ2dvb2dsZWRyaXZlJyk7XG4gICAgdGhpcy5ycy5hdXRob3JpemUoeyBhdXRoVVJMOiBBVVRIX1VSTCwgc2NvcGU6IEFVVEhfU0NPUEUsIGNsaWVudElkOiB0aGlzLmNsaWVudElkIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3AgdGhlIGF1dGhvcml6YXRpb24gcHJvY2Vzcy5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc3RvcFdhaXRpbmdGb3JUb2tlbiAoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgdGhpcy5fZW1pdCgnbm90LWNvbm5lY3RlZCcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IGEgcmVzb3VyY2UgKGZpbGUgb3IgZGlyZWN0b3J5KS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoIG9mIHRoZSByZXNvdXJjZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdHVzIGNvZGUsXG4gICAqICAgICAgICAgICAgICAgICAgICBib2R5LCBjb250ZW50LXR5cGUgYW5kIHJldmlzaW9uXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGdldCAocGF0aCwgb3B0aW9ucykge1xuICAgIGlmIChpc0ZvbGRlcihwYXRoKSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldEZvbGRlcihnb29nbGVEcml2ZVBhdGgocGF0aCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0RmlsZShnb29nbGVEcml2ZVBhdGgocGF0aCksIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgb3IgdXBkYXRlIGEgZmlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBGaWxlIHBhdGhcbiAgICogQHBhcmFtIGJvZHkgLSBGaWxlIGNvbnRlbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRUeXBlIC0gRmlsZSBjb250ZW50LXR5cGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuaWZOb25lTWF0Y2ggLSBPbmx5IGNyZWF0ZSBvZiB1cGRhdGUgdGhlIGZpbGUgaWYgdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCBFVGFnIGRvZXNuJ3QgbWF0Y2ggdGhpcyBzdHJpbmdcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXR1cyBjb2RlLFxuICAgKiAgICAgICAgICAgICAgICAgICAgY29udGVudC10eXBlIGFuZCByZXZpc2lvblxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBwdXQgKHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZnVsbFBhdGggPSBnb29nbGVEcml2ZVBhdGgocGF0aCk7XG5cbiAgICBmdW5jdGlvbiBwdXREb25lKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgY29uc3QgZXRhZ1dpdGhvdXRRdW90ZXMgPSByZW1vdmVRdW90ZXMobWV0YS5ldGFnKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogMjAwLCBjb250ZW50VHlwZTogbWV0YS5taW1lVHlwZSwgcmV2aXNpb246IGV0YWdXaXRob3V0UXVvdGVzfSk7XG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDEyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDQxMiwgcmV2aXNpb246ICdjb25mbGljdCd9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIlBVVCBmYWlsZWQgd2l0aCBzdGF0dXMgXCIgKyByZXNwb25zZS5zdGF0dXMgKyBcIiAoXCIgKyByZXNwb25zZS5yZXNwb25zZVRleHQgKyBcIilcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2dldEZpbGVJZChmdWxsUGF0aCkudGhlbigoaWQpID0+IHtcbiAgICAgIGlmIChpZCkge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiAob3B0aW9ucy5pZk5vbmVNYXRjaCA9PT0gJyonKSkge1xuICAgICAgICAgIHJldHVybiBwdXREb25lKHsgc3RhdHVzOiA0MTIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUZpbGUoaWQsIGZ1bGxQYXRoLCBib2R5LCBjb250ZW50VHlwZSwgb3B0aW9ucykudGhlbihwdXREb25lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVGaWxlKGZ1bGxQYXRoLCBib2R5LCBjb250ZW50VHlwZSkudGhlbihwdXREb25lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBmaWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIEZpbGUgcGF0aFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5pZk1hdGNoIC0gb25seSBkZWxldGUgdGhlIGZpbGUgaWYgaXQncyBFVGFnXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzIHRoaXMgc3RyaW5nXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0dXMgY29kZVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBkZWxldGUgKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBmdWxsUGF0aCA9IGdvb2dsZURyaXZlUGF0aChwYXRoKTtcblxuICAgIHJldHVybiB0aGlzLl9nZXRGaWxlSWQoZnVsbFBhdGgpLnRoZW4oKGlkKSA9PiB7XG4gICAgICBpZiAoIWlkKSB7XG4gICAgICAgIC8vIEZpbGUgZG9lc24ndCBleGlzdC4gSWdub3JlLlxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAyMDB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX2dldE1ldGEoaWQpLnRoZW4oKG1ldGEpID0+IHtcbiAgICAgICAgbGV0IGV0YWdXaXRob3V0UXVvdGVzO1xuICAgICAgICBpZiAoKHR5cGVvZiBtZXRhID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBtZXRhLmV0YWcgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICAgIGV0YWdXaXRob3V0UXVvdGVzID0gcmVtb3ZlUXVvdGVzKG1ldGEuZXRhZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pZk1hdGNoICYmIChvcHRpb25zLmlmTWF0Y2ggIT09IGV0YWdXaXRob3V0UXVvdGVzKSkge1xuICAgICAgICAgIHJldHVybiB7c3RhdHVzQ29kZTogNDEyLCByZXZpc2lvbjogZXRhZ1dpdGhvdXRRdW90ZXN9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0RFTEVURScsIEJBU0VfVVJMICsgJy9kcml2ZS92Mi9maWxlcy8nICsgaWQsIHt9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCB8fCByZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgcmV0dXJuIHtzdGF0dXNDb2RlOiAyMDB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJEZWxldGUgZmFpbGVkOiBcIiArIHJlc3BvbnNlLnN0YXR1cyArIFwiIChcIiArIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCArIFwiKVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggdGhlIHVzZXIncyBpbmZvIGZyb20gR29vZ2xlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gcmVzb2x2ZXMgd2l0aCB0aGUgdXNlcidzIGluZm8uXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGluZm8gKCkge1xuICAgIGNvbnN0IHVybCA9IEJBU0VfVVJMICsgJy9kcml2ZS92Mi9hYm91dD9maWVsZHM9dXNlcic7XG4gICAgLy8gcmVxdWVzdGluZyB1c2VyIGluZm8obWFpbmx5IGZvciB1c2VyQWRyZXNzKVxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdHRVQnLCB1cmwsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXNwKXtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGluZm8gPSBKU09OLnBhcnNlKHJlc3AucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpbmZvKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhbiBleGlzdGluZyBmaWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBGaWxlIElEXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gRmlsZSBwYXRoXG4gICAqIEBwYXJhbSBib2R5IC0gRmlsZSBjb250ZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50VHlwZSAtIEZpbGUgY29udGVudC10eXBlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmlmTWF0Y2ggLSBPbmx5IHVwZGF0ZSB0aGUgZmlsZSBpZiBpdHMgRVRhZ1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcyB0aGlzIHN0cmluZ1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCB0aGUgcmVzcG9uc2Ugb2YgdGhlIG5ldHdvcmsgcmVxdWVzdFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZUZpbGUgKGlkLCBwYXRoLCBib2R5LCBjb250ZW50VHlwZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IG1ldGFkYXRhID0ge1xuICAgICAgbWltZVR5cGU6IGNvbnRlbnRUeXBlXG4gICAgfTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04J1xuICAgIH07XG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTWF0Y2gpIHtcbiAgICAgIGhlYWRlcnNbJ0lmLU1hdGNoJ10gPSAnXCInICsgb3B0aW9ucy5pZk1hdGNoICsgJ1wiJztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUFVUJywgQkFTRV9VUkwgKyAnL3VwbG9hZC9kcml2ZS92Mi9maWxlcy8nICsgaWQgKyAnP3VwbG9hZFR5cGU9cmVzdW1hYmxlJywge1xuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpLFxuICAgICAgaGVhZGVyczogaGVhZGVyc1xuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MTIpIHtcbiAgICAgICAgcmV0dXJuIChyZXNwb25zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUFVUJywgcmVzcG9uc2UuZ2V0UmVzcG9uc2VIZWFkZXIoJ0xvY2F0aW9uJyksIHtcbiAgICAgICAgICBib2R5OiBjb250ZW50VHlwZS5tYXRjaCgvXmFwcGxpY2F0aW9uXFwvanNvbi8pID8gSlNPTi5zdHJpbmdpZnkoYm9keSkgOiBib2R5XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBmaWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIEZpbGUgcGF0aFxuICAgKiBAcGFyYW0gYm9keSAtIEZpbGUgY29udGVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFR5cGUgLSBGaWxlIGNvbnRlbnQtdHlwZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCB0aGUgcmVzcG9uc2Ugb2YgdGhlIG5ldHdvcmsgcmVxdWVzdFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZUZpbGUgKHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFBhcmVudElkKHBhdGgpLnRoZW4oKHBhcmVudElkKSA9PiB7XG4gICAgICBjb25zdCBmaWxlTmFtZSA9IGJhc2VOYW1lKHBhdGgpO1xuICAgICAgY29uc3QgbWV0YWRhdGEgPSB7XG4gICAgICAgIHRpdGxlOiBtZXRhVGl0bGVGcm9tRmlsZU5hbWUoZmlsZU5hbWUpLFxuICAgICAgICBtaW1lVHlwZTogY29udGVudFR5cGUsXG4gICAgICAgIHBhcmVudHM6IFt7XG4gICAgICAgICAga2luZDogXCJkcml2ZSNmaWxlTGlua1wiLFxuICAgICAgICAgIGlkOiBwYXJlbnRJZFxuICAgICAgICB9XVxuICAgICAgfTtcbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQT1NUJywgQkFTRV9VUkwgKyAnL3VwbG9hZC9kcml2ZS92Mi9maWxlcz91cGxvYWRUeXBlPXJlc3VtYWJsZScsIHtcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04J1xuICAgICAgICB9XG4gICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIHJlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKCdMb2NhdGlvbicpLCB7XG4gICAgICAgICAgYm9keTogY29udGVudFR5cGUubWF0Y2goL15hcHBsaWNhdGlvblxcL2pzb24vKSA/IEpTT04uc3RyaW5naWZ5KGJvZHkpIDogYm9keVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3QgYSBmaWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIEZpbGUgcGF0aFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuaWZOb25lTWF0aF0gLSBPbmx5IHJldHVybiB0aGUgZmlsZSBpZiBpdHMgRVRhZ1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2Vzbid0IG1hdGNoIHRoZSBnaXZlbiBzdHJpbmdcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXR1cyBjb2RlLFxuICAgKiAgICAgICAgICAgICAgICAgICAgYm9keSwgY29udGVudC10eXBlIGFuZCByZXZpc2lvblxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldEZpbGUgKHBhdGgsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0RmlsZUlkKHBhdGgpLnRoZW4oKGlkKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0TWV0YShpZCkudGhlbigobWV0YSkgPT4ge1xuICAgICAgICBsZXQgZXRhZ1dpdGhvdXRRdW90ZXM7XG4gICAgICAgIGlmICh0eXBlb2YobWV0YSkgPT09ICdvYmplY3QnICYmIHR5cGVvZihtZXRhLmV0YWcpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGV0YWdXaXRob3V0UXVvdGVzID0gcmVtb3ZlUXVvdGVzKG1ldGEuZXRhZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTm9uZU1hdGNoICYmIChldGFnV2l0aG91dFF1b3RlcyA9PT0gb3B0aW9ucy5pZk5vbmVNYXRjaCkpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAzMDR9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbWV0YS5kb3dubG9hZFVybCkge1xuICAgICAgICAgIGlmIChtZXRhLmV4cG9ydExpbmtzICYmIG1ldGEuZXhwb3J0TGlua3NbJ3RleHQvaHRtbCddKSB7XG4gICAgICAgICAgICAvLyBEb2N1bWVudHMgdGhhdCB3ZXJlIGdlbmVyYXRlZCBpbnNpZGUgR29vZ2xlRG9jcyBoYXZlIG5vXG4gICAgICAgICAgICAvLyBkb3dubG9hZFVybCwgYnV0IHlvdSBjYW4gZXhwb3J0IHRoZW0gdG8gdGV4dC9odG1sIGluc3RlYWQ6XG4gICAgICAgICAgICBtZXRhLm1pbWVUeXBlICs9ICc7ZXhwb3J0PXRleHQvaHRtbCc7XG4gICAgICAgICAgICBtZXRhLmRvd25sb2FkVXJsID0gbWV0YS5leHBvcnRMaW5rc1sndGV4dC9odG1sJ107XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVtcHR5IGZpbGVcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDIwMCwgYm9keTogJycsIGNvbnRlbnRUeXBlOiBtZXRhLm1pbWVUeXBlLCByZXZpc2lvbjogZXRhZ1dpdGhvdXRRdW90ZXN9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdHRVQnLCBtZXRhLmRvd25sb2FkVXJsLCBwYXJhbXMpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgLy9maXJzdCBlbmNvZGUgdGhlIHJlc3BvbnNlIGFzIHRleHQsIGFuZCBsYXRlciBjaGVjayBpZlxuICAgICAgICAgIC8vdGV4dCBhcHBlYXJzIHRvIGFjdHVhbGx5IGJlIGJpbmFyeSBkYXRhXG4gICAgICAgICAgcmV0dXJuIGdldFRleHRGcm9tQXJyYXlCdWZmZXIocmVzcG9uc2UucmVzcG9uc2UsICdVVEYtOCcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlVGV4dCkge1xuICAgICAgICAgICAgbGV0IGJvZHkgPSByZXNwb25zZVRleHQ7XG4gICAgICAgICAgICBpZiAobWV0YS5taW1lVHlwZS5tYXRjaCgvXmFwcGxpY2F0aW9uXFwvanNvbi8pKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBib2R5IGNvdWxkbid0IGJlIHBhcnNlZCBhcyBKU09OLCBzbyB3ZSdsbCBqdXN0IHJldHVybiBpdCBhcyBpc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNob3VsZEJlVHJlYXRlZEFzQmluYXJ5KHJlc3BvbnNlVGV4dCwgbWV0YS5taW1lVHlwZSkpIHtcbiAgICAgICAgICAgICAgLy9yZXR1cm4gdW5wcm9jZXNzZWQgcmVzcG9uc2VcbiAgICAgICAgICAgICAgYm9keSA9IHJlc3BvbnNlLnJlc3BvbnNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBtZXRhLm1pbWVUeXBlLFxuICAgICAgICAgICAgICByZXZpc2lvbjogZXRhZ1dpdGhvdXRRdW90ZXNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdCBhIGRpcmVjdG9yeS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBEaXJlY3RvcnkgcGF0aFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdHVzIGNvZGUsXG4gICAqICAgICAgICAgICAgICAgICAgICBib2R5IGFuZCBjb250ZW50LXR5cGVcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRGb2xkZXIgKHBhdGgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0RmlsZUlkKHBhdGgpLnRoZW4oKGlkKSA9PiB7XG4gICAgICBsZXQgZGF0YSwgZXRhZ1dpdGhvdXRRdW90ZXMsIGl0ZW1zTWFwO1xuICAgICAgaWYgKCEgaWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogNDA0fSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1xcJycgKyBpZCArICdcXCcgaW4gcGFyZW50cyc7XG4gICAgICBjb25zdCBmaWVsZHMgPSAnaXRlbXMoZG93bmxvYWRVcmwsZXRhZyxmaWxlU2l6ZSxpZCxtaW1lVHlwZSx0aXRsZSknO1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0dFVCcsIEJBU0VfVVJMICsgJy9kcml2ZS92Mi9maWxlcz8nXG4gICAgICAgICAgKyAncT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KVxuICAgICAgICAgICsgJyZmaWVsZHM9JyArIGVuY29kZVVSSUNvbXBvbmVudChmaWVsZHMpXG4gICAgICAgICAgKyAnJm1heFJlc3VsdHM9MTAwMCcsXG4gICAgICAgICAge30pXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdyZXF1ZXN0IGZhaWxlZCBvciBzb21ldGhpbmc6ICcgKyByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ25vbi1KU09OIHJlc3BvbnNlIGZyb20gR29vZ2xlRHJpdmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0ZW1zTWFwID0ge307XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBkYXRhLml0ZW1zKSB7XG4gICAgICAgICAgZXRhZ1dpdGhvdXRRdW90ZXMgPSByZW1vdmVRdW90ZXMoaXRlbS5ldGFnKTtcbiAgICAgICAgICBpZiAoaXRlbS5taW1lVHlwZSA9PT0gR0RfRElSX01JTUVfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5fZmlsZUlkQ2FjaGUuc2V0KHBhdGggKyBjbGVhblBhdGgoaXRlbS50aXRsZSkgKyAnLycsIGl0ZW0uaWQpO1xuICAgICAgICAgICAgaXRlbXNNYXBbaXRlbS50aXRsZSArICcvJ10gPSB7XG4gICAgICAgICAgICAgIEVUYWc6IGV0YWdXaXRob3V0UXVvdGVzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9maWxlSWRDYWNoZS5zZXQocGF0aCArIGNsZWFuUGF0aChpdGVtLnRpdGxlKSwgaXRlbS5pZCk7XG4gICAgICAgICAgICBpdGVtc01hcFtpdGVtLnRpdGxlXSA9IHtcbiAgICAgICAgICAgICAgRVRhZzogZXRhZ1dpdGhvdXRRdW90ZXMsXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiBpdGVtLm1pbWVUeXBlLFxuICAgICAgICAgICAgICAnQ29udGVudC1MZW5ndGgnOiBpdGVtLmZpbGVTaXplXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZJWE1FOiBhZGQgcmV2aXNpb24gb2YgZm9sZGVyIVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAyMDAsIGJvZHk6IGl0ZW1zTWFwLCBjb250ZW50VHlwZTogUlNfRElSX01JTUVfVFlQRSwgcmV2aXNpb246IHVuZGVmaW5lZH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBJRCBvZiBhIHBhcmVudCBwYXRoLlxuICAgKlxuICAgKiBDcmVhdGVzIHRoZSBkaXJlY3RvcnkgaWYgaXQgZG9lc24ndCBleGlzdCB5ZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gRnVsbCBwYXRoIG9mIGEgZGlyZWN0b3J5IG9yIGZpbGVcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggSUQgb2YgdGhlIHBhcmVudCBkaXJlY3RvcnkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0UGFyZW50SWQgKHBhdGgpIHtcbiAgICBjb25zdCBmb2xkZXJuYW1lID0gcGFyZW50UGF0aChwYXRoKTtcblxuICAgIHJldHVybiB0aGlzLl9nZXRGaWxlSWQoZm9sZGVybmFtZSkudGhlbigocGFyZW50SWQpID0+IHtcbiAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHBhcmVudElkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVGb2xkZXIoZm9sZGVybmFtZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgZGlyZWN0b3J5LlxuICAgKlxuICAgKiBDcmVhdGVzIGFsbCBwYXJlbnQgZGlyZWN0b3JpZXMgYXMgd2VsbCBpZiBhbnkgb2YgdGhlbSBkaWRuJ3QgZXhpc3QgeWV0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIERpcmVjdG9yeSBwYXRoXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIHRoZSBJRCBvZiB0aGUgbmV3IGRpcmVjdG9yeVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZUZvbGRlciAocGF0aCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRQYXJlbnRJZChwYXRoKS50aGVuKChwYXJlbnRJZCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCBCQVNFX1VSTCArICcvZHJpdmUvdjIvZmlsZXMnLCB7XG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB0aXRsZTogbWV0YVRpdGxlRnJvbUZpbGVOYW1lKGJhc2VOYW1lKHBhdGgpKSxcbiAgICAgICAgICBtaW1lVHlwZTogR0RfRElSX01JTUVfVFlQRSxcbiAgICAgICAgICBwYXJlbnRzOiBbe1xuICAgICAgICAgICAgaWQ6IHBhcmVudElkXG4gICAgICAgICAgfV1cbiAgICAgICAgfSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnXG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobWV0YS5pZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIElEIG9mIGEgZmlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBGaWxlIHBhdGhcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggdGhlIElEXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0RmlsZUlkIChwYXRoKSB7XG4gICAgbGV0IGlkO1xuXG4gICAgaWYgKHBhdGggPT09ICcvJykge1xuICAgICAgLy8gXCJyb290XCIgaXMgYSBzcGVjaWFsIGFsaWFzIGZvciB0aGUgZmlsZUlkIG9mIHRoZSByb290IGZvbGRlclxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgncm9vdCcpO1xuICAgIH0gZWxzZSBpZiAoKGlkID0gdGhpcy5fZmlsZUlkQ2FjaGUuZ2V0KHBhdGgpKSkge1xuICAgICAgLy8gaWQgaXMgY2FjaGVkLlxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpZCk7XG4gICAgfVxuICAgIC8vIGlkIGlzIG5vdCBjYWNoZWQgKG9yIGZpbGUgZG9lc24ndCBleGlzdCkuXG4gICAgLy8gbG9hZCBwYXJlbnQgZm9sZGVyIGxpc3RpbmcgdG8gcHJvcGFnYXRlIC8gdXBkYXRlIGlkIGNhY2hlLlxuICAgIHJldHVybiB0aGlzLl9nZXRGb2xkZXIocGFyZW50UGF0aChwYXRoKSkudGhlbigoKSA9PiB7XG4gICAgICBpZCA9IHRoaXMuX2ZpbGVJZENhY2hlLmdldChwYXRoKTtcbiAgICAgIGlmICghaWQpIHtcbiAgICAgICAgaWYgKHBhdGguc3Vic3RyKC0xKSA9PT0gJy8nKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUZvbGRlcihwYXRoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRGaWxlSWQocGF0aCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGlkKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1ldGFkYXRhIGZvciBhIGdpdmVuIGZpbGUgSUQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIEZpbGUgSURcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG1ldGFkYXRhXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0TWV0YSAoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgQkFTRV9VUkwgKyAnL2RyaXZlL3YyL2ZpbGVzLycgKyBpZCwge30pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwicmVxdWVzdCAoZ2V0dGluZyBtZXRhZGF0YSBmb3IgXCIgKyBpZCArIFwiKSBmYWlsZWQgd2l0aCBzdGF0dXM6IFwiICsgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGEgbmV0d29yayByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIC0gUmVxdWVzdCBtZXRob2RcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRhcmdldCBVUkxcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggdGhlIHJlc3BvbnNlIG9mIHRoZSBuZXR3b3JrIHJlcXVlc3RcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZXF1ZXN0IChtZXRob2QsIHVybCwgb3B0aW9ucykge1xuICAgIGlmICghIG9wdGlvbnMuaGVhZGVycykgeyBvcHRpb25zLmhlYWRlcnMgPSB7fTsgfVxuICAgIG9wdGlvbnMuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciAnICsgdGhpcy50b2tlbjtcblxuICAgIHRoaXMucnMuX2VtaXQoJ3dpcmUtYnVzeScsIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVybClcbiAgICB9KTtcblxuICAgIHJldHVybiBXaXJlQ2xpZW50LnJlcXVlc3QuY2FsbCh0aGlzLCBtZXRob2QsIHVybCwgb3B0aW9ucykudGhlbigoeGhyKSA9PiB7XG4gICAgICAvLyBHb29nbGUgdG9rZW5zIGV4cGlyZSBmcm9tIHRpbWUgdG8gdGltZS4uLlxuICAgICAgaWYgKHhociAmJiB4aHIuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdGhpcy5vbmxpbmUpIHtcbiAgICAgICAgICB0aGlzLm9ubGluZSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5ycy5fZW1pdCgnbmV0d29yay1vbmxpbmUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJzLl9lbWl0KCd3aXJlLWRvbmUnLCB7XG4gICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVybCksXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHhocik7XG4gICAgICB9XG4gICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICBpZiAodGhpcy5vbmxpbmUpIHtcbiAgICAgICAgdGhpcy5vbmxpbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ycy5fZW1pdCgnbmV0d29yay1vZmZsaW5lJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnJzLl9lbWl0KCd3aXJlLWRvbmUnLCB7XG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBpc0ZvbGRlcjogaXNGb2xkZXIodXJsKSxcbiAgICAgICAgc3VjY2VzczogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIEdvb2dsZSBEcml2ZSBiYWNrZW5kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVtb3RlU3RvcmFnZSAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc3RhdGljIF9yc19pbml0IChyZW1vdGVTdG9yYWdlKTogdm9pZCB7XG4gICAgY29uc3QgY29uZmlnID0gcmVtb3RlU3RvcmFnZS5hcGlLZXlzLmdvb2dsZWRyaXZlO1xuICAgIGlmIChjb25maWcpIHtcbiAgICAgIHJlbW90ZVN0b3JhZ2UuZ29vZ2xlZHJpdmUgPSBuZXcgR29vZ2xlRHJpdmUocmVtb3RlU3RvcmFnZSwgY29uZmlnLmNsaWVudElkKTtcbiAgICAgIGlmIChyZW1vdGVTdG9yYWdlLmJhY2tlbmQgPT09ICdnb29nbGVkcml2ZScpIHtcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5fb3JpZ1JlbW90ZSA9IHJlbW90ZVN0b3JhZ2UucmVtb3RlO1xuICAgICAgICByZW1vdGVTdG9yYWdlLnJlbW90ZSA9IHJlbW90ZVN0b3JhZ2UuZ29vZ2xlZHJpdmU7XG5cbiAgICAgICAgaG9va0dldEl0ZW1VUkwocmVtb3RlU3RvcmFnZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluZm9ybSBhYm91dCB0aGUgYXZhaWxhYmlsaXR5IG9mIHRoZSBHb29nbGUgRHJpdmUgYmFja2VuZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHJzIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc3RhdGljIF9yc19zdXBwb3J0ZWQgKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgR29vZ2xlIERyaXZlIGFzIGEgYmFja2VuZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHJlbW90ZVN0b3JhZ2UgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHN0YXRpYyBfcnNfY2xlYW51cCAocmVtb3RlU3RvcmFnZSk6IHZvaWQge1xuICAgIHJlbW90ZVN0b3JhZ2Uuc2V0QmFja2VuZCh1bmRlZmluZWQpO1xuICAgIGlmIChyZW1vdGVTdG9yYWdlLl9vcmlnUmVtb3RlKSB7XG4gICAgICByZW1vdGVTdG9yYWdlLnJlbW90ZSA9IHJlbW90ZVN0b3JhZ2UuX29yaWdSZW1vdGU7XG4gICAgICBkZWxldGUgcmVtb3RlU3RvcmFnZS5fb3JpZ1JlbW90ZTtcbiAgICB9XG4gICAgdW5Ib29rR2V0SXRlbVVSTChyZW1vdGVTdG9yYWdlKTtcbiAgfTtcbn1cblxuaW50ZXJmYWNlIEdvb2dsZURyaXZlIGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKEdvb2dsZURyaXZlLCBbRXZlbnRIYW5kbGluZ10pO1xuXG5leHBvcnQgPSBHb29nbGVEcml2ZTtcbiIsImltcG9ydCBFdmVudEhhbmRsaW5nIGZyb20gJy4vZXZlbnRoYW5kbGluZyc7XG5pbXBvcnQgV2lyZUNsaWVudCBmcm9tICcuL3dpcmVjbGllbnQnO1xuaW1wb3J0IEJhc2VDbGllbnQgZnJvbSAnLi9iYXNlY2xpZW50JztcbmltcG9ydCBSZXZpc2lvbkNhY2hlIGZyb20gJy4vcmV2aXNpb25jYWNoZSc7XG5pbXBvcnQgU3luY0Vycm9yIGZyb20gJy4vc3luYy1lcnJvcic7XG5pbXBvcnQgVW5hdXRob3JpemVkRXJyb3IgZnJvbSAnLi91bmF1dGhvcml6ZWQtZXJyb3InO1xuaW1wb3J0IHtcbiAgYXBwbHlNaXhpbnMsXG4gIGNsZWFuUGF0aCxcbiAgaXNGb2xkZXIsXG4gIHNob3VsZEJlVHJlYXRlZEFzQmluYXJ5LFxuICBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZSxcbiAgZ2V0VGV4dEZyb21BcnJheUJ1ZmZlcixcbiAgbG9jYWxTdG9yYWdlQXZhaWxhYmxlXG59IGZyb20gJy4vdXRpbCc7XG5cbi8qKlxuICogV09SSyBJTiBQUk9HUkVTUywgTk9UIFJFQ09NTUVOREVEIEZPUiBQUk9EVUNUSU9OIFVTRVxuICpcbiAqIERyb3Bib3ggYmFja2VuZCBmb3IgUmVtb3RlU3RvcmFnZS5qc1xuICogVGhpcyBmaWxlIGV4cG9zZXMgYSBnZXQvcHV0L2RlbGV0ZSBpbnRlcmZhY2Ugd2hpY2ggaXMgY29tcGF0aWJsZSB3aXRoXG4gKiA8V2lyZUNsaWVudD4uXG4gKlxuICogV2hlbiByZW1vdGVTdG9yYWdlLmJhY2tlbmQgaXMgc2V0IHRvICdkcm9wYm94JywgdGhpcyBiYWNrZW5kIHdpbGxcbiAqIGluaXRpYWxpemUgYW5kIHJlcGxhY2UgcmVtb3RlU3RvcmFnZS5yZW1vdGUgd2l0aCByZW1vdGVTdG9yYWdlLmRyb3Bib3guXG4gKlxuICogSW4gb3JkZXIgdG8gZW5zdXJlIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgcHVibGljIGZvbGRlciwgPEJhc2VDbGllbnQuZ2V0SXRlbVVSTD5cbiAqIGdldHMgaGlqYWNrZWQgdG8gcmV0dXJuIHRoZSBEcm9wYm94IHB1YmxpYyBzaGFyZSBVUkwuXG4gKlxuICogVG8gdXNlIHRoaXMgYmFja2VuZCwgeW91IG5lZWQgdG8gc3BlY2lmeSB0aGUgRHJvcGJveCBhcHAga2V5IGxpa2Ugc286XG4gKlxuICogQGV4YW1wbGVcbiAqIHJlbW90ZVN0b3JhZ2Uuc2V0QXBpS2V5cyh7XG4gKiAgIGRyb3Bib3g6ICd5b3VyLWFwcC1rZXknXG4gKiB9KTtcbiAqXG4gKiBBbiBhcHAga2V5IGNhbiBiZSBvYnRhaW5lZCBieSByZWdpc3RlcmluZyB5b3VyIGFwcCBhdCBodHRwczovL3d3dy5kcm9wYm94LmNvbS9kZXZlbG9wZXJzL2FwcHNcbiAqXG4gKiBLbm93biBpc3N1ZXM6XG4gKlxuICogICAtIFN0b3JpbmcgZmlsZXMgbGFyZ2VyIHRoYW4gMTUwTUIgaXMgbm90IHlldCBzdXBwb3J0ZWRcbiAqICAgLSBMaXN0aW5nIGFuZCBkZWxldGluZyBmb2xkZXJzIHdpdGggbW9yZSB0aGFuIDEwJzAwMCBmaWxlcyB3aWxsIGNhdXNlIHByb2JsZW1zXG4gKiAgIC0gQ29udGVudC1UeXBlIGlzIG5vdCBmdWxseSBzdXBwb3J0ZWQgZHVlIHRvIGxpbWl0YXRpb25zIG9mIHRoZSBEcm9wYm94IEFQSVxuICogICAtIERyb3Bib3ggcHJlc2VydmVzIGNhc2VzIGJ1dCBpcyBub3QgY2FzZS1zZW5zaXRpdmVcbiAqICAgLSBnZXRJdGVtVVJMIGlzIGFzeW5jaHJvbm91cyB3aGljaCBtZWFucyBpdCByZXR1cm5zIHVzZWZ1bCB2YWx1ZXNcbiAqICAgICBhZnRlciB0aGUgc3luY0N5Y2xlXG4gKi9cblxubGV0IGhhc0xvY2FsU3RvcmFnZTtcbmNvbnN0IEFVVEhfVVJMID0gJ2h0dHBzOi8vd3d3LmRyb3Bib3guY29tL29hdXRoMi9hdXRob3JpemUnO1xuY29uc3QgU0VUVElOR1NfS0VZID0gJ3JlbW90ZXN0b3JhZ2U6ZHJvcGJveCc7XG5jb25zdCBQQVRIX1BSRUZJWCA9ICcvcmVtb3Rlc3RvcmFnZSc7XG5cbi8qKlxuICogTWFwIGEgbG9jYWwgcGF0aCB0byBhIHBhdGggaW4gRHJvcGJveC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFBhdGhcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEFjdHVhbCBwYXRoIGluIERyb3Bib3hcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBnZXREcm9wYm94UGF0aCAocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGNsZWFuUGF0aChQQVRIX1BSRUZJWCArICcvJyArIHBhdGgpLnJlcGxhY2UoL1xcLyQvLCAnJyk7XG59O1xuXG5mdW5jdGlvbiBjb21wYXJlQXBpRXJyb3IgKHJlc3BvbnNlLCBleHBlY3QpIHtcbiAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgZXhwZWN0LmpvaW4oJ1xcXFwvJykgKyAnKFxcXFwvfCQpJykudGVzdChyZXNwb25zZS5lcnJvcl9zdW1tYXJ5KTtcbn07XG5cbmZ1bmN0aW9uIGlzQmluYXJ5RGF0YSAoZGF0YSkge1xuICByZXR1cm4gZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IFdpcmVDbGllbnQuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSk7XG59O1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5jbGFzcyBEcm9wYm94IHtcbiAgcnM6IGFueTtcbiAgY29ubmVjdGVkOiBib29sZWFuO1xuICBvbmxpbmU6IGJvb2xlYW47XG4gIGNsaWVudElkOiBzdHJpbmc7XG4gIHRva2VuOiBzdHJpbmc7XG4gIHVzZXJBZGRyZXNzOiBzdHJpbmc7XG5cbiAgX2luaXRpYWxGZXRjaERvbmU6IGJvb2xlYW47XG4gIF9yZXZDYWNoZTogUmV2aXNpb25DYWNoZTtcbiAgX2ZldGNoRGVsdGFDdXJzb3I6IGFueTtcbiAgX2ZldGNoRGVsdGFQcm9taXNlOiBhbnk7XG4gIF9pdGVtUmVmczogYW55O1xuXG4gIC8vIFRPRE8gcmVtb3ZlIHdoZW4gcmVmYWN0b3JpbmcgZXZlbnRoYW5kbGluZ1xuICBfZW1pdDogYW55O1xuXG4gIGNvbnN0cnVjdG9yIChycykge1xuICAgIHRoaXMucnMgPSBycztcbiAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMub25saW5lID0gdHJ1ZTsgLy8gVE9ETyBpbXBsZW1lbnQgb2ZmbGluZSBkZXRlY3Rpb24gb24gZmFpbGVkIHJlcXVlc3RcbiAgICB0aGlzLl9pbml0aWFsRmV0Y2hEb25lID0gZmFsc2U7XG5cbiAgICB0aGlzLmFkZEV2ZW50cyhbJ2Nvbm5lY3RlZCcsICdub3QtY29ubmVjdGVkJ10pO1xuXG4gICAgdGhpcy5jbGllbnRJZCA9IHJzLmFwaUtleXMuZHJvcGJveC5hcHBLZXk7XG4gICAgdGhpcy5fcmV2Q2FjaGUgPSBuZXcgUmV2aXNpb25DYWNoZSgncmV2Jyk7XG4gICAgdGhpcy5fZmV0Y2hEZWx0YUN1cnNvciA9IG51bGw7XG4gICAgdGhpcy5fZmV0Y2hEZWx0YVByb21pc2UgPSBudWxsO1xuICAgIHRoaXMuX2l0ZW1SZWZzID0ge307XG5cbiAgICBoYXNMb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2VBdmFpbGFibGUoKTtcblxuICAgIGlmIChoYXNMb2NhbFN0b3JhZ2Upe1xuICAgICAgY29uc3Qgc2V0dGluZ3MgPSBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZShTRVRUSU5HU19LRVkpO1xuICAgICAgaWYgKHNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuY29uZmlndXJlKHNldHRpbmdzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2l0ZW1SZWZzID0gZ2V0SlNPTkZyb21Mb2NhbFN0b3JhZ2UoYCR7U0VUVElOR1NfS0VZfTpzaGFyZXNgKSB8fCB7fTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICBzZXRUaW1lb3V0KHRoaXMuX2VtaXQuYmluZCh0aGlzKSwgMCwgJ2Nvbm5lY3RlZCcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGJhY2tlZCB0byAnZHJvcGJveCcgYW5kIHN0YXJ0IHRoZSBhdXRoZW50aWNhdGlvbiBmbG93IGluIG9yZGVyXG4gICAqIHRvIG9idGFpbiBhbiBBUEkgdG9rZW4gZnJvbSBEcm9wYm94LlxuICAgKi9cbiAgY29ubmVjdCAoKSB7XG4gICAgLy8gVE9ETyBoYW5kbGluZyB3aGVuIHRva2VuIGlzIGFscmVhZHkgcHJlc2VudFxuICAgIHRoaXMucnMuc2V0QmFja2VuZCgnZHJvcGJveCcpO1xuICAgIGlmICh0aGlzLnRva2VuKXtcbiAgICAgIGhvb2tJdCh0aGlzLnJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ycy5hdXRob3JpemUoeyBhdXRoVVJMOiBBVVRIX1VSTCwgc2NvcGU6ICcnLCBjbGllbnRJZDogdGhpcy5jbGllbnRJZCB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY29ubmVjdGVkIGZsYWdcbiAgICogQWNjZXB0cyBpdHMgcGFyYW1ldGVycyBhY2NvcmRpbmcgdG8gdGhlIDxXaXJlQ2xpZW50Pi5cbiAgICogQHBhcmFtIHtPYmplY3R9IHNldHRpbmdzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc2V0dGluZ3MudXNlckFkZHJlc3NdIC0gVGhlIHVzZXIncyBlbWFpbCBhZGRyZXNzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc2V0dGluZ3MudG9rZW5dIC0gQXV0aG9yaXphdGlvbiB0b2tlblxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqKi9cbiAgY29uZmlndXJlIChzZXR0aW5ncykge1xuICAgIC8vIFdlIG9ubHkgdXBkYXRlIHRoaXMudXNlckFkZHJlc3MgaWYgc2V0dGluZ3MudXNlckFkZHJlc3MgaXMgc2V0IHRvIGEgc3RyaW5nIG9yIHRvIG51bGw6XG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy51c2VyQWRkcmVzcyAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy51c2VyQWRkcmVzcyA9IHNldHRpbmdzLnVzZXJBZGRyZXNzOyB9XG4gICAgLy8gU2FtZSBmb3IgdGhpcy50b2tlbi4gSWYgb25seSBvbmUgb2YgdGhlc2UgdHdvIGlzIHNldCwgd2UgbGVhdmUgdGhlIG90aGVyIG9uZSBhdCBpdHMgZXhpc3RpbmcgdmFsdWU6XG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy50b2tlbiAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy50b2tlbiA9IHNldHRpbmdzLnRva2VuOyB9XG5cbiAgICBjb25zdCB3cml0ZVNldHRpbmdzVG9DYWNoZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRVRUSU5HU19LRVksIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB1c2VyQWRkcmVzczogdGhpcy51c2VyQWRkcmVzcyxcbiAgICAgICAgICB0b2tlbjogdGhpcy50b2tlblxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTRVRUSU5HU19LRVkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodGhpcy50b2tlbikge1xuICAgICAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMudXNlckFkZHJlc3MpIHtcbiAgICAgICAgdGhpcy5fZW1pdCgnY29ubmVjdGVkJyk7XG4gICAgICAgIHdyaXRlU2V0dGluZ3NUb0NhY2hlLmFwcGx5KHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbmZvKCkudGhlbihmdW5jdGlvbiAoaW5mbyl7XG4gICAgICAgICAgdGhpcy51c2VyQWRkcmVzcyA9IGluZm8uZW1haWw7XG4gICAgICAgICAgdGhpcy5fZW1pdCgnY29ubmVjdGVkJyk7XG4gICAgICAgICAgd3JpdGVTZXR0aW5nc1RvQ2FjaGUuYXBwbHkodGhpcyk7XG4gICAgICAgIH0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaGFuZGxlRXJyb3IuYXBwbHkodGhpcyk7XG4gICAgICAgICAgdGhpcy5ycy5fZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBmZXRjaCB1c2VyIGluZm8uJykpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVFcnJvci5hcHBseSh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RvcCB3YWl0aW5nIGZvciB0aGUgdG9rZW4gYW5kIGVtaXQgbm90LWNvbm5lY3RlZFxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzdG9wV2FpdGluZ0ZvclRva2VuICgpIHtcbiAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICB0aGlzLl9lbWl0KCdub3QtY29ubmVjdGVkJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgaXRlbXMgaW4gYSBmb2xkZXIuXG4gICAqXG4gICAqIEBwYXJhbSBwYXRoIHtzdHJpbmd9IC0gcGF0aCBvZiB0aGUgZm9sZGVyIHRvIGdldCwgd2l0aCBsZWFkaW5nIHNsYXNoXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogICAgICAgICBzdGF0dXNDb2RlIC0gSFRUUCBzdGF0dXMgY29kZVxuICAgKiAgICAgICAgIGJvZHkgLSBhcnJheSBvZiB0aGUgaXRlbXMgZm91bmRcbiAgICogICAgICAgICBjb250ZW50VHlwZSAtICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04J1xuICAgKiAgICAgICAgIHJldmlzaW9uIC0gcmV2aXNpb24gb2YgdGhlIGZvbGRlclxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldEZvbGRlciAocGF0aCkge1xuICAgIGNvbnN0IHVybCA9ICdodHRwczovL2FwaS5kcm9wYm94YXBpLmNvbS8yL2ZpbGVzL2xpc3RfZm9sZGVyJztcbiAgICBjb25zdCByZXZDYWNoZSA9IHRoaXMuX3JldkNhY2hlO1xuXG4gICAgY29uc3QgcHJvY2Vzc1Jlc3BvbnNlID0gKHJlc3ApID0+IHtcbiAgICAgIGxldCBib2R5O1xuXG4gICAgICBpZiAocmVzcC5zdGF0dXMgIT09IDIwMCAmJiByZXNwLnN0YXR1cyAhPT0gNDA5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnVW5leHBlY3RlZCByZXNwb25zZSBzdGF0dXM6ICcgKyByZXNwLnN0YXR1cyk7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGJvZHkgPSBKU09OLnBhcnNlKHJlc3AucmVzcG9uc2VUZXh0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzcC5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICBpZiAoY29tcGFyZUFwaUVycm9yKGJvZHksIFsncGF0aCcsICdub3RfZm91bmQnXSkpIHtcbiAgICAgICAgICAvLyBpZiB0aGUgZm9sZGVyIGlzIG5vdCBmb3VuZCwgaGFuZGxlIGl0IGFzIGFuIGVtcHR5IGZvbGRlclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe30pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQVBJIHJldHVybmVkIGFuIGVycm9yOiAnICsgYm9keS5lcnJvcl9zdW1tYXJ5KSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGxpc3RpbmcgPSBib2R5LmVudHJpZXMucmVkdWNlKChtYXAsIGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgaXNEaXIgPSBpdGVtWycudGFnJ10gPT09ICdmb2xkZXInO1xuICAgICAgICBjb25zdCBpdGVtTmFtZSA9IGl0ZW0ucGF0aF9sb3dlci5zcGxpdCgnLycpLnNsaWNlKC0xKVswXSArIChpc0RpciA/ICcvJyA6ICcnKTtcbiAgICAgICAgaWYgKGlzRGlyKXtcbiAgICAgICAgICBtYXBbaXRlbU5hbWVdID0geyBFVGFnOiByZXZDYWNoZS5nZXQocGF0aCtpdGVtTmFtZSkgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXBbaXRlbU5hbWVdID0geyBFVGFnOiBpdGVtLnJldiB9O1xuICAgICAgICAgIHRoaXMuX3JldkNhY2hlLnNldChwYXRoK2l0ZW1OYW1lLCBpdGVtLnJldik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgIH0sIHt9KTtcblxuICAgICAgaWYgKGJvZHkuaGFzX21vcmUpIHtcbiAgICAgICAgcmV0dXJuIGxvYWROZXh0KGJvZHkuY3Vyc29yKS50aGVuKGZ1bmN0aW9uIChuZXh0TGlzdGluZykge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGxpc3RpbmcsIG5leHRMaXN0aW5nKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobGlzdGluZyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWROZXh0ID0gKGN1cnNvcikgPT4ge1xuICAgICAgY29uc3QgY29udGludWVVUkwgPSAnaHR0cHM6Ly9hcGkuZHJvcGJveGFwaS5jb20vMi9maWxlcy9saXN0X2ZvbGRlci9jb250aW51ZSc7XG4gICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgIGJvZHk6IHsgY3Vyc29yOiBjdXJzb3IgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCBjb250aW51ZVVSTCwgcGFyYW1zKS50aGVuKHByb2Nlc3NSZXNwb25zZSk7XG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQT1NUJywgdXJsLCB7XG4gICAgICBib2R5OiB7XG4gICAgICAgIHBhdGg6IGdldERyb3Bib3hQYXRoKHBhdGgpXG4gICAgICB9XG4gICAgfSkudGhlbihwcm9jZXNzUmVzcG9uc2UpLnRoZW4oZnVuY3Rpb24gKGxpc3RpbmcpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgIGJvZHk6IGxpc3RpbmcsXG4gICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsXG4gICAgICAgIHJldmlzaW9uOiByZXZDYWNoZS5nZXQocGF0aClcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBmb3IgdGhlIHBhdGggaW4gYGBfcmV2Q2FjaGVgYCBhbmQgZGVjaWRlcyBiYXNlZCBvbiB0aGF0IGlmIGZpbGVcbiAgICogaGFzIGNoYW5nZWQuIENhbGxzIGBgX2dldEZvbGRlcmBgIGlzIHRoZSBwYXRoIHBvaW50cyB0byBhIGZvbGRlci5cbiAgICpcbiAgICogQ2FsbHMgYGBEcm9wYm94LnNoYXJlYGAgYWZ0ZXJ3YXJkcyB0byBmaWxsIGBgX2l0ZW1SZWZzYGAuXG4gICAqXG4gICAqIENvbXBhdGlibGUgd2l0aCBgYFdpcmVDbGllbnQuZ2V0YGBcbiAgICpcbiAgICogQHBhcmFtIHBhdGgge3N0cmluZ30gLSBwYXRoIG9mIHRoZSBmb2xkZXIgdG8gZ2V0LCB3aXRoIGxlYWRpbmcgc2xhc2hcbiAgICogQHBhcmFtIG9wdGlvbnMge09iamVjdH1cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZ2V0IChwYXRoLCBvcHRpb25zKSB7XG4gICAgaWYgKCEgdGhpcy5jb25uZWN0ZWQpIHsgcmV0dXJuIFByb21pc2UucmVqZWN0KFwibm90IGNvbm5lY3RlZCAocGF0aDogXCIgKyBwYXRoICsgXCIpXCIpOyB9XG4gICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vY29udGVudC5kcm9wYm94YXBpLmNvbS8yL2ZpbGVzL2Rvd25sb2FkJztcblxuICAgIGNvbnN0IHNhdmVkUmV2ID0gdGhpcy5fcmV2Q2FjaGUuZ2V0KHBhdGgpO1xuICAgIGlmIChzYXZlZFJldiA9PT0gbnVsbCkge1xuICAgICAgLy8gZmlsZSB3YXMgZGVsZXRlZCBzZXJ2ZXIgc2lkZVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogNDA0fSk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWZOb25lTWF0Y2gpIHtcbiAgICAgIC8vIFdlIG11c3Qgd2FpdCBmb3IgbG9jYWwgcmV2aXNpb24gY2FjaGUgdG8gYmUgaW5pdGlhbGl6ZWQgYmVmb3JlXG4gICAgICAvLyBjaGVja2luZyBpZiBsb2NhbCByZXZpc2lvbiBpcyBvdXRkYXRlZFxuICAgICAgaWYgKCEgdGhpcy5faW5pdGlhbEZldGNoRG9uZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaERlbHRhKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHBhdGgsIG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNhdmVkUmV2ICYmIChzYXZlZFJldiA9PT0gb3B0aW9ucy5pZk5vbmVNYXRjaCkpIHtcbiAgICAgICAgLy8gbm90aGluZyBjaGFuZ2VkLlxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAzMDR9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1c2UgX2dldEZvbGRlciBmb3IgZm9sZGVyc1xuICAgIGlmIChwYXRoLnN1YnN0cigtMSkgPT09ICcvJykge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldEZvbGRlcihwYXRoKTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdEcm9wYm94LUFQSS1BcmcnOiBKU09OLnN0cmluZ2lmeSh7cGF0aDogZ2V0RHJvcGJveFBhdGgocGF0aCl9KSxcbiAgICAgIH0sXG4gICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcidcbiAgICB9O1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWZOb25lTWF0Y2gpIHtcbiAgICAgIHBhcmFtcy5oZWFkZXJzWydJZi1Ob25lLU1hdGNoJ10gPSBvcHRpb25zLmlmTm9uZU1hdGNoO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdHRVQnLCB1cmwsIHBhcmFtcykudGhlbihyZXNwID0+IHtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IHJlc3Auc3RhdHVzO1xuICAgICAgbGV0IG1ldGEsIGJvZHksIG1pbWUsIHJldjtcbiAgICAgIGlmIChzdGF0dXMgIT09IDIwMCAmJiBzdGF0dXMgIT09IDQwOSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiBzdGF0dXN9KTtcbiAgICAgIH1cbiAgICAgIG1ldGEgPSByZXNwLmdldFJlc3BvbnNlSGVhZGVyKCdEcm9wYm94LUFQSS1SZXN1bHQnKTtcbiAgICAgIC8vZmlyc3QgZW5jb2RlIHRoZSByZXNwb25zZSBhcyB0ZXh0LCBhbmQgbGF0ZXIgY2hlY2sgaWYgXG4gICAgICAvL3RleHQgYXBwZWFycyB0byBhY3R1YWxseSBiZSBiaW5hcnkgZGF0YVxuICAgICAgcmV0dXJuIGdldFRleHRGcm9tQXJyYXlCdWZmZXIocmVzcC5yZXNwb25zZSwgJ1VURi04JykudGhlbihyZXNwb25zZVRleHQgPT4ge1xuICAgICAgICBib2R5ID0gcmVzcG9uc2VUZXh0O1xuICAgICAgICBpZiAoc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgICBtZXRhID0gYm9keTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbWV0YSA9IEpTT04ucGFyc2UobWV0YSk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQwOSkge1xuICAgICAgICAgIGlmIChjb21wYXJlQXBpRXJyb3IobWV0YSwgWydwYXRoJywgJ25vdF9mb3VuZCddKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtzdGF0dXNDb2RlOiA0MDR9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdBUEkgZXJyb3Igd2hpbGUgZG93bmxvYWRpbmcgZmlsZSAoXCInICsgcGF0aCArICdcIik6ICcgKyBtZXRhLmVycm9yX3N1bW1hcnkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1pbWUgPSByZXNwLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LVR5cGUnKTtcbiAgICAgICAgcmV2ID0gbWV0YS5yZXY7XG4gICAgICAgIHRoaXMuX3JldkNhY2hlLnNldChwYXRoLCByZXYpO1xuICAgICAgICB0aGlzLl9zaGFyZUlmTmVlZGVkKHBhdGgpO1xuXG4gICAgICAgIGlmIChzaG91bGRCZVRyZWF0ZWRBc0JpbmFyeShyZXNwb25zZVRleHQsIG1pbWUpKSB7XG4gICAgICAgICAgLy8gcmV0dXJuIHVucHJvY2Vzc2VkIHJlc3BvbnNlXG4gICAgICAgICAgYm9keSA9IHJlc3AucmVzcG9uc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaGFuZGxpbmcganNvbiAoYWx3YXlzIHRyeSlcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSk7XG4gICAgICAgICAgICBtaW1lID0gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnO1xuICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgLy9GYWlsZWQgcGFyc2luZyBKc29uLCBhc3N1bWUgaXQgaXMgc29tZXRoaW5nIGVsc2UgdGhlblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhdHVzQ29kZTogc3RhdHVzLFxuICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgY29udGVudFR5cGU6IG1pbWUsXG4gICAgICAgICAgcmV2aXNpb246IHJldlxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGZvciB0aGUgcGF0aCBpbiBgYF9yZXZDYWNoZWBgIGFuZCBkZWNpZGVzIGJhc2VkIG9uIHRoYXQgaWYgZmlsZVxuICAgKiBoYXMgY2hhbmdlZC5cbiAgICpcbiAgICogQ29tcGF0aWJsZSB3aXRoIGBgV2lyZUNsaWVudGBgXG4gICAqXG4gICAqIENhbGxzIGBgRHJvcGJveC5zaGFyZWBgIGFmdGVyd2FyZHMgdG8gZmlsbCBgYF9pdGVtUmVmc2BgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIHBhdGggb2YgdGhlIGZvbGRlciB0byBwdXQsIHdpdGggbGVhZGluZyBzbGFzaFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5pZk5vbmVNYXRjaCAtIE9ubHkgY3JlYXRlIG9mIHVwZGF0ZSB0aGUgZmlsZSBpZiB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50IEVUYWcgZG9lc24ndCBtYXRjaCB0aGlzIHN0cmluZ1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdHVzIGNvZGUsXG4gICAqICAgICAgICAgICAgICAgICAgICBjb250ZW50LXR5cGUgYW5kIHJldmlzaW9uXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHB1dCAocGF0aCwgYm9keSwgY29udGVudFR5cGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3QgY29ubmVjdGVkIChwYXRoOiBcIiArIHBhdGggKyBcIilcIik7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgZmlsZSBoYXMgY2hhbmdlZCBhbmQgcmV0dXJuIDQxMlxuICAgIGNvbnN0IHNhdmVkUmV2ID0gdGhpcy5fcmV2Q2FjaGUuZ2V0KHBhdGgpO1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWZNYXRjaCAmJlxuICAgICAgICBzYXZlZFJldiAmJiAoc2F2ZWRSZXYgIT09IG9wdGlvbnMuaWZNYXRjaCkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDQxMiwgcmV2aXNpb246IHNhdmVkUmV2fSk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zICYmIChvcHRpb25zLmlmTm9uZU1hdGNoID09PSAnKicpICYmXG4gICAgICAgIHNhdmVkUmV2ICYmIChzYXZlZFJldiAhPT0gJ3JldicpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiA0MTIsIHJldmlzaW9uOiBzYXZlZFJldn0pO1xuICAgIH1cblxuICAgIGlmICgoIWNvbnRlbnRUeXBlLm1hdGNoKC9jaGFyc2V0PS8pKSAmJiBpc0JpbmFyeURhdGEoYm9keSkpIHtcbiAgICAgIGNvbnRlbnRUeXBlICs9ICc7IGNoYXJzZXQ9YmluYXJ5JztcbiAgICB9XG5cbiAgICBpZiAoYm9keS5sZW5ndGggPiAxNTAgKiAxMDI0ICogMTAyNCkge1xuICAgICAgLy9odHRwczovL3d3dy5kcm9wYm94LmNvbS9kZXZlbG9wZXJzL2NvcmUvZG9jcyNjaHVua2VkLXVwbG9hZFxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkNhbm5vdCB1cGxvYWQgZmlsZSBsYXJnZXIgdGhhbiAxNTBNQlwiKSk7XG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdDtcbiAgICBjb25zdCBuZWVkc01ldGFkYXRhID0gb3B0aW9ucyAmJiAob3B0aW9ucy5pZk1hdGNoIHx8IChvcHRpb25zLmlmTm9uZU1hdGNoID09PSAnKicpKTtcbiAgICBjb25zdCB1cGxvYWRQYXJhbXMgPSB7XG4gICAgICBib2R5OiBib2R5LFxuICAgICAgY29udGVudFR5cGU6IGNvbnRlbnRUeXBlLFxuICAgICAgcGF0aDogcGF0aFxuICAgIH07XG5cbiAgICBpZiAobmVlZHNNZXRhZGF0YSkge1xuICAgICAgcmVzdWx0ID0gdGhpcy5fZ2V0TWV0YWRhdGEocGF0aCkudGhlbihtZXRhZGF0YSA9PiB7XG4gICAgICAgIGlmIChvcHRpb25zICYmIChvcHRpb25zLmlmTm9uZU1hdGNoID09PSAnKicpICYmIG1ldGFkYXRhKSB7XG4gICAgICAgICAgLy8gaWYgISFtZXRhZGF0YSA9PT0gdHJ1ZSwgdGhlIGZpbGUgZXhpc3RzXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBzdGF0dXNDb2RlOiA0MTIsXG4gICAgICAgICAgICByZXZpc2lvbjogbWV0YWRhdGEucmV2XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTWF0Y2ggJiYgbWV0YWRhdGEgJiYgKG1ldGFkYXRhLnJldiAhPT0gb3B0aW9ucy5pZk1hdGNoKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgc3RhdHVzQ29kZTogNDEyLFxuICAgICAgICAgICAgcmV2aXNpb246IG1ldGFkYXRhLnJldlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwbG9hZFNpbXBsZSh1cGxvYWRQYXJhbXMpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IHRoaXMuX3VwbG9hZFNpbXBsZSh1cGxvYWRQYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQudGhlbihyZXMgPT4ge1xuICAgICAgdGhpcy5fc2hhcmVJZk5lZWRlZChwYXRoKTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGZvciB0aGUgcGF0aCBpbiBgYF9yZXZDYWNoZWBgIGFuZCBkZWNpZGVzIGJhc2VkIG9uIHRoYXQgaWYgZmlsZVxuICAgKiBoYXMgY2hhbmdlZC5cbiAgICpcbiAgICogQ29tcGF0aWJsZSB3aXRoIGBgV2lyZUNsaWVudC5kZWxldGVgYFxuICAgKlxuICAgKiBDYWxscyBgYERyb3Bib3guc2hhcmVgYCBhZnRlcndhcmRzIHRvIGZpbGwgYGBfaXRlbVJlZnNgYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBwYXRoIG9mIHRoZSBmb2xkZXIgdG8gZGVsZXRlLCB3aXRoIGxlYWRpbmcgc2xhc2hcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgJ2RlbGV0ZScgKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3QgY29ubmVjdGVkIChwYXRoOiBcIiArIHBhdGggKyBcIilcIik7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgZmlsZSBoYXMgY2hhbmdlZCBhbmQgcmV0dXJuIDQxMlxuICAgIGNvbnN0IHNhdmVkUmV2ID0gdGhpcy5fcmV2Q2FjaGUuZ2V0KHBhdGgpO1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWZNYXRjaCAmJiBzYXZlZFJldiAmJiAob3B0aW9ucy5pZk1hdGNoICE9PSBzYXZlZFJldikpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBzdGF0dXNDb2RlOiA0MTIsIHJldmlzaW9uOiBzYXZlZFJldiB9KTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTWF0Y2gpIHtcbiAgICAgIHJldHVybiB0aGlzLl9nZXRNZXRhZGF0YShwYXRoKS50aGVuKChtZXRhZGF0YSkgPT4ge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTWF0Y2ggJiYgbWV0YWRhdGEgJiYgKG1ldGFkYXRhLnJldiAhPT0gb3B0aW9ucy5pZk1hdGNoKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgc3RhdHVzQ29kZTogNDEyLFxuICAgICAgICAgICAgcmV2aXNpb246IG1ldGFkYXRhLnJldlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGV0ZVNpbXBsZShwYXRoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9kZWxldGVTaW1wbGUocGF0aCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgc2hhcmUsIGlmIHRoZSBwcm92aWRlZCBwYXRoIHJlc2lkZXMgaW4gYSBwdWJsaWMgZm9sZGVyLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NoYXJlSWZOZWVkZWQgKHBhdGgpIHtcbiAgICBpZiAocGF0aC5tYXRjaCgvXlxcL3B1YmxpY1xcLy4qW14vXSQvKSAmJiB0aGlzLl9pdGVtUmVmc1twYXRoXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNoYXJlKHBhdGgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgcHVibGljbHktYWNjZXNzaWJsZSBVUkwgZm9yIHRoZSBwYXRoIGZyb20gRHJvcGJveCBhbmQgc3RvcmVzIGl0XG4gICAqIGluIGBgX2l0ZW1SZWZzYGAuXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSBmb3IgdGhlIFVSTFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2hhcmUgKHBhdGgpIHtcbiAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9hcGkuZHJvcGJveGFwaS5jb20vMi9zaGFyaW5nL2NyZWF0ZV9zaGFyZWRfbGlua193aXRoX3NldHRpbmdzJztcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgYm9keToge3BhdGg6IGdldERyb3Bib3hQYXRoKHBhdGgpfVxuICAgIH07XG5cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIHVybCwgb3B0aW9ucykudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgIT09IDQwOSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIHN0YXR1czonICsgcmVzcG9uc2Uuc3RhdHVzKSk7XG4gICAgICB9XG5cbiAgICAgIGxldCBib2R5O1xuXG4gICAgICB0cnkge1xuICAgICAgICBib2R5ID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIGJvZHk6ICcgKyByZXNwb25zZS5yZXNwb25zZVRleHQpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgIGlmIChjb21wYXJlQXBpRXJyb3IoYm9keSwgWydzaGFyZWRfbGlua19hbHJlYWR5X2V4aXN0cyddKSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRTaGFyZWRMaW5rKHBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQVBJIGVycm9yOiAnICsgYm9keS5lcnJvcl9zdW1tYXJ5KSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYm9keS51cmwpO1xuICAgIH0pLnRoZW4oKGxpbmspID0+IHtcbiAgICAgIHRoaXMuX2l0ZW1SZWZzW3BhdGhdID0gbGluaztcblxuICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRVRUSU5HU19LRVkrJzpzaGFyZXMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLl9pdGVtUmVmcykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGxpbmspO1xuICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgZXJyb3IubWVzc2FnZSA9ICdTaGFyaW5nIERyb3Bib3ggZmlsZSBvciBmb2xkZXIgKFwiJyArIHBhdGggKyAnXCIpIGZhaWxlZDogJyArIGVycm9yLm1lc3NhZ2U7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgdGhlIHVzZXIncyBpbmZvIGZyb20gZHJvcGJveCBhbmQgcmV0dXJucyBhIHByb21pc2UgZm9yIGl0LlxuICAgKlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2UgZm9yIHVzZXIgaW5mbyBvYmplY3QgKGVtYWlsIC0gdGhlIHVzZXIncyBlbWFpbCBhZGRyZXNzKVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBpbmZvICgpIHtcbiAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9hcGkuZHJvcGJveGFwaS5jb20vMi91c2Vycy9nZXRfY3VycmVudF9hY2NvdW50JztcblxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQT1NUJywgdXJsLCB7fSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGxldCBpbmZvID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0O1xuXG4gICAgICB0cnkge1xuICAgICAgICBpbmZvID0gSlNPTi5wYXJzZShpbmZvKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQ291bGQgbm90IHF1ZXJ5IGN1cnJlbnQgYWNjb3VudCBpbmZvOiBJbnZhbGlkIEFQSSByZXNwb25zZTogJyArIGluZm8pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIGVtYWlsOiBpbmZvLmVtYWlsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGEgbmV0d29yayByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIC0gUmVxdWVzdCBtZXRob2RcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRhcmdldCBVUkxcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggdGhlIHJlc3BvbnNlIG9mIHRoZSBuZXR3b3JrIHJlcXVlc3RcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZXF1ZXN0IChtZXRob2QsIHVybCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7IG9wdGlvbnMuaGVhZGVycyA9IHt9OyB9XG4gICAgb3B0aW9ucy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyB0aGlzLnRva2VuO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmJvZHkgPT09ICdvYmplY3QnICYmICFpc0JpbmFyeURhdGEob3B0aW9ucy5ib2R5KSkge1xuICAgICAgb3B0aW9ucy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5ib2R5KTtcbiAgICAgIG9wdGlvbnMuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCc7XG4gICAgfVxuXG4gICAgdGhpcy5ycy5fZW1pdCgnd2lyZS1idXN5Jywge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBpc0ZvbGRlcjogaXNGb2xkZXIodXJsKVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIFdpcmVDbGllbnQucmVxdWVzdC5jYWxsKHRoaXMsIG1ldGhvZCwgdXJsLCBvcHRpb25zKS50aGVuKHhociA9PiB7XG4gICAgICAvLyA1MDMgbWVhbnMgcmV0cnkgdGhpcyBsYXRlclxuICAgICAgaWYgKHhociAmJiB4aHIuc3RhdHVzID09PSA1MDMpIHtcbiAgICAgICAgaWYgKHRoaXMub25saW5lKSB7XG4gICAgICAgICAgdGhpcy5vbmxpbmUgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLnJzLl9lbWl0KCduZXR3b3JrLW9mZmxpbmUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0VGltZW91dCh0aGlzLl9yZXF1ZXN0KG1ldGhvZCwgdXJsLCBvcHRpb25zKSwgMzIxMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXRoaXMub25saW5lKSB7XG4gICAgICAgICAgdGhpcy5vbmxpbmUgPSB0cnVlO1xuICAgICAgICAgIHRoaXMucnMuX2VtaXQoJ25ldHdvcmstb25saW5lJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ycy5fZW1pdCgnd2lyZS1kb25lJywge1xuICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgIGlzRm9sZGVyOiBpc0ZvbGRlcih1cmwpLFxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh4aHIpO1xuICAgICAgfVxuICAgIH0sIGVycm9yID0+IHtcbiAgICAgIGlmICh0aGlzLm9ubGluZSkge1xuICAgICAgICB0aGlzLm9ubGluZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJzLl9lbWl0KCduZXR3b3JrLW9mZmxpbmUnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucnMuX2VtaXQoJ3dpcmUtZG9uZScsIHtcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIGlzRm9sZGVyOiBpc0ZvbGRlcih1cmwpLFxuICAgICAgICBzdWNjZXNzOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2hlcyB0aGUgcmV2aXNpb24gb2YgYWxsIHRoZSBmaWxlcyBmcm9tIGRyb3Bib3ggQVBJIGFuZCBwdXRzIHRoZW1cbiAgICogaW50byBgYF9yZXZDYWNoZWBgLiBUaGVzZSB2YWx1ZXMgY2FuIHRoZW4gYmUgdXNlZCB0byBkZXRlcm1pbmUgaWZcbiAgICogc29tZXRoaW5nIGhhcyBjaGFuZ2VkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZmV0Y2hEZWx0YSAoLi4uYXJncykge1xuICAgIC8vIElmIGZldGNoRGVsdGEgd2FzIGFscmVhZHkgY2FsbGVkLCBhbmQgZGlkbid0IGZpbmlzaCwgcmV0dXJuIHRoZSBleGlzdGluZ1xuICAgIC8vIHByb21pc2UgaW5zdGVhZCBvZiBjYWxsaW5nIERyb3Bib3ggQVBJIGFnYWluXG4gICAgaWYgKHRoaXMuX2ZldGNoRGVsdGFQcm9taXNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZmV0Y2hEZWx0YVByb21pc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZmV0Y2ggPSAoY3Vyc29yKSA9PiB7XG4gICAgICBsZXQgdXJsID0gJ2h0dHBzOi8vYXBpLmRyb3Bib3hhcGkuY29tLzIvZmlsZXMvbGlzdF9mb2xkZXInO1xuICAgICAgbGV0IHJlcXVlc3RCb2R5O1xuXG4gICAgICBpZiAodHlwZW9mIGN1cnNvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdXJsICs9ICcvY29udGludWUnO1xuICAgICAgICByZXF1ZXN0Qm9keSA9IHsgY3Vyc29yIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXF1ZXN0Qm9keSA9IHtcbiAgICAgICAgICBwYXRoOiBQQVRIX1BSRUZJWCxcbiAgICAgICAgICByZWN1cnNpdmU6IHRydWUsXG4gICAgICAgICAgaW5jbHVkZV9kZWxldGVkOiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQT1NUJywgdXJsLCB7IGJvZHk6IHJlcXVlc3RCb2R5IH0pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICB0aGlzLnJzLl9lbWl0KCdlcnJvcicsIG5ldyBVbmF1dGhvcml6ZWRFcnJvcigpKTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGFyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gNDA5KSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBzdGF0dXM6ICcgKyByZXNwb25zZS5zdGF0dXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXNwb25zZUJvZHk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXNwb25zZUJvZHkgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIGJvZHk6ICcgKyByZXNwb25zZS5yZXNwb25zZVRleHQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICAgIGlmIChjb21wYXJlQXBpRXJyb3IocmVzcG9uc2VCb2R5LCBbJ3BhdGgnLCAnbm90X2ZvdW5kJ10pKSB7XG4gICAgICAgICAgICByZXNwb25zZUJvZHkgPSB7XG4gICAgICAgICAgICAgIGN1cnNvcjogbnVsbCxcbiAgICAgICAgICAgICAgZW50cmllczogW10sXG4gICAgICAgICAgICAgIGhhc19tb3JlOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQVBJIHJldHVybmVkIGFuIGVycm9yOiAnICsgcmVzcG9uc2VCb2R5LmVycm9yX3N1bW1hcnkpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICAgIC8vd2UgYXJlIGRvaW5nIGEgY29tcGxldGUgZmV0Y2gsIHNvIHByb3BhZ2F0aW9uIHdvdWxkIGludHJvZHVjZSB1bm5lY2Vzc2FyeSBvdmVyaGVhZFxuICAgICAgICAgIHRoaXMuX3JldkNhY2hlLmRlYWN0aXZhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzcG9uc2VCb2R5LmVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgICAgY29uc3QgcGF0aCA9IGVudHJ5LnBhdGhfbG93ZXIuc3Vic3RyKFBBVEhfUFJFRklYLmxlbmd0aCk7XG5cbiAgICAgICAgICBpZiAoZW50cnlbJy50YWcnXSA9PT0gJ2RlbGV0ZWQnKSB7XG4gICAgICAgICAgICAvLyB0aGVyZSdzIG5vIHdheSB0byBrbm93IHdoZXRoZXIgdGhlIGVudHJ5IHdhcyBhIGZpbGUgb3IgYSBmb2xkZXJcbiAgICAgICAgICAgIHRoaXMuX3JldkNhY2hlLmRlbGV0ZShwYXRoKTtcbiAgICAgICAgICAgIHRoaXMuX3JldkNhY2hlLmRlbGV0ZShwYXRoICsgJy8nKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGVudHJ5WycudGFnJ10gPT09ICdmaWxlJykge1xuICAgICAgICAgICAgdGhpcy5fcmV2Q2FjaGUuc2V0KHBhdGgsIGVudHJ5LnJldik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9mZXRjaERlbHRhQ3Vyc29yID0gcmVzcG9uc2VCb2R5LmN1cnNvcjtcbiAgICAgICAgaWYgKHJlc3BvbnNlQm9keS5oYXNfbW9yZSkge1xuICAgICAgICAgIHJldHVybiBmZXRjaChyZXNwb25zZUJvZHkuY3Vyc29yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9yZXZDYWNoZS5hY3RpdmF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgdGhpcy5faW5pdGlhbEZldGNoRG9uZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgaWYgKGVycm9yID09PSAndGltZW91dCcgfHwgZXJyb3IgaW5zdGFuY2VvZiBQcm9ncmVzc0V2ZW50KSB7XG4gICAgICAgICAgLy8gT2ZmbGluZSBpcyBoYW5kbGVkIGVsc2V3aGVyZSBhbHJlYWR5LCBqdXN0IGlnbm9yZSBpdCBoZXJlXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLl9mZXRjaERlbHRhUHJvbWlzZSA9IGZldGNoKHRoaXMuX2ZldGNoRGVsdGFDdXJzb3IpLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIGlmICh0eXBlb2YoZXJyb3IpID09PSAnb2JqZWN0JyAmJiAnbWVzc2FnZScgaW4gZXJyb3IpIHtcbiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICdEcm9wYm94OiBmZXRjaERlbHRhOiAnICsgZXJyb3IubWVzc2FnZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yID0gYERyb3Bib3g6IGZldGNoRGVsdGE6ICR7ZXJyb3J9YDtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2ZldGNoRGVsdGFQcm9taXNlID0gbnVsbDtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLl9mZXRjaERlbHRhUHJvbWlzZSA9IG51bGw7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuX2ZldGNoRGVsdGFQcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgbWV0YWRhdGEgZm9yIGEgcGF0aCAoY2FuIHBvaW50IHRvIGVpdGhlciBhIGZpbGUgb3IgYSBmb2xkZXIpLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIHRoZSBwYXRoIHRvIGdldCBtZXRhZGF0YSBmb3JcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSBmb3IgdGhlIG1ldGFkYXRhXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0TWV0YWRhdGEgKHBhdGgpIHtcbiAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9hcGkuZHJvcGJveGFwaS5jb20vMi9maWxlcy9nZXRfbWV0YWRhdGEnO1xuICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgICAgcGF0aDogZ2V0RHJvcGJveFBhdGgocGF0aClcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCB1cmwsIHsgYm9keTogcmVxdWVzdEJvZHkgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgIT09IDQwOSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIHN0YXR1czonICsgcmVzcG9uc2Uuc3RhdHVzKSk7XG4gICAgICB9XG5cbiAgICAgIGxldCByZXNwb25zZUJvZHk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc3BvbnNlQm9keSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBib2R5OiAnICsgcmVzcG9uc2UucmVzcG9uc2VUZXh0KSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICBpZiAoY29tcGFyZUFwaUVycm9yKHJlc3BvbnNlQm9keSwgWydwYXRoJywgJ25vdF9mb3VuZCddKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0FQSSBlcnJvcjogJyArIHJlc3BvbnNlQm9keS5lcnJvcl9zdW1tYXJ5KSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2VCb2R5KTtcbiAgICB9KS50aGVuKHVuZGVmaW5lZCwgKGVycm9yKSA9PiB7XG4gICAgICBlcnJvci5tZXNzYWdlID0gJ0NvdWxkIG5vdCBsb2FkIG1ldGFkYXRhIGZvciBmaWxlIG9yIGZvbGRlciAoXCInICsgcGF0aCArICdcIik6ICcgKyBlcnJvci5tZXNzYWdlO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGxvYWQgYSBzaW1wbGUgZmlsZSAodGhlIHNpemUgaXMgbm8gbW9yZSB0aGFuIDE1ME1CKS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5pZk1hdGNoIC0gT25seSB1cGRhdGUgdGhlIGZpbGUgaWYgaXRzIEVUYWdcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXMgdGhpcyBzdHJpbmdcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMucGF0aCAtIHBhdGggb2YgdGhlIGZpbGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuYm9keSAtIGNvbnRlbnRzIG9mIHRoZSBmaWxlIHRvIHVwbG9hZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5jb250ZW50VHlwZSAtIG1pbWUgdHlwZSBvZiB0aGUgZmlsZVxuICAgKlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgZm9yIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgc3RydWN0dXJlOlxuICAgKiAgICAgICAgIHN0YXR1c0NvZGUgLSBIVFRQIHN0YXR1cyBjb2RlXG4gICAqICAgICAgICAgcmV2aXNpb24gLSByZXZpc2lvbiBvZiB0aGUgbmV3bHktY3JlYXRlZCBmaWxlLCBpZiBhbnlcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGxvYWRTaW1wbGUgKHBhcmFtcykge1xuICAgIGNvbnN0IHVybCA9ICdodHRwczovL2NvbnRlbnQuZHJvcGJveGFwaS5jb20vMi9maWxlcy91cGxvYWQnO1xuICAgIGNvbnN0IGFyZ3MgPSB7XG4gICAgICBwYXRoOiBnZXREcm9wYm94UGF0aChwYXJhbXMucGF0aCksXG4gICAgICBtb2RlOiB7ICcudGFnJzogJ292ZXJ3cml0ZScsIHVwZGF0ZTogdW5kZWZpbmVkIH0sXG4gICAgICBtdXRlOiB0cnVlXG4gICAgfTtcblxuICAgIGlmIChwYXJhbXMuaWZNYXRjaCkge1xuICAgICAgYXJncy5tb2RlID0geyAnLnRhZyc6ICd1cGRhdGUnLCB1cGRhdGU6IHBhcmFtcy5pZk1hdGNoIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCB1cmwsIHtcbiAgICAgIGJvZHk6IHBhcmFtcy5ib2R5LFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgICAgICdEcm9wYm94LUFQSS1BcmcnOiBKU09OLnN0cmluZ2lmeShhcmdzKVxuICAgICAgfVxuICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gNDA5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1c30pO1xuICAgICAgfVxuXG4gICAgICBsZXQgYm9keSA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgQVBJIHJlc3VsdDogJyArIGJvZHkpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgIGlmIChjb21wYXJlQXBpRXJyb3IoYm9keSwgWydwYXRoJywgJ2NvbmZsaWN0J10pKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2dldE1ldGFkYXRhKHBhcmFtcy5wYXRoKS50aGVuKGZ1bmN0aW9uIChtZXRhZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDQxMixcbiAgICAgICAgICAgICAgcmV2aXNpb246IG1ldGFkYXRhLnJldlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQVBJIGVycm9yOiAnICsgYm9keS5lcnJvcl9zdW1tYXJ5KSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3JldkNhY2hlLnNldChwYXJhbXMucGF0aCwgYm9keS5yZXYpO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLCByZXZpc2lvbjogYm9keS5yZXYgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyBhIGZpbGUgb3IgYSBmb2xkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gdGhlIHBhdGggdG8gZGVsZXRlXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgZm9yIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgc3RydWN0dXJlOlxuICAgKiAgICAgICAgICBzdGF0dXNDb2RlIC0gSFRUUCBzdGF0dXMgY29kZVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RlbGV0ZVNpbXBsZSAocGF0aCkge1xuICAgIGNvbnN0IHVybCA9ICdodHRwczovL2FwaS5kcm9wYm94YXBpLmNvbS8yL2ZpbGVzL2RlbGV0ZSc7XG4gICAgY29uc3QgcmVxdWVzdEJvZHkgPSB7IHBhdGg6IGdldERyb3Bib3hQYXRoKHBhdGgpIH07XG5cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIHVybCwgeyBib2R5OiByZXF1ZXN0Qm9keSB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gNDA5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1c30pO1xuICAgICAgfVxuXG4gICAgICBsZXQgcmVzcG9uc2VCb2R5ID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0O1xuXG4gICAgICB0cnkge1xuICAgICAgICByZXNwb25zZUJvZHkgPSBKU09OLnBhcnNlKHJlc3BvbnNlQm9keSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2UgYm9keTogJyArIHJlc3BvbnNlQm9keSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgaWYgKGNvbXBhcmVBcGlFcnJvcihyZXNwb25zZUJvZHksIFsncGF0aF9sb29rdXAnLCAnbm90X2ZvdW5kJ10pKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogNDA0fSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQVBJIGVycm9yOiAnICsgcmVzcG9uc2VCb2R5LmVycm9yX3N1bW1hcnkpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogMjAwfSk7XG4gICAgfSkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgaWYgKHJlc3VsdC5zdGF0dXNDb2RlID09PSAyMDAgfHwgcmVzdWx0LnN0YXR1c0NvZGUgPT09IDQwNCkge1xuICAgICAgICB0aGlzLl9yZXZDYWNoZS5kZWxldGUocGF0aCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9pdGVtUmVmc1twYXRoXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgIGVycm9yLm1lc3NhZ2UgPSAnQ291bGQgbm90IGRlbGV0ZSBEcm9wYm94IGZpbGUgb3IgZm9sZGVyIChcIicgKyBwYXRoICsgJ1wiKTogJyArIGVycm9yLm1lc3NhZ2U7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RzIHRoZSBsaW5rIGZvciBhbiBhbHJlYWR5LXNoYXJlZCBmaWxlIG9yIGZvbGRlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBwYXRoIHRvIHRoZSBmaWxlIG9yIGZvbGRlclxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIGZvciB0aGUgc2hhcmVkIGxpbmtcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFzeW5jIF9nZXRTaGFyZWRMaW5rIChwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IHVybCA9ICdodHRwczovL2FwaS5kcm9wYm94LmNvbS8yL3NoYXJpbmcvbGlzdF9zaGFyZWRfbGlua3MnO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBib2R5OiB7XG4gICAgICAgIHBhdGg6IGdldERyb3Bib3hQYXRoKHBhdGgpLFxuICAgICAgICBkaXJlY3Rfb25seTogdHJ1ZVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIHVybCwgb3B0aW9ucykudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgIT09IDQwOSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIHN0YXR1czogJyArIHJlc3BvbnNlLnN0YXR1cykpO1xuICAgICAgfVxuXG4gICAgICBsZXQgYm9keTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYm9keSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBib2R5OiAnICsgcmVzcG9uc2UucmVzcG9uc2VUZXh0KSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdBUEkgZXJyb3I6ICcgKyByZXNwb25zZS5lcnJvcl9zdW1tYXJ5KSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghYm9keS5saW5rcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignTm8gbGlua3MgcmV0dXJuZWQnKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYm9keS5saW5rc1swXS51cmwpO1xuICAgIH0sIGVycm9yID0+IHtcbiAgICAgIGVycm9yLm1lc3NhZ2UgPSAnQ291bGQgbm90IGdldCBsaW5rIHRvIGEgc2hhcmVkIGZpbGUgb3IgZm9sZGVyIChcIicgKyBwYXRoICsgJ1wiKTogJyArIGVycm9yLm1lc3NhZ2U7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIERyb3Bib3ggYmFja2VuZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlbW90ZVN0b3JhZ2UgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHN0YXRpYyBfcnNfaW5pdCAocnMpOiB2b2lkIHtcbiAgICBoYXNMb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2VBdmFpbGFibGUoKTtcbiAgICBpZiAoIHJzLmFwaUtleXMuZHJvcGJveCApIHtcbiAgICAgIHJzLmRyb3Bib3ggPSBuZXcgRHJvcGJveChycyk7XG4gICAgfVxuICAgIGlmIChycy5iYWNrZW5kID09PSAnZHJvcGJveCcpIHtcbiAgICAgIGhvb2tJdChycyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluZm9ybSBhYm91dCB0aGUgYXZhaWxhYmlsaXR5IG9mIHRoZSBEcm9wYm94IGJhY2tlbmQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBycyAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHN0YXRpYyBfcnNfc3VwcG9ydGVkICgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgRHJvcGJveCBhcyBhIGJhY2tlbmQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZW1vdGVTdG9yYWdlIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzdGF0aWMgX3JzX2NsZWFudXAgKHJzKTogdm9pZCB7XG4gICAgdW5Ib29rSXQocnMpO1xuICAgIGlmIChoYXNMb2NhbFN0b3JhZ2Upe1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU0VUVElOR1NfS0VZKTtcbiAgICB9XG4gICAgcnMuc2V0QmFja2VuZCh1bmRlZmluZWQpO1xuICB9XG59XG5cbi8qKlxuICogSG9va2luZyB0aGUgc3luY1xuICpcbiAqIFRPRE86IGRvY3VtZW50XG4gKi9cbmZ1bmN0aW9uIGhvb2tTeW5jKHJzLCAuLi5hcmdzKSB7XG4gIGlmIChycy5fZHJvcGJveE9yaWdTeW5jKSB7IHJldHVybjsgfSAvLyBhbHJlYWR5IGhvb2tlZFxuICBycy5fZHJvcGJveE9yaWdTeW5jID0gcnMuc3luYy5zeW5jLmJpbmQocnMuc3luYyk7XG4gIHJzLnN5bmMuc3luYyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kcm9wYm94LmZldGNoRGVsdGEocnMsIC4uLmFyZ3MpLlxuICAgICAgdGhlbihycy5fZHJvcGJveE9yaWdTeW5jLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHJzLl9lbWl0KCdlcnJvcicsIG5ldyBTeW5jRXJyb3IoZXJyKSk7XG4gICAgICAgIHJzLl9lbWl0KCdzeW5jLWRvbmUnKTtcbiAgICAgIH0pO1xuICB9LmJpbmQocnMpO1xufVxuXG4vKipcbiAqIFVuaG9va2luZyB0aGUgc3luY1xuICpcbiAqIFRPRE86IGRvY3VtZW50XG4gKi9cbmZ1bmN0aW9uIHVuSG9va1N5bmMocnMpIHtcbiAgaWYgKCEgcnMuX2Ryb3Bib3hPcmlnU3luYykgeyByZXR1cm47IH0gLy8gbm90IGhvb2tlZFxuICBycy5zeW5jLnN5bmMgPSBycy5fZHJvcGJveE9yaWdTeW5jO1xuICBkZWxldGUgcnMuX2Ryb3Bib3hPcmlnU3luYztcbn1cblxuLyoqXG4gKiBIb29rIFJlbW90ZVN0b3JhZ2Uuc3luY0N5Y2xlIGFzIGl0J3MgdGhlIGZpcnN0IGZ1bmN0aW9uIGNhbGxlZFxuICogYWZ0ZXIgUmVtb3RlU3RvcmFnZS5zeW5jIGlzIGluaXRpYWxpemVkLCBzbyB3ZSBjYW4gdGhlbiBob29rXG4gKiB0aGUgc3luYyBmdW5jdGlvblxuICogQHBhcmFtIHtvYmplY3R9IHJzIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gaG9va1N5bmNDeWNsZShycywgLi4uYXJncykge1xuICBpZiAocnMuX2Ryb3Bib3hPcmlnU3luY0N5Y2xlKSB7IHJldHVybjsgfSAvLyBhbHJlYWR5IGhvb2tlZFxuICBycy5fZHJvcGJveE9yaWdTeW5jQ3ljbGUgPSBycy5zeW5jQ3ljbGU7XG4gIHJzLnN5bmNDeWNsZSA9ICgpID0+IHtcbiAgICBpZiAocnMuc3luYykge1xuICAgICAgaG9va1N5bmMocnMpO1xuICAgICAgcnMuX2Ryb3Bib3hPcmlnU3luY0N5Y2xlKHJzLCAuLi5hcmdzKTtcbiAgICAgIHVuSG9va1N5bmNDeWNsZShycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgc3luYyB0byBiZSBpbml0aWFsaXplZCBieSBub3cnKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogUmVzdG9yZSBSZW1vdGVTdG9yYWdlJ3Mgc3luY0N5Y2xlIG9yaWdpbmFsIGltcGxlbWVudGF0aW9uXG4gKiBAcGFyYW0ge29iamVjdH0gcnMgUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiB1bkhvb2tTeW5jQ3ljbGUocnMpIHtcbiAgaWYgKCFycy5fZHJvcGJveE9yaWdTeW5jQ3ljbGUpIHsgcmV0dXJuOyB9IC8vIG5vdCBob29rZWRcbiAgcnMuc3luY0N5Y2xlID0gcnMuX2Ryb3Bib3hPcmlnU3luY0N5Y2xlO1xuICBkZWxldGUgcnMuX2Ryb3Bib3hPcmlnU3luY0N5Y2xlO1xufVxuXG4vKipcbiAqIE92ZXJ3cml0ZSBCYXNlQ2xpZW50J3MgZ2V0SXRlbVVSTCB3aXRoIG91ciBvd24gaW1wbGVtZW50YXRpb25cbiAqXG4gKiBUT0RPOiBnZXRJdGVtVVJMIHN0aWxsIG5lZWRzIHRvIGJlIGltcGxlbWVudGVkXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHJzIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGhvb2tHZXRJdGVtVVJMIChycykge1xuICBpZiAocnMuX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTCkgeyByZXR1cm47IH1cbiAgcnMuX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTCA9IEJhc2VDbGllbnQucHJvdG90eXBlLmdldEl0ZW1VUkw7XG4gIEJhc2VDbGllbnQucHJvdG90eXBlLmdldEl0ZW1VUkwgPSBmdW5jdGlvbiAoLypwYXRoKi8pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldEl0ZW1VUkwgaXMgbm90IGltcGxlbWVudGVkIGZvciBEcm9wYm94IHlldCcpO1xuICB9O1xufVxuXG4vKipcbiAqIFJlc3RvcmUgQmFzZUNsaWVudCdzIGdldEl0ZW1VUkwgb3JpZ2luYWwgaW1wbGVtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcnMgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdW5Ib29rR2V0SXRlbVVSTChycyl7XG4gIGlmICghIHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkwpIHsgcmV0dXJuOyB9XG4gIEJhc2VDbGllbnQucHJvdG90eXBlLmdldEl0ZW1VUkwgPSBycy5fb3JpZ0Jhc2VDbGllbnRHZXRJdGVtVVJMO1xuICBkZWxldGUgcnMuX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTDtcbn1cblxuLyoqXG4gKiBUT0RPOiBkb2N1bWVudFxuICovXG5mdW5jdGlvbiBob29rUmVtb3RlKHJzKXtcbiAgaWYgKHJzLl9vcmlnUmVtb3RlKSB7IHJldHVybjsgfVxuICBycy5fb3JpZ1JlbW90ZSA9IHJzLnJlbW90ZTtcbiAgcnMucmVtb3RlID0gcnMuZHJvcGJveDtcbn1cblxuLyoqXG4gKiBUT0RPOiBkb2N1bWVudFxuICovXG5mdW5jdGlvbiB1bkhvb2tSZW1vdGUocnMpe1xuICBpZiAocnMuX29yaWdSZW1vdGUpIHtcbiAgICBycy5yZW1vdGUgPSBycy5fb3JpZ1JlbW90ZTtcbiAgICBkZWxldGUgcnMuX29yaWdSZW1vdGU7XG4gIH1cbn1cblxuLyoqXG4gKiBUT0RPOiBkb2N1bWVudFxuICovXG5mdW5jdGlvbiBob29rSXQocnMpe1xuICBob29rUmVtb3RlKHJzKTtcbiAgaWYgKHJzLnN5bmMpIHtcbiAgICBob29rU3luYyhycyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gd2hlbiBzeW5jIGlzIG5vdCBhdmFpbGFibGUgeWV0LCB3ZSBob29rIHRoZSBzeW5jQ3ljbGUgZnVuY3Rpb24gd2hpY2ggaXMgY2FsbGVkXG4gICAgLy8gcmlnaHQgYWZ0ZXIgc3luYyBpcyBpbml0aWFsaXplZFxuICAgIGhvb2tTeW5jQ3ljbGUocnMpO1xuICB9XG4gIGhvb2tHZXRJdGVtVVJMKHJzKTtcbn1cblxuLyoqXG4gKiBUT0RPOiBkb2N1bWVudFxuICovXG5mdW5jdGlvbiB1bkhvb2tJdChycyl7XG4gIHVuSG9va1JlbW90ZShycyk7XG4gIHVuSG9va1N5bmMocnMpO1xuICB1bkhvb2tHZXRJdGVtVVJMKHJzKTtcbiAgdW5Ib29rU3luY0N5Y2xlKHJzKTtcbn1cblxuaW50ZXJmYWNlIERyb3Bib3ggZXh0ZW5kcyBFdmVudEhhbmRsaW5nIHt9O1xuYXBwbHlNaXhpbnMoRHJvcGJveCwgW0V2ZW50SGFuZGxpbmddKTtcblxuZXhwb3J0ID0gRHJvcGJveDtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFdlYkZpbmdlciBmcm9tICd3ZWJmaW5nZXIuanMnO1xuaW1wb3J0IGxvZyBmcm9tICcuL2xvZyc7XG5pbXBvcnQgeyBnbG9iYWxDb250ZXh0LCBsb2NhbFN0b3JhZ2VBdmFpbGFibGUgfSBmcm9tICcuL3V0aWwnO1xuXG4vLyBmZWF0dXJlIGRldGVjdGlvbiBmbGFnc1xubGV0IGhhdmVYTUxIdHRwUmVxdWVzdCwgaGFzTG9jYWxTdG9yYWdlO1xuXG4vLyB1c2VkIHRvIHN0b3JlIHNldHRpbmdzIGluIGxvY2FsU3RvcmFnZVxuY29uc3QgU0VUVElOR1NfS0VZID0gJ3JlbW90ZXN0b3JhZ2U6ZGlzY292ZXInO1xuXG4vLyBjYWNoZSBsb2FkZWQgZnJvbSBsb2NhbFN0b3JhZ2Vcbi8vIFRPRE8gdXNlIGNsYXNzIHByb3BlcnR5XG5sZXQgY2FjaGVkSW5mbyA9IHt9O1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gZGVhbHMgd2l0aCB0aGUgV2ViZmluZ2VyIGxvb2t1cCwgZGlzY292ZXJpbmcgYSBjb25uZWN0aW5nXG4gKiB1c2VyJ3Mgc3RvcmFnZSBkZXRhaWxzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VyQWRkcmVzcyAtIHVzZXJAaG9zdFxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgZm9yIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcy5cbiAqICAgICAgICAgIGhyZWYgLSBTdG9yYWdlIGJhc2UgVVJMLFxuICogICAgICAgICAgc3RvcmFnZUFwaSAtIFJTIHByb3RvY29sIHZlcnNpb24sXG4gKiAgICAgICAgICBhdXRoVXJsIC0gT0F1dGggVVJMLFxuICogICAgICAgICAgcHJvcGVydGllcyAtIFdlYmZpbmdlciBsaW5rIHByb3BlcnRpZXNcbiAqKi9cblxuY29uc3QgRGlzY292ZXIgPSBmdW5jdGlvbiBEaXNjb3Zlcih1c2VyQWRkcmVzczogc3RyaW5nKTogUHJvbWlzZTxTdG9yYWdlSW5mbz4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgaWYgKHVzZXJBZGRyZXNzIGluIGNhY2hlZEluZm8pIHtcbiAgICAgIHJldHVybiByZXNvbHZlKGNhY2hlZEluZm9bdXNlckFkZHJlc3NdKTtcbiAgICB9XG5cbiAgICBjb25zdCB3ZWJGaW5nZXIgPSBuZXcgV2ViRmluZ2VyKHtcbiAgICAgIHRsc19vbmx5OiBmYWxzZSxcbiAgICAgIHVyaV9mYWxsYmFjazogdHJ1ZSxcbiAgICAgIHJlcXVlc3RfdGltZW91dDogNTAwMFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHdlYkZpbmdlci5sb29rdXAodXNlckFkZHJlc3MsIGZ1bmN0aW9uIChlcnIsIHJlc3BvbnNlKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgIH0gZWxzZSBpZiAoKHR5cGVvZiByZXNwb25zZS5pZHgubGlua3MucmVtb3Rlc3RvcmFnZSAhPT0gJ29iamVjdCcpIHx8XG4gICAgICAgICAgICAgICAgICh0eXBlb2YgcmVzcG9uc2UuaWR4LmxpbmtzLnJlbW90ZXN0b3JhZ2UubGVuZ3RoICE9PSAnbnVtYmVyJykgfHxcbiAgICAgICAgICAgICAgICAgKHJlc3BvbnNlLmlkeC5saW5rcy5yZW1vdGVzdG9yYWdlLmxlbmd0aCA8PSAwKSkge1xuICAgICAgICBsb2coXCJbRGlzY292ZXJdIFdlYkZpbmdlciByZWNvcmQgZm9yIFwiICsgdXNlckFkZHJlc3MgKyBcIiBkb2VzIG5vdCBoYXZlIHJlbW90ZXN0b3JhZ2UgZGVmaW5lZCBpbiB0aGUgbGlua3Mgc2VjdGlvbiBcIiwgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuanNvbikpO1xuICAgICAgICByZXR1cm4gcmVqZWN0KFwiV2ViRmluZ2VyIHJlY29yZCBmb3IgXCIgKyB1c2VyQWRkcmVzcyArIFwiIGRvZXMgbm90IGhhdmUgcmVtb3Rlc3RvcmFnZSBkZWZpbmVkIGluIHRoZSBsaW5rcyBzZWN0aW9uLlwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcnMgPSByZXNwb25zZS5pZHgubGlua3MucmVtb3Rlc3RvcmFnZVswXTtcbiAgICAgIGNvbnN0IGF1dGhVUkwgPSBycy5wcm9wZXJ0aWVzWydodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NzQ5I3NlY3Rpb24tNC4yJ10gfHxcbiAgICAgICAgICAgICAgICAgICAgcnMucHJvcGVydGllc1snYXV0aC1lbmRwb2ludCddO1xuICAgICAgY29uc3Qgc3RvcmFnZUFwaSA9IHJzLnByb3BlcnRpZXNbJ2h0dHA6Ly9yZW1vdGVzdG9yYWdlLmlvL3NwZWMvdmVyc2lvbiddIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIHJzLnR5cGU7XG5cbiAgICAgIC8vIGNhY2hlIGZldGNoZWQgZGF0YVxuICAgICAgY2FjaGVkSW5mb1t1c2VyQWRkcmVzc10gPSB7XG4gICAgICAgIGhyZWY6IHJzLmhyZWYsXG4gICAgICAgIHN0b3JhZ2VBcGk6IHN0b3JhZ2VBcGksXG4gICAgICAgIGF1dGhVUkw6IGF1dGhVUkwsXG4gICAgICAgIHByb3BlcnRpZXM6IHJzLnByb3BlcnRpZXNcbiAgICAgIH07XG5cbiAgICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlW1NFVFRJTkdTX0tFWV0gPSBKU09OLnN0cmluZ2lmeSh7IGNhY2hlOiBjYWNoZWRJbmZvIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzb2x2ZShjYWNoZWRJbmZvW3VzZXJBZGRyZXNzXSk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuRGlzY292ZXIuRGlzY292ZXJ5RXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gIHRoaXMubmFtZSA9ICdEaXNjb3ZlcnlFcnJvcic7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xufTtcbkRpc2NvdmVyLkRpc2NvdmVyeUVycm9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbkRpc2NvdmVyLkRpc2NvdmVyeUVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERpc2NvdmVyLkRpc2NvdmVyeUVycm9yO1xuXG5EaXNjb3Zlci5fcnNfaW5pdCA9IGZ1bmN0aW9uICgvKnJlbW90ZVN0b3JhZ2UqLyk6IHZvaWQge1xuICBoYXNMb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2VBdmFpbGFibGUoKTtcbiAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzZXR0aW5ncyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlW1NFVFRJTkdTX0tFWV0pO1xuICAgICAgY2FjaGVkSW5mbyA9IHNldHRpbmdzLmNhY2hlO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgLyogZW1wdHkgKi9cbiAgICB9XG4gIH1cbn07XG5cbkRpc2NvdmVyLl9yc19zdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKTogYm9vbGVhbiB7XG4gIGhhdmVYTUxIdHRwUmVxdWVzdCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChnbG9iYWxDb250ZXh0LCAnWE1MSHR0cFJlcXVlc3QnKTtcbiAgcmV0dXJuIGhhdmVYTUxIdHRwUmVxdWVzdDtcbn07XG5cbkRpc2NvdmVyLl9yc19jbGVhbnVwID0gZnVuY3Rpb24gKCk6IHZvaWQge1xuICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtTRVRUSU5HU19LRVldO1xuICB9XG59O1xuXG5cbmV4cG9ydCA9IERpc2NvdmVyO1xuIiwiaW1wb3J0IEV2ZW50SGFuZGxpbmcgZnJvbSAnLi9ldmVudGhhbmRsaW5nJztcbmltcG9ydCB7IGFwcGx5TWl4aW5zIH0gZnJvbSAnLi91dGlsJztcblxuY2xhc3MgRW52IHtcbiAgaGlkZGVuUHJvcGVydHk6IFwiaGlkZGVuXCIgfCBcIm1vekhpZGRlblwiIHwgXCJtc0hpZGRlblwiIHwgXCJ3ZWJraXRIaWRkZW5cIjtcbiAgdmlzaWJpbGl0eUNoYW5nZUV2ZW50OiBcInZpc2liaWxpdHljaGFuZ2VcIiB8IFwibW96dmlzaWJpbGl0eWNoYW5nZVwiIHwgXCJtc3Zpc2liaWxpdHljaGFuZ2VcIiB8IFwid2Via2l0dmlzaWJpbGl0eWNoYW5nZVwiO1xuICBtb2RlOiBcImJyb3dzZXJcIiB8IFwibm9kZVwiO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYWRkRXZlbnRzKFtcImJhY2tncm91bmRcIiwgXCJmb3JlZ3JvdW5kXCJdKTtcblxuICAgIHRoaXMubW9kZSA9IHR5cGVvZih3aW5kb3cpICE9PSAndW5kZWZpbmVkJyA/ICdicm93c2VyJyA6ICdub2RlJztcblxuICAgIGlmICh0aGlzLm1vZGUgPT09ICdicm93c2VyJykge1xuICAgICAgdGhpcy5zZXRCcm93c2VyUHJlZml4ZWROYW1lcygpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnZpc2liaWxpdHlDaGFuZ2VFdmVudCwgdGhpcy5zZXRWaXNpYmlsaXR5LmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICAgIHRoaXMuc2V0VmlzaWJpbGl0eSgpO1xuICAgIH1cbiAgfVxuXG4gIHNldEJyb3dzZXJQcmVmaXhlZE5hbWVzICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5tb2RlICE9PSAnYnJvd3NlcicpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAodHlwZW9mIGRvY3VtZW50LmhpZGRlbiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5oaWRkZW5Qcm9wZXJ0eSA9IFwiaGlkZGVuXCI7XG4gICAgICB0aGlzLnZpc2liaWxpdHlDaGFuZ2VFdmVudCA9IFwidmlzaWJpbGl0eWNoYW5nZVwiO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRvY3VtZW50W1wibW96SGlkZGVuXCJdICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLmhpZGRlblByb3BlcnR5ID0gXCJtb3pIaWRkZW5cIjtcbiAgICAgIHRoaXMudmlzaWJpbGl0eUNoYW5nZUV2ZW50ID0gXCJtb3p2aXNpYmlsaXR5Y2hhbmdlXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZG9jdW1lbnRbXCJtc0hpZGRlblwiXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5oaWRkZW5Qcm9wZXJ0eSA9IFwibXNIaWRkZW5cIjtcbiAgICAgIHRoaXMudmlzaWJpbGl0eUNoYW5nZUV2ZW50ID0gXCJtc3Zpc2liaWxpdHljaGFuZ2VcIjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudFtcIndlYmtpdEhpZGRlblwiXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5oaWRkZW5Qcm9wZXJ0eSA9IFwid2Via2l0SGlkZGVuXCI7XG4gICAgICB0aGlzLnZpc2liaWxpdHlDaGFuZ2VFdmVudCA9IFwid2Via2l0dmlzaWJpbGl0eWNoYW5nZVwiO1xuICAgIH1cbiAgfVxuXG4gIHNldFZpc2liaWxpdHkgKCk6IHZvaWQge1xuICAgIGlmIChkb2N1bWVudFt0aGlzLmhpZGRlblByb3BlcnR5XSkge1xuICAgICAgdGhpcy5nb0JhY2tncm91bmQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5nb0ZvcmVncm91bmQoKTtcbiAgICB9XG4gIH1cblxuICBpc0Jyb3dzZXIgKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1vZGUgPT09IFwiYnJvd3NlclwiO1xuICB9XG5cbiAgaXNOb2RlICgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlID09PSBcIm5vZGVcIjtcbiAgfVxuXG4gIGdvQmFja2dyb3VuZCAoKTogdm9pZCB7XG4gICAgdGhpcy5fZW1pdChcImJhY2tncm91bmRcIik7XG4gIH1cblxuICBnb0ZvcmVncm91bmQgKCk6IHZvaWQge1xuICAgIHRoaXMuX2VtaXQoXCJmb3JlZ3JvdW5kXCIpO1xuICB9XG5cbiAgc3RhdGljIF9yc19pbml0ICgvKiByZW1vdGVTdG9yYWdlICovKTogdm9pZCB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3RhdGljIF9yc19jbGVhbnVwICgvKiByZW1vdGVTdG9yYWdlICovKTogdm9pZCB7XG4gICAgcmV0dXJuO1xuICB9XG59O1xuXG5pbnRlcmZhY2UgRW52IGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKEVudiwgW0V2ZW50SGFuZGxpbmddKTtcblxuZXhwb3J0ID0gRW52O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBsb2cgZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHtcbiAgYXBwbHlNaXhpbnMsXG4gIGdldEdsb2JhbENvbnRleHQsXG4gIGdldEpTT05Gcm9tTG9jYWxTdG9yYWdlLFxuICBleHRlbmQsXG4gIGxvY2FsU3RvcmFnZUF2YWlsYWJsZVxufSBmcm9tICcuL3V0aWwnO1xuXG5pbXBvcnQgQWNjZXNzIGZyb20gJy4vYWNjZXNzJztcbmltcG9ydCBBdXRob3JpemUgZnJvbSAnLi9hdXRob3JpemUnO1xuaW1wb3J0IEJhc2VDbGllbnQgZnJvbSAnLi9iYXNlY2xpZW50JztcbmltcG9ydCBDYWNoaW5nIGZyb20gJy4vY2FjaGluZyc7XG5pbXBvcnQgSW5kZXhlZERCIGZyb20gJy4vaW5kZXhlZGRiJztcbmltcG9ydCBJbk1lbW9yeVN0b3JhZ2UgZnJvbSAnLi9pbm1lbW9yeXN0b3JhZ2UnO1xuaW1wb3J0IExvY2FsU3RvcmFnZSBmcm9tICcuL2xvY2Fsc3RvcmFnZSc7XG5pbXBvcnQgRXZlbnRIYW5kbGluZyBmcm9tICcuL2V2ZW50aGFuZGxpbmcnO1xuaW1wb3J0IEdvb2dsZURyaXZlIGZyb20gJy4vZ29vZ2xlZHJpdmUnO1xuaW1wb3J0IERyb3Bib3ggZnJvbSAnLi9kcm9wYm94JztcbmltcG9ydCBEaXNjb3ZlciBmcm9tICcuL2Rpc2NvdmVyJztcbmltcG9ydCBTeW5jRXJyb3IgZnJvbSAnLi9zeW5jLWVycm9yJztcbmltcG9ydCBVbmF1dGhvcml6ZWRFcnJvciBmcm9tICcuL3VuYXV0aG9yaXplZC1lcnJvcic7XG5pbXBvcnQgRmVhdHVyZXMgZnJvbSAnLi9mZWF0dXJlcyc7XG5cbi8vIFRPRE8gdGhpcyBpcyBhc3NpZ25lZCB0byBSZW1vdGVTdG9yYWdlLnV0aWwgbGF0ZXI7IGNoZWNrIGlmIHN0aWxsIG5lZWRlZFxuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuL3V0aWwnO1xuXG5pbnRlcmZhY2UgUlNNb2R1bGUge1xuICBuYW1lOiBzdHJpbmc7XG4gIGJ1aWxkZXI6IEZ1bmN0aW9uOyAvLyBUT0RPIGRldGFpbGVkIHR5cGVcbn1cblxuY29uc3QgZ2xvYmFsQ29udGV4dCA9IGdldEdsb2JhbENvbnRleHQoKTtcbi8vIGRlY2xhcmUgZ2xvYmFsIHtcbi8vICAgaW50ZXJmYWNlIFdpbmRvdyB7IGNvcmRvdmE6IGFueSB9O1xuLy8gfVxuXG5sZXQgaGFzTG9jYWxTdG9yYWdlOiBib29sZWFuO1xuXG4vLyBUT0RPIGRvY3VtZW50IGFuZC9vciByZWZhY3RvciAoc2VlbXMgd2VpcmQpXG5mdW5jdGlvbiBlbWl0VW5hdXRob3JpemVkKHIpIHtcbiAgaWYgKHIuc3RhdHVzQ29kZSA9PT0gNDAzICB8fCByLnN0YXR1c0NvZGUgPT09IDQwMSkge1xuICAgIHRoaXMuX2VtaXQoJ2Vycm9yJywgbmV3IFVuYXV0aG9yaXplZEVycm9yKCkpO1xuICB9XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUocik7XG59XG5cbi8qKlxuKiBDaGVjayBpZiBpbnRlcnZhbCBpcyB2YWxpZDogbnVtZXJpYyBhbmQgYmV0d2VlbiAxMDAwbXMgYW5kIDM2MDAwMDBtc1xuKi9cbmZ1bmN0aW9uIGlzVmFsaWRJbnRlcnZhbChpbnRlcnZhbDogdW5rbm93bik6IGludGVydmFsIGlzIG51bWJlciB7XG4gIHJldHVybiAodHlwZW9mIGludGVydmFsID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgIGludGVydmFsID4gMTAwMCAmJlxuICAgICAgICAgIGludGVydmFsIDwgMzYwMDAwMCk7XG59XG5cbi8qKlxuICogQ29uc3RydWN0b3IgZm9yIHRoZSByZW1vdGVTdG9yYWdlIG9iamVjdC9pbnN0YW5jZVxuICpcbiAqIFRoaXMgY2xhc3MgcHJpbWFyaWx5IGNvbnRhaW5zIGZlYXR1cmUgZGV0ZWN0aW9uIGNvZGUgYW5kIGNvbnZlbmllbmNlIEFQSS5cbiAqXG4gKiBEZXBlbmRpbmcgb24gd2hpY2ggZmVhdHVyZXMgYXJlIGJ1aWx0IGluLCBpdCBjb250YWlucyBkaWZmZXJlbnQgYXR0cmlidXRlc1xuICogYW5kIGZ1bmN0aW9ucy4gU2VlIHRoZSBpbmRpdmlkdWFsIGZlYXR1cmVzIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgLSBhbiBvcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICogQGNsYXNzXG4gKi9cbmNsYXNzIFJlbW90ZVN0b3JhZ2Uge1xuICAvKipcbiAgICogUGVuZGluZyBnZXQvcHV0L2RlbGV0ZSBjYWxsc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3BlbmRpbmc6IHtba2V5OiBzdHJpbmddOiBhbnl9W10gPSBbXTtcblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICovXG4gIF9jbGVhbnVwczogW10gPSBbXTtcblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICovXG4gIF9wYXRoSGFuZGxlcnM6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7IGNoYW5nZToge30gfTtcblxuICAvKipcbiAgICogSG9sZHMgT0F1dGggYXBwIGtleXMgZm9yIERyb3Bib3gsIEdvb2dsZSBEcml2ZVxuICAgKi9cbiAgYXBpS2V5czogb2JqZWN0ID0ge307XG5cbiAgLyoqXG4gICAqIEhvbGRzIHRoZSBmZWF0dXJlIGNsYXNzIGluc3RhbmNlLCBhZGRlZCBieSBmZWF0dXJlIGluaXRpYWxpemF0aW9uXG4gICAqIFRPRE8gdXNlIHR5cGUgQWNjZXNzXG4gICAqL1xuICBhY2Nlc3M6IGFueTtcbiAgLyoqXG4gICAqIEhvbGRzIHRoZSBmZWF0dXJlIGNsYXNzIGluc3RhbmNlLCBhZGRlZCBieSBmZWF0dXJlIGluaXRpYWxpemF0aW9uXG4gICAqIFRPRE8gdXNlIHR5cGUgU3luY1xuICAgKi9cbiAgc3luYzogYW55O1xuICAvKipcbiAgICogSG9sZHMgdGhlIGZlYXR1cmUgY2xhc3MgaW5zdGFuY2UsIGFkZGVkIGJ5IGZlYXR1cmUgaW5pdGlhbGl6YXRpb25cbiAgICovXG4gIGNhY2hpbmc6IENhY2hpbmc7XG5cbiAgLy8gVE9ETyB1c2UgY29ycmVjdCB0eXBlcywgZG9jdW1lbnRcbiAgX3N5bmNUaW1lcjogYW55O1xuICBzeW5jU3RvcHBlZDogYW55O1xuICBnZXQ6IGFueTtcbiAgcHV0OiBhbnk7XG4gIGRlbGV0ZTogYW55O1xuXG4gIGJhY2tlbmQ6ICdyZW1vdGVzdG9yYWdlJyB8ICdkcm9wYm94JyB8ICdnb29nbGVkcml2ZSc7XG5cbiAgLyoqXG4gICAqIEhvbGRzIGEgV2lyZUNsaWVudCBpbnN0YW5jZSwgYWRkZWQgYnkgZmVhdHVyZSBpbml0aWFsaXphdGlvblxuICAgKiBUT0RPIHVzZSBjb3JyZWN0IHR5cGVcbiAgICovXG4gIHJlbW90ZTogYW55O1xuXG4gIC8qXG4gICAqIEFjY2VzcyB0byB0aGUgbG9jYWwgY2FjaGluZyBiYWNrZW5kIHVzZWQuIFVzdWFsbHkgZWl0aGVyIGFcbiAgICogPFJlbW90ZVN0b3JhZ2UuSW5kZXhlZERCPiBvciA8UmVtb3RlU3RvcmFnZS5Mb2NhbFN0b3JhZ2U+IGluc3RhbmNlLlxuICAgKlxuICAgKiBOb3QgYXZhaWxhYmxlLCB3aGVuIGNhY2hpbmcgaXMgdHVybmVkIG9mZi5cbiAgICovXG4gIGxvY2FsOiBJbmRleGVkREIgfCBMb2NhbFN0b3JhZ2UgfCBJbk1lbW9yeVN0b3JhZ2U7XG5cbiAgZHJvcGJveDogRHJvcGJveDtcbiAgZ29vZ2xlZHJpdmU6IEdvb2dsZURyaXZlO1xuXG4gIGZpcmVJbml0aWFsOiBGdW5jdGlvbjtcblxuICBvbjogYW55O1xuXG4gIGNvbnN0cnVjdG9yIChjZmc/OiBvYmplY3QpIHtcbiAgICAvLyBJbml0aWFsIGNvbmZpZ3VyYXRpb24gcHJvcGVydHkgc2V0dGluZ3MuXG4gICAgLy8gVE9ETyB1c2UgbW9kZXJuIEpTIHRvIG1lcmdlIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgaWYgKHR5cGVvZiBjZmcgPT09ICdvYmplY3QnKSB7IGV4dGVuZChjb25maWcsIGNmZyk7IH1cblxuICAgIHRoaXMuYWRkRXZlbnRzKFtcbiAgICAgICdyZWFkeScsICdhdXRoaW5nJywgJ2Nvbm5lY3RpbmcnLCAnY29ubmVjdGVkJywgJ2Rpc2Nvbm5lY3RlZCcsXG4gICAgICAnbm90LWNvbm5lY3RlZCcsICdjb25mbGljdCcsICdlcnJvcicsICdmZWF0dXJlcy1sb2FkZWQnLFxuICAgICAgJ3N5bmMtaW50ZXJ2YWwtY2hhbmdlJywgJ3N5bmMtcmVxLWRvbmUnLCAnc3luYy1kb25lJyxcbiAgICAgICd3aXJlLWJ1c3knLCAnd2lyZS1kb25lJywgJ25ldHdvcmstb2ZmbGluZScsICduZXR3b3JrLW9ubGluZSdcbiAgICBdKTtcblxuICAgIHRoaXMuX3NldEdQRCh7XG4gICAgICBnZXQ6IHRoaXMuX3BlbmRpbmdHUEQoJ2dldCcpLFxuICAgICAgcHV0OiB0aGlzLl9wZW5kaW5nR1BEKCdwdXQnKSxcbiAgICAgIGRlbGV0ZTogdGhpcy5fcGVuZGluZ0dQRCgnZGVsZXRlJylcbiAgICB9KTtcblxuICAgIGhhc0xvY2FsU3RvcmFnZSA9IGxvY2FsU3RvcmFnZUF2YWlsYWJsZSgpO1xuXG4gICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgdGhpcy5hcGlLZXlzID0gZ2V0SlNPTkZyb21Mb2NhbFN0b3JhZ2UoJ3JlbW90ZXN0b3JhZ2U6YXBpLWtleXMnKSB8fCB7fTtcbiAgICAgIHRoaXMuc2V0QmFja2VuZChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncmVtb3Rlc3RvcmFnZTpiYWNrZW5kJykgfHwgJ3JlbW90ZXN0b3JhZ2UnKTtcbiAgICB9XG5cbiAgICAvLyBLZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBvcmdpbmFsIGBvbmAgZnVuY3Rpb25cbiAgICBjb25zdCBvcmlnT24gPSB0aGlzLm9uO1xuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYW4gZXZlbnQgaGFuZGxlci4gU2VlIDpyZWY6YHJzLWV2ZW50c2AgZm9yIGF2YWlsYWJsZSBldmVudCBuYW1lcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBOYW1lIG9mIHRoZSBldmVudFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgLSBFdmVudCBoYW5kbGVyXG4gICAgICovXG4gICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICAgIGlmICh0aGlzLl9hbGxMb2FkZWQpIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGhhbmRsZXIgc2hvdWxkIGJlIGNhbGxlZCBpbW1lZGlhdGVseSwgYmVjYXVzZSB0aGVcbiAgICAgICAgLy8gZXZlbnQgaGFzIGhhcHBlbmVkIGFscmVhZHlcbiAgICAgICAgc3dpdGNoKGV2ZW50TmFtZSkge1xuICAgICAgICAgIGNhc2UgJ2ZlYXR1cmVzLWxvYWRlZCc6XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGhhbmRsZXIsIDApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAncmVhZHknOlxuICAgICAgICAgICAgaWYgKHRoaXMucmVtb3RlKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoaGFuZGxlciwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgICAgaWYgKHRoaXMucmVtb3RlICYmIHRoaXMucmVtb3RlLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGhhbmRsZXIsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbm90LWNvbm5lY3RlZCc6XG4gICAgICAgICAgICBpZiAodGhpcy5yZW1vdGUgJiYgIXRoaXMucmVtb3RlLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGhhbmRsZXIsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9yaWdPbi5jYWxsKHRoaXMsIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfTtcblxuICAgIC8vIGxvYWQgYWxsIGZlYXR1cmVzIGFuZCBlbWl0IGByZWFkeWBcbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgICAvKipcbiAgICAgKiBUT0RPOiBkb2N1bWVudFxuICAgICAqL1xuICAgIHRoaXMuZmlyZUluaXRpYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5sb2NhbCkge1xuICAgICAgICBzZXRUaW1lb3V0KHRoaXMubG9jYWwuZmlyZUluaXRpYWwuYmluZCh0aGlzLmxvY2FsKSwgMCk7XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5vbigncmVhZHknLCB0aGlzLmZpcmVJbml0aWFsLmJpbmQodGhpcykpO1xuICAgIHRoaXMubG9hZE1vZHVsZXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmRpY2F0aW5nIGlmIHJlbW90ZVN0b3JhZ2UgaXMgY3VycmVudGx5IGNvbm5lY3RlZC5cbiAgICovXG4gIGdldCBjb25uZWN0ZWQgKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnJlbW90ZS5jb25uZWN0ZWQ7XG4gIH1cblxuICAvLyBGSVhNRTogSW5zdGVhZCBvZiBkb2luZyB0aGlzLCB3b3VsZCBiZSBiZXR0ZXIgdG8gb25seVxuICAvLyBleHBvcnQgc2V0QXV0aFVSTCAvIGdldEF1dGhVUkwgZnJvbSBSZW1vdGVTdG9yYWdlIHByb3RvdHlwZVxuICBzdGF0aWMgQXV0aG9yaXplID0gQXV0aG9yaXplO1xuXG4gIHN0YXRpYyBTeW5jRXJyb3IgPSBTeW5jRXJyb3I7XG4gIHN0YXRpYyBVbmF1dGhvcml6ZWQgPSBVbmF1dGhvcml6ZWRFcnJvcjtcbiAgc3RhdGljIERpc2NvdmVyeUVycm9yID0gRGlzY292ZXIuRGlzY292ZXJ5RXJyb3I7XG4gIHN0YXRpYyB1dGlsID0gdXRpbDtcblxuICAvKipcbiAgICogTG9hZCBhbGwgbW9kdWxlcyBwYXNzZWQgYXMgYXJndW1lbnRzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBsb2FkTW9kdWxlcygpOiB2b2lkIHtcbiAgICBjb25maWcubW9kdWxlcy5mb3JFYWNoKHRoaXMuYWRkTW9kdWxlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlIHRoZSBPQXV0aCBhdXRob3JpemF0aW9uIGZsb3cuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGJ5IGN1c3RvbSBzdG9yYWdlIGJhY2tlbmQgaW1wbGVtZW50YXRpb25zXG4gICAqIChlLmcuIERyb3Bib3ggb3IgR29vZ2xlIERyaXZlKS5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuYXV0aFVSTCAtIFVSTCBvZiB0aGUgYXV0aG9yaXphdGlvbiBlbmRwb2ludFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc2NvcGVdIC0gYWNjZXNzIHNjb3BlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5jbGllbnRJZF0gLSBjbGllbnQgaWRlbnRpZmllciAoZGVmYXVsdHMgdG8gdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW4gb2YgdGhlIHJlZGlyZWN0VXJpKVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYXV0aG9yaXplIChvcHRpb25zOiB7IGF1dGhVUkw6IHN0cmluZzsgc2NvcGU/OiBzdHJpbmc7IGNsaWVudElkPzogc3RyaW5nOyByZWRpcmVjdFVyaT86IHN0cmluZyB9KTogdm9pZCB7XG4gICAgdGhpcy5hY2Nlc3Muc2V0U3RvcmFnZVR5cGUodGhpcy5yZW1vdGUuc3RvcmFnZUFwaSk7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnNjb3BlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgb3B0aW9ucy5zY29wZSA9IHRoaXMuYWNjZXNzLnNjb3BlUGFyYW1ldGVyO1xuICAgIH1cblxuICAgIG9wdGlvbnMucmVkaXJlY3RVcmkgPSBnbG9iYWxDb250ZXh0LmNvcmRvdmEgPyBjb25maWcuY29yZG92YVJlZGlyZWN0VXJpIDogU3RyaW5nKEF1dGhvcml6ZS5nZXRMb2NhdGlvbigpKTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jbGllbnRJZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG9wdGlvbnMuY2xpZW50SWQgPSBvcHRpb25zLnJlZGlyZWN0VXJpLm1hdGNoKC9eKGh0dHBzPzpcXC9cXC9bXi9dKykvKVswXTtcbiAgICB9XG5cbiAgICBBdXRob3JpemUuYXV0aG9yaXplKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpbXBsaWVkYXV0aCAoc3RvcmFnZUFwaT86IHN0cmluZywgcmVkaXJlY3RVcmk/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAvLyBUT0RPIHNob3VsZG4ndCB0aGVzZSBiZSBkZWZhdWx0IGFyZ3VtZW50IHZhbHVlcz9cbiAgICBzdG9yYWdlQXBpID0gc3RvcmFnZUFwaSB8fCB0aGlzLnJlbW90ZS5zdG9yYWdlQXBpO1xuICAgIHJlZGlyZWN0VXJpID0gcmVkaXJlY3RVcmkgfHwgU3RyaW5nKGRvY3VtZW50LmxvY2F0aW9uKTtcblxuICAgIGxvZygnSW1wbGllZEF1dGggcHJvY2VlZGluZyBkdWUgdG8gYWJzZW50IGF1dGhVUkw7IHN0b3JhZ2VBcGkgPSAnICsgc3RvcmFnZUFwaSArICcgcmVkaXJlY3RVcmkgPSAnICsgcmVkaXJlY3RVcmkpO1xuICAgIC8vIFNldCBhIGZpeGVkIGFjY2VzcyB0b2tlbiwgc2lnbmFsbGluZyB0byBub3Qgc2VuZCBpdCBhcyBCZWFyZXJcbiAgICB0aGlzLnJlbW90ZS5jb25maWd1cmUoe1xuICAgICAgdG9rZW46IEF1dGhvcml6ZS5JTVBMSUVEX0ZBS0VfVE9LRU5cbiAgICB9KTtcbiAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gcmVkaXJlY3RVcmk7XG4gIH1cblxuICAvKipcbiAgICogQHByb3BlcnR5IHtvYmplY3R9IHJlbW90ZVxuICAgKlxuICAgKiBEZXBlbmRpbmcgb24gdGhlIGNob3NlbiBiYWNrZW5kLCB0aGlzIGlzIGVpdGhlciBhbiBpbnN0YW5jZSBvZiBgYFdpcmVDbGllbnRgYCxcbiAgICogYGBEcm9wYm94YGAgb3IgYGBHb29nbGVEcml2ZWBgLlxuICAgKlxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHJlbW90ZS5jb25uZWN0ZWQgLSBXaGV0aGVyIG9yIG5vdCBhIHJlbW90ZSBzdG9yZSBpcyBjb25uZWN0ZWRcbiAgICogQHByb3BlcnR5IHtib29sZWFufSByZW1vdGUub25saW5lIC0gV2hldGhlciBsYXN0IHN5bmMgYWN0aW9uIHdhcyBzdWNjZXNzZnVsIG9yIG5vdFxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gcmVtb3RlLnVzZXJBZGRyZXNzIC0gVGhlIHVzZXIgYWRkcmVzcyBvZiB0aGUgY29ubmVjdGVkIHVzZXJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IHJlbW90ZS5wcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgb2YgdGhlIFdlYkZpbmdlciBsaW5rXG4gICAqL1xuXG4gIC8qKlxuICAgKiBDb25uZWN0IHRvIGEgcmVtb3RlU3RvcmFnZSBzZXJ2ZXIuXG4gICAqXG4gICAqIERpc2NvdmVycyB0aGUgV2ViRmluZ2VyIHByb2ZpbGUgb2YgdGhlIGdpdmVuIHVzZXIgYWRkcmVzcyBhbmQgaW5pdGlhdGVzXG4gICAqIHRoZSBPQXV0aCBkYW5jZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgbXVzdCBiZSBjYWxsZWQgKmFmdGVyKiBhbGwgcmVxdWlyZWQgYWNjZXNzIGhhcyBiZWVuIGNsYWltZWQuXG4gICAqIFdoZW4gdXNpbmcgdGhlIGNvbm5lY3Qgd2lkZ2V0LCBpdCB3aWxsIGNhbGwgdGhpcyBtZXRob2QgaXRzZWxmLlxuICAgKlxuICAgKiBTcGVjaWFsIGNhc2VzOlxuICAgKlxuICAgKiAxLiBJZiBhIGJlYXJlciB0b2tlbiBpcyBzdXBwbGllZCBhcyBzZWNvbmQgYXJndW1lbnQsIHRoZSBPQXV0aCBkYW5jZVxuICAgKiAgICB3aWxsIGJlIHNraXBwZWQgYW5kIHRoZSBzdXBwbGllZCB0b2tlbiBiZSB1c2VkIGluc3RlYWQuIFRoaXMgaXNcbiAgICogICAgdXNlZnVsIG91dHNpZGUgb2YgYnJvd3NlciBlbnZpcm9ubWVudHMsIHdoZXJlIHRoZSB0b2tlbiBoYXMgYmVlblxuICAgKiAgICBhY3F1aXJlZCBpbiBhIGRpZmZlcmVudCB3YXkuXG4gICAqXG4gICAqIDIuIElmIHRoZSBXZWJmaW5nZXIgcHJvZmlsZSBmb3IgdGhlIGdpdmVuIHVzZXIgYWRkcmVzcyBkb2Vzbid0IGNvbnRhaW5cbiAgICogICAgYW4gYXV0aCBVUkwsIHRoZSBsaWJyYXJ5IHdpbGwgYXNzdW1lIHRoYXQgY2xpZW50IGFuZCBzZXJ2ZXIgaGF2ZVxuICAgKiAgICBlc3RhYmxpc2hlZCBhdXRob3JpemF0aW9uIGFtb25nIHRoZW1zZWx2ZXMsIHdoaWNoIHdpbGwgb21pdCBiZWFyZXJcbiAgICogICAgdG9rZW5zIGluIGFsbCByZXF1ZXN0cyBsYXRlciBvbi4gVGhpcyBpcyB1c2VmdWwgZm9yIGV4YW1wbGUgd2hlbiB1c2luZ1xuICAgKiAgICBLZXJiZXJvcyBhbmQgc2ltaWxhciBwcm90b2NvbHMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VyQWRkcmVzcyAtIFRoZSB1c2VyIGFkZHJlc3MgKHVzZXJAaG9zdCkgdG8gY29ubmVjdCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRva2VuICAgICAgIC0gKG9wdGlvbmFsKSBBIGJlYXJlciB0b2tlbiBhY3F1aXJlZCBiZWZvcmVoYW5kXG4gICAqL1xuICBjb25uZWN0ICh1c2VyQWRkcmVzczogc3RyaW5nLCB0b2tlbj86IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2V0QmFja2VuZCgncmVtb3Rlc3RvcmFnZScpO1xuICAgIGlmICh1c2VyQWRkcmVzcy5pbmRleE9mKCdAJykgPCAwKSB7XG4gICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIG5ldyBSZW1vdGVTdG9yYWdlLkRpc2NvdmVyeUVycm9yKFwiVXNlciBhZGRyZXNzIGRvZXNuJ3QgY29udGFpbiBhbiBALlwiKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGdsb2JhbENvbnRleHQuY29yZG92YSkge1xuICAgICAgaWYgKHR5cGVvZiBjb25maWcuY29yZG92YVJlZGlyZWN0VXJpICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIG5ldyBSZW1vdGVTdG9yYWdlLkRpc2NvdmVyeUVycm9yKFwiUGxlYXNlIHN1cHBseSBhIGN1c3RvbSBIVFRQUyByZWRpcmVjdCBVUkkgZm9yIHlvdXIgQ29yZG92YSBhcHBcIikpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWdsb2JhbENvbnRleHQuY29yZG92YS5JbkFwcEJyb3dzZXIpIHtcbiAgICAgICAgdGhpcy5fZW1pdCgnZXJyb3InLCBuZXcgUmVtb3RlU3RvcmFnZS5EaXNjb3ZlcnlFcnJvcihcIlBsZWFzZSBpbmNsdWRlIHRoZSBJbkFwcEJyb3dzZXIgQ29yZG92YSBwbHVnaW4gdG8gZW5hYmxlIE9BdXRoXCIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVtb3RlLmNvbmZpZ3VyZSh7XG4gICAgICB1c2VyQWRkcmVzczogdXNlckFkZHJlc3NcbiAgICB9KTtcbiAgICB0aGlzLl9lbWl0KCdjb25uZWN0aW5nJyk7XG5cbiAgICBjb25zdCBkaXNjb3ZlcnlUaW1lb3V0ID0gc2V0VGltZW91dCgoKTogdm9pZCA9PiB7XG4gICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIG5ldyBSZW1vdGVTdG9yYWdlLkRpc2NvdmVyeUVycm9yKFwiTm8gc3RvcmFnZSBpbmZvcm1hdGlvbiBmb3VuZCBmb3IgdGhpcyB1c2VyIGFkZHJlc3MuXCIpKTtcbiAgICB9LCBjb25maWcuZGlzY292ZXJ5VGltZW91dCk7XG5cbiAgICBEaXNjb3Zlcih1c2VyQWRkcmVzcykudGhlbigoaW5mbzogU3RvcmFnZUluZm8pOiB2b2lkID0+IHtcbiAgICAgIGNsZWFyVGltZW91dChkaXNjb3ZlcnlUaW1lb3V0KTtcbiAgICAgIHRoaXMuX2VtaXQoJ2F1dGhpbmcnKTtcbiAgICAgIGluZm8udXNlckFkZHJlc3MgPSB1c2VyQWRkcmVzcztcbiAgICAgIHRoaXMucmVtb3RlLmNvbmZpZ3VyZShpbmZvKTtcbiAgICAgIGlmICghIHRoaXMucmVtb3RlLmNvbm5lY3RlZCkge1xuICAgICAgICBpZiAoaW5mby5hdXRoVVJMKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vIE5vcm1hbCBhdXRob3JpemF0aW9uIHN0ZXA7IHRoZSBkZWZhdWx0IHdheSB0byBjb25uZWN0XG4gICAgICAgICAgICB0aGlzLmF1dGhvcml6ZSh7IGF1dGhVUkw6IGluZm8uYXV0aFVSTCB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIFRva2VuIHN1cHBsaWVkIGRpcmVjdGx5IGJ5IGFwcC9kZXZlbG9wZXIvdXNlclxuICAgICAgICAgICAgbG9nKCdTa2lwcGluZyBhdXRob3JpemF0aW9uIHNlcXVlbmNlIGFuZCBjb25uZWN0aW5nIHdpdGgga25vd24gdG9rZW4nKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3RlLmNvbmZpZ3VyZSh7IHRva2VuOiB0b2tlbiB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3VwcGxpZWQgYmVhcmVyIHRva2VuIG11c3QgYmUgYSBzdHJpbmdcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEluIGxpZXUgb2YgYW4gZXhjcGxpY2l0IGF1dGhVUkwsIGFzc3VtZSB0aGF0IHRoZSBicm93c2VyIGFuZFxuICAgICAgICAgIC8vIHNlcnZlciBoYW5kbGUgYW55IGF1dGhvcml6YXRpb24gbmVlZHM7IGZvciBpbnN0YW5jZSwgVExTIG1heVxuICAgICAgICAgIC8vIHRyaWdnZXIgdGhlIGJyb3dzZXIgdG8gdXNlIGEgY2xpZW50IGNlcnRpZmljYXRlLCBvciBhIDQwMSBOb3RcbiAgICAgICAgICAvLyBBdXRob3JpemVkIHJlc3BvbnNlIG1heSBtYWtlIHRoZSBicm93c2VyIHNlbmQgYSBLZXJiZXJvcyB0aWNrZXRcbiAgICAgICAgICAvLyB1c2luZyB0aGUgU1BORUdPIG1ldGhvZC5cbiAgICAgICAgICB0aGlzLmltcGxpZWRhdXRoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAoLyplcnIqLykgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KGRpc2NvdmVyeVRpbWVvdXQpO1xuICAgICAgdGhpcy5fZW1pdCgnZXJyb3InLCBuZXcgUmVtb3RlU3RvcmFnZS5EaXNjb3ZlcnlFcnJvcihcIk5vIHN0b3JhZ2UgaW5mb3JtYXRpb24gZm91bmQgZm9yIHRoaXMgdXNlciBhZGRyZXNzLlwiKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVjb25uZWN0IHRoZSByZW1vdGUgc2VydmVyIHRvIGdldCBhIG5ldyBhdXRob3JpemF0aW9uLlxuICAgKi9cbiAgcmVjb25uZWN0ICgpOiB2b2lkIHtcbiAgICB0aGlzLnJlbW90ZS5jb25maWd1cmUoeyB0b2tlbjogbnVsbCB9KTtcblxuICAgIGlmICh0aGlzLmJhY2tlbmQgPT09ICdyZW1vdGVzdG9yYWdlJykge1xuICAgICAgdGhpcy5jb25uZWN0KHRoaXMucmVtb3RlLnVzZXJBZGRyZXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW1vdGUuY29ubmVjdCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcIkRpc2Nvbm5lY3RcIiBmcm9tIHJlbW90ZSBzZXJ2ZXIgdG8gdGVybWluYXRlIGN1cnJlbnQgc2Vzc2lvbi5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2xlYXJzIGFsbCBzdG9yZWQgc2V0dGluZ3MgYW5kIGRlbGV0ZXMgdGhlIGVudGlyZSBsb2NhbFxuICAgKiBjYWNoZS5cbiAgICovXG4gIGRpc2Nvbm5lY3QgKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnJlbW90ZSkge1xuICAgICAgdGhpcy5yZW1vdGUuY29uZmlndXJlKHtcbiAgICAgICAgdXNlckFkZHJlc3M6IG51bGwsXG4gICAgICAgIGhyZWY6IG51bGwsXG4gICAgICAgIHN0b3JhZ2VBcGk6IG51bGwsXG4gICAgICAgIHRva2VuOiBudWxsLFxuICAgICAgICBwcm9wZXJ0aWVzOiBudWxsXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fc2V0R1BEKHtcbiAgICAgIGdldDogdGhpcy5fcGVuZGluZ0dQRCgnZ2V0JyksXG4gICAgICBwdXQ6IHRoaXMuX3BlbmRpbmdHUEQoJ3B1dCcpLFxuICAgICAgZGVsZXRlOiB0aGlzLl9wZW5kaW5nR1BEKCdkZWxldGUnKVxuICAgIH0pO1xuICAgIGNvbnN0IG4gPSB0aGlzLl9jbGVhbnVwcy5sZW5ndGg7XG4gICAgbGV0IGkgPSAwO1xuXG4gICAgY29uc3Qgb25lRG9uZSA9ICgpOiB2b2lkID0+IHtcbiAgICAgIGkrKztcbiAgICAgIGlmIChpID49IG4pIHtcbiAgICAgICAgdGhpcy5faW5pdCgpO1xuICAgICAgICAvLyBGSVhNRSBSZS1lbmFibGUgd2hlbiBtb2R1bGVzIGFyZSBhbGwgaW1wb3J0c1xuICAgICAgICAvLyBsb2coJ0RvbmUgY2xlYW5pbmcgdXAsIGVtaXR0aW5nIGRpc2Nvbm5lY3RlZCBhbmQgZGlzY29ubmVjdCBldmVudHMnKTtcbiAgICAgICAgdGhpcy5fZW1pdCgnZGlzY29ubmVjdGVkJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChuID4gMCkge1xuICAgICAgdGhpcy5fY2xlYW51cHMuZm9yRWFjaCgoY2xlYW51cDogRnVuY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3QgY2xlYW51cFJlc3VsdCA9IGNsZWFudXAodGhpcyk7XG4gICAgICAgIGlmICh0eXBlb2YoY2xlYW51cFJlc3VsdCkgPT09ICdvYmplY3QnICYmIHR5cGVvZihjbGVhbnVwUmVzdWx0LnRoZW4pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY2xlYW51cFJlc3VsdC50aGVuKG9uZURvbmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uZURvbmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uZURvbmUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNldEJhY2tlbmQgKHdoYXQpOiB2b2lkIHtcbiAgICB0aGlzLmJhY2tlbmQgPSB3aGF0O1xuICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgIGlmICh3aGF0KSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZW1vdGVzdG9yYWdlOmJhY2tlbmQnLCB3aGF0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdyZW1vdGVzdG9yYWdlOmJhY2tlbmQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgXCJjaGFuZ2VcIiBldmVudCBoYW5kbGVyIHRvIHRoZSBnaXZlbiBwYXRoLiBXaGVuZXZlciBhIFwiY2hhbmdlXCJcbiAgICogaGFwcGVucyAoYXMgZGV0ZXJtaW5lZCBieSB0aGUgYmFja2VuZCwgc3VjaCBhcyBlLmcuXG4gICAqIDxSZW1vdGVTdG9yYWdlLkluZGV4ZWREQj4pIGFuZCB0aGUgYWZmZWN0ZWQgcGF0aCBpcyBlcXVhbCB0byBvciBiZWxvdyB0aGVcbiAgICogZ2l2ZW4gJ3BhdGgnLCB0aGUgZ2l2ZW4gaGFuZGxlciBpcyBjYWxsZWQuXG4gICAqXG4gICAqIFlvdSBzaG91bGQgdXN1YWxseSBub3QgdXNlIHRoaXMgbWV0aG9kIGRpcmVjdGx5LCBidXQgaW5zdGVhZCB1c2UgdGhlXG4gICAqIFwiY2hhbmdlXCIgZXZlbnRzIHByb3ZpZGVkIGJ5IDpkb2M6YEJhc2VDbGllbnQgPC9qcy1hcGkvYmFzZS1jbGllbnQ+YFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIEFic29sdXRlIHBhdGggdG8gYXR0YWNoIGhhbmRsZXIgdG9cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIEhhbmRsZXIgZnVuY3Rpb25cbiAgICovXG4gIG9uQ2hhbmdlIChwYXRoOiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKTogdm9pZCB7XG4gICAgaWYgKCEgdGhpcy5fcGF0aEhhbmRsZXJzLmNoYW5nZVtwYXRoXSkge1xuICAgICAgdGhpcy5fcGF0aEhhbmRsZXJzLmNoYW5nZVtwYXRoXSA9IFtdO1xuICAgIH1cbiAgICB0aGlzLl9wYXRoSGFuZGxlcnMuY2hhbmdlW3BhdGhdLnB1c2goaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogZG8gd2Ugc3RpbGwgbmVlZCB0aGlzLCBub3cgdGhhdCB3ZSBhbHdheXMgaW5zdGFudGlhdGUgdGhlIHByb3RvdHlwZT9cbiAgICpcbiAgICogRW5hYmxlIHJlbW90ZVN0b3JhZ2UgbG9nZ2luZy5cbiAgICovXG4gIGVuYWJsZUxvZyAoKTogdm9pZCB7XG4gICAgY29uZmlnLmxvZ2dpbmcgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IGRvIHdlIHN0aWxsIG5lZWQgdGhpcywgbm93IHRoYXQgd2UgYWx3YXlzIGluc3RhbnRpYXRlIHRoZSBwcm90b3R5cGU/XG4gICAqXG4gICAqIERpc2FibGUgcmVtb3RlU3RvcmFnZSBsb2dnaW5nXG4gICAqL1xuICBkaXNhYmxlTG9nICgpOiB2b2lkIHtcbiAgICBjb25maWcubG9nZ2luZyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIGxvZ1xuICAgKlxuICAgKiBUaGUgc2FtZSBhcyA8UmVtb3RlU3RvcmFnZS5sb2c+LlxuICAgKi9cbiAgbG9nICguLi5hcmdzKTogdm9pZCB7XG4gICAgbG9nLmFwcGx5KFJlbW90ZVN0b3JhZ2UsIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgT0F1dGgga2V5L0lEIGZvciBlaXRoZXIgR29vZ2xlRHJpdmUgb3IgRHJvcGJveCBiYWNrZW5kIHN1cHBvcnQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcGlLZXlzIC0gQSBjb25maWcgb2JqZWN0IHdpdGggdGhlc2UgcHJvcGVydGllczpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFthcGlLZXlzLnR5cGVdIC0gQmFja2VuZCB0eXBlOiAnZ29vZ2xlZHJpdmUnIG9yICdkcm9wYm94J1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW2FwaUtleXMua2V5XSAtIENsaWVudCBJRCBmb3IgR29vZ2xlRHJpdmUsIG9yIGFwcCBrZXkgZm9yIERyb3Bib3hcbiAgICovXG4gIHNldEFwaUtleXMgKGFwaUtleXM6IHsgdHlwZTogc3RyaW5nOyBrZXk6IHN0cmluZyB9KTogdm9pZCB8IGJvb2xlYW4ge1xuICAgIGNvbnN0IHZhbGlkVHlwZXMgPSBbJ2dvb2dsZWRyaXZlJywgJ2Ryb3Bib3gnXTtcbiAgICBpZiAodHlwZW9mIGFwaUtleXMgIT09ICdvYmplY3QnIHx8ICFPYmplY3Qua2V5cyhhcGlLZXlzKS5ldmVyeSh0eXBlID0+IHZhbGlkVHlwZXMuaW5jbHVkZXModHlwZSkpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdzZXRBcGlLZXlzKCkgd2FzIGNhbGxlZCB3aXRoIGludmFsaWQgYXJndW1lbnRzJykgO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIE9iamVjdC5rZXlzKGFwaUtleXMpLmZvckVhY2godHlwZSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSBhcGlLZXlzW3R5cGVdO1xuICAgICAgaWYgKCFrZXkpIHsgZGVsZXRlIHRoaXMuYXBpS2V5c1t0eXBlXTsgcmV0dXJuOyB9XG5cbiAgICAgIHN3aXRjaCh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ2Ryb3Bib3gnOlxuICAgICAgICAgIHRoaXMuYXBpS2V5c1snZHJvcGJveCddID0geyBhcHBLZXk6IGtleSB9O1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5kcm9wYm94ID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgICB0aGlzLmRyb3Bib3guY2xpZW50SWQgIT09IGtleSkge1xuICAgICAgICAgICAgRHJvcGJveC5fcnNfaW5pdCh0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2dvb2dsZWRyaXZlJzpcbiAgICAgICAgICB0aGlzLmFwaUtleXNbJ2dvb2dsZWRyaXZlJ10gPSB7IGNsaWVudElkOiBrZXkgfTtcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuZ29vZ2xlZHJpdmUgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICB0aGlzLmdvb2dsZWRyaXZlLmNsaWVudElkICE9PSBrZXkpIHtcbiAgICAgICAgICAgIEdvb2dsZURyaXZlLl9yc19pbml0KHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuXG4gICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JlbW90ZXN0b3JhZ2U6YXBpLWtleXMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLmFwaUtleXMpKTtcbiAgICB9XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgcmVkaXJlY3QgVVJJIHRvIGJlIHVzZWQgZm9yIHRoZSBPQXV0aCByZWRpcmVjdCB3aXRoaW4gdGhlXG4gICAqIGluLWFwcC1icm93c2VyIHdpbmRvdyBpbiBDb3Jkb3ZhIGFwcHMuXG4gICAqXG4gICAqIEBwYXJhbSB1cmkgLSBBIHZhbGlkIEhUVFAoUykgVVJJXG4gICAqL1xuICBzZXRDb3Jkb3ZhUmVkaXJlY3RVcmkgKHVyaTogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiB1cmkgIT09ICdzdHJpbmcnIHx8ICF1cmkubWF0Y2goL2h0dHAocyk/OlxcL1xcLy8pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3Jkb3ZhIHJlZGlyZWN0IFVSSSBtdXN0IGJlIGEgVVJJIHN0cmluZ1wiKTtcbiAgICB9XG4gICAgY29uZmlnLmNvcmRvdmFSZWRpcmVjdFVyaSA9IHVyaTtcbiAgfVxuXG4gIC8vXG4gIC8vIEZFQVRVUkVTIElOSVRJQUxJWkFUSU9OXG4gIC8vXG5cbiAgX2luaXQgPSBGZWF0dXJlcy5sb2FkRmVhdHVyZXM7XG4gIGZlYXR1cmVzID0gRmVhdHVyZXMuZmVhdHVyZXM7XG4gIGxvYWRGZWF0dXJlID0gRmVhdHVyZXMubG9hZEZlYXR1cmU7XG4gIGZlYXR1cmVTdXBwb3J0ZWQgPSBGZWF0dXJlcy5mZWF0dXJlU3VwcG9ydGVkO1xuICBmZWF0dXJlRG9uZSA9IEZlYXR1cmVzLmZlYXR1cmVEb25lO1xuICBmZWF0dXJlc0RvbmUgPSBGZWF0dXJlcy5mZWF0dXJlc0RvbmU7XG4gIGZlYXR1cmVzTG9hZGVkID0gRmVhdHVyZXMuZmVhdHVyZXNMb2FkZWQ7XG4gIGZlYXR1cmVJbml0aWFsaXplZCA9IEZlYXR1cmVzLmZlYXR1cmVJbml0aWFsaXplZDtcbiAgZmVhdHVyZUZhaWxlZCA9IEZlYXR1cmVzLmZlYXR1cmVGYWlsZWQ7XG4gIGhhc0ZlYXR1cmUgPSBGZWF0dXJlcy5oYXNGZWF0dXJlO1xuICBfc2V0Q2FjaGluZ01vZHVsZSA9IEZlYXR1cmVzLl9zZXRDYWNoaW5nTW9kdWxlO1xuICBfY29sbGVjdENsZWFudXBGdW5jdGlvbnMgPSBGZWF0dXJlcy5fY29sbGVjdENsZWFudXBGdW5jdGlvbnM7XG4gIF9maXJlUmVhZHkgPSBGZWF0dXJlcy5fZmlyZVJlYWR5O1xuICBpbml0RmVhdHVyZSA9IEZlYXR1cmVzLmluaXRGZWF0dXJlO1xuXG4gIC8vXG4gIC8vIEdFVC9QVVQvREVMRVRFIElOVEVSRkFDRSBIRUxQRVJTXG4gIC8vXG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0R1BEIChpbXBsLCBjb250ZXh0Pykge1xuICAgIGZ1bmN0aW9uIHdyYXAoZnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpXG4gICAgICAgICAgLnRoZW4oZW1pdFVuYXV0aG9yaXplZC5iaW5kKHRoaXMpKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMuZ2V0ID0gd3JhcChpbXBsLmdldCk7XG4gICAgdGhpcy5wdXQgPSB3cmFwKGltcGwucHV0KTtcbiAgICB0aGlzLmRlbGV0ZSA9IHdyYXAoaW1wbC5kZWxldGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcGVuZGluZ0dQRCAobWV0aG9kTmFtZSk6IEZ1bmN0aW9uIHtcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgIGNvbnN0IG1ldGhvZEFyZ3VtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdGhpcy5fcGVuZGluZy5wdXNoKHtcbiAgICAgICAgICBtZXRob2Q6IG1ldGhvZE5hbWUsXG4gICAgICAgICAgYXJnczogbWV0aG9kQXJndW1lbnRzLFxuICAgICAgICAgIHByb21pc2U6IHtcbiAgICAgICAgICAgIHJlc29sdmU6IHJlc29sdmUsXG4gICAgICAgICAgICByZWplY3Q6IHJlamVjdFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcHJvY2Vzc1BlbmRpbmcgKCk6IHZvaWQge1xuICAgIHRoaXMuX3BlbmRpbmcuZm9yRWFjaCgocGVuZGluZykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpc1twZW5kaW5nLm1ldGhvZF0oLi4ucGVuZGluZy5hcmdzKS50aGVuKHBlbmRpbmcucHJvbWlzZS5yZXNvbHZlLCBwZW5kaW5nLnByb21pc2UucmVqZWN0KTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBwZW5kaW5nLnByb21pc2UucmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuX3BlbmRpbmcgPSBbXTtcbiAgfVxuXG4gIC8vXG4gIC8vIENIQU5HRSBFVkVOVCBIQU5ETElOR1xuICAvL1xuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2JpbmRDaGFuZ2UgKG9iamVjdDogeyBvbjogRnVuY3Rpb24gfSk6IHZvaWQge1xuICAgIG9iamVjdC5vbignY2hhbmdlJywgdGhpcy5fZGlzcGF0Y2hFdmVudC5iaW5kKHRoaXMsICdjaGFuZ2UnKSk7XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9kaXNwYXRjaEV2ZW50IChldmVudE5hbWU6IHN0cmluZywgZXZlbnQpOiB2b2lkIHtcbiAgICBPYmplY3Qua2V5cyh0aGlzLl9wYXRoSGFuZGxlcnNbZXZlbnROYW1lXSkuZm9yRWFjaCgocGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCBwbCA9IHBhdGgubGVuZ3RoO1xuICAgICAgaWYgKGV2ZW50LnBhdGguc3Vic3RyKDAsIHBsKSA9PT0gcGF0aCkge1xuICAgICAgICB0aGlzLl9wYXRoSGFuZGxlcnNbZXZlbnROYW1lXVtwYXRoXS5mb3JFYWNoKChoYW5kbGVyOiBGdW5jdGlvbikgPT4ge1xuICAgICAgICAgIGNvbnN0IGV2OiB7IHJlbGF0aXZlUGF0aD86IHN0cmluZyB9ID0ge307XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZXZlbnQpIHsgZXZba2V5XSA9IGV2ZW50W2tleV07IH1cbiAgICAgICAgICBldi5yZWxhdGl2ZVBhdGggPSBldmVudC5wYXRoLnJlcGxhY2UobmV3IFJlZ0V4cCgnXicgKyBwYXRoKSwgJycpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBoYW5kbGVyKGV2KTtcbiAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCInY2hhbmdlJyBoYW5kbGVyIGZhaWxlZDogXCIsIGUsIGUuc3RhY2spO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnZXJyb3InLCBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGVuYWJsZXMgeW91IHRvIHF1aWNrbHkgaW5zdGFudGlhdGUgYSBCYXNlQ2xpZW50LCB3aGljaCB5b3UgY2FuXG4gICAqIHVzZSB0byBkaXJlY3RseSByZWFkIGFuZCBtYW5pcHVsYXRlIGRhdGEgaW4gdGhlIGNvbm5lY3RlZCBzdG9yYWdlIGFjY291bnQuXG4gICAqXG4gICAqIFBsZWFzZSB1c2UgdGhpcyBtZXRob2Qgb25seSBmb3IgZGVidWdnaW5nIGFuZCBkZXZlbG9wbWVudCwgYW5kIGNob29zZSBvclxuICAgKiBjcmVhdGUgYSA6ZG9jOmBkYXRhIG1vZHVsZSA8L2RhdGEtbW9kdWxlcz5gIGZvciB5b3VyIGFwcCB0byB1c2UuXG4gICAqXG4gICAqIEBwYXJhbSBwYXRoIC0gVGhlIGJhc2UgZGlyZWN0b3J5IG9mIHRoZSBCYXNlQ2xpZW50IHRoYXQgd2lsbCBiZSByZXR1cm5lZFxuICAgKiAgICAgICAgICAgICAgICh3aXRoIGEgbGVhZGluZyBhbmQgYSB0cmFpbGluZyBzbGFzaClcbiAgICpcbiAgICogQHJldHVybnMgQSBjbGllbnQgd2l0aCB0aGUgc3BlY2lmaWVkIHNjb3BlIChjYXRlZ29yeS9iYXNlIGRpcmVjdG9yeSlcbiAgICovXG4gIHNjb3BlIChwYXRoOiBzdHJpbmcpOiBCYXNlQ2xpZW50IHtcbiAgICBpZiAodHlwZW9mKHBhdGgpICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgJ0FyZ3VtZW50IFxcJ3BhdGhcXCcgb2YgYmFzZUNsaWVudC5zY29wZSBtdXN0IGJlIGEgc3RyaW5nJztcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWNjZXNzLmNoZWNrUGF0aFBlcm1pc3Npb24ocGF0aCwgJ3InKSkge1xuICAgICAgY29uc3QgZXNjYXBlZFBhdGggPSBwYXRoLnJlcGxhY2UoLyhbJ1xcXFxdKS9nLCAnXFxcXCQxJyk7XG4gICAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IHBsZWFzZSBjYWxsIHJlbW90ZVN0b3JhZ2UuYWNjZXNzLmNsYWltKFxcJycgKyBlc2NhcGVkUGF0aCArICdcXCcsIFxcJ3JcXCcpIChyZWFkIG9ubHkpIG9yIHJlbW90ZVN0b3JhZ2UuYWNjZXNzLmNsYWltKFxcJycgKyBlc2NhcGVkUGF0aCArICdcXCcsIFxcJ3J3XFwnKSAocmVhZC93cml0ZSkgZmlyc3QnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBCYXNlQ2xpZW50KHRoaXMsIHBhdGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgdGhlIHN5bmMgaW50ZXJ2YWwgd2hlbiBhcHBsaWNhdGlvbiBpcyBpbiB0aGUgZm9yZWdyb3VuZFxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBBIG51bWJlciBvZiBtaWxsaXNlY29uZHNcbiAgICovXG4gIGdldFN5bmNJbnRlcnZhbCAoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gY29uZmlnLnN5bmNJbnRlcnZhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZhbHVlIG9mIHRoZSBzeW5jIGludGVydmFsIHdoZW4gYXBwbGljYXRpb24gaXMgaW4gdGhlIGZvcmVncm91bmRcbiAgICpcbiAgICogQHBhcmFtIGludGVydmFsIC0gU3luYyBpbnRlcnZhbCBpbiBtaWxsaXNlY29uZHMgKGJldHdlZW4gMTAwMCBhbmQgMzYwMDAwMClcbiAgICovXG4gIHNldFN5bmNJbnRlcnZhbCAoaW50ZXJ2YWw6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghaXNWYWxpZEludGVydmFsKGludGVydmFsKSkge1xuICAgICAgdGhyb3cgaW50ZXJ2YWwgKyBcIiBpcyBub3QgYSB2YWxpZCBzeW5jIGludGVydmFsXCI7XG4gICAgfVxuICAgIGNvbnN0IG9sZFZhbHVlID0gY29uZmlnLnN5bmNJbnRlcnZhbDtcbiAgICBjb25maWcuc3luY0ludGVydmFsID0gaW50ZXJ2YWw7XG4gICAgdGhpcy5fZW1pdCgnc3luYy1pbnRlcnZhbC1jaGFuZ2UnLCB7b2xkVmFsdWU6IG9sZFZhbHVlLCBuZXdWYWx1ZTogaW50ZXJ2YWx9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBzeW5jIGludGVydmFsIHdoZW4gYXBwbGljYXRpb24gaXMgaW4gdGhlIGJhY2tncm91bmRcbiAgICpcbiAgICogQHJldHVybnMgQSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzXG4gICAqL1xuICBnZXRCYWNrZ3JvdW5kU3luY0ludGVydmFsICgpOiBudW1iZXIge1xuICAgIHJldHVybiBjb25maWcuYmFja2dyb3VuZFN5bmNJbnRlcnZhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZhbHVlIG9mIHRoZSBzeW5jIGludGVydmFsIHdoZW4gdGhlIGFwcGxpY2F0aW9uIGlzIGluIHRoZVxuICAgKiBiYWNrZ3JvdW5kXG4gICAqXG4gICAqIEBwYXJhbSBpbnRlcnZhbCAtIFN5bmMgaW50ZXJ2YWwgaW4gbWlsbGlzZWNvbmRzIChiZXR3ZWVuIDEwMDAgYW5kIDM2MDAwMDApXG4gICAqL1xuICBzZXRCYWNrZ3JvdW5kU3luY0ludGVydmFsIChpbnRlcnZhbDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCFpc1ZhbGlkSW50ZXJ2YWwoaW50ZXJ2YWwpKSB7XG4gICAgICB0aHJvdyBpbnRlcnZhbCArIFwiIGlzIG5vdCBhIHZhbGlkIHN5bmMgaW50ZXJ2YWxcIjtcbiAgICB9XG4gICAgY29uc3Qgb2xkVmFsdWUgPSBjb25maWcuYmFja2dyb3VuZFN5bmNJbnRlcnZhbDtcbiAgICBjb25maWcuYmFja2dyb3VuZFN5bmNJbnRlcnZhbCA9IGludGVydmFsO1xuICAgIHRoaXMuX2VtaXQoJ3N5bmMtaW50ZXJ2YWwtY2hhbmdlJywge29sZFZhbHVlOiBvbGRWYWx1ZSwgbmV3VmFsdWU6IGludGVydmFsfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiB0aGUgY3VycmVudCBzeW5jIGludGVydmFsLiBDYW4gYmUgYmFja2dyb3VuZCBvclxuICAgKiBmb3JlZ3JvdW5kLCBjdXN0b20gb3IgZGVmYXVsdC5cbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn0gQSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzXG4gICAqL1xuICBnZXRDdXJyZW50U3luY0ludGVydmFsICgpOiBudW1iZXIge1xuICAgIHJldHVybiBjb25maWcuaXNCYWNrZ3JvdW5kID8gY29uZmlnLmJhY2tncm91bmRTeW5jSW50ZXJ2YWwgOiBjb25maWcuc3luY0ludGVydmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgdGhlIGN1cnJlbnQgbmV0d29yayByZXF1ZXN0IHRpbWVvdXRcbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn0gQSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzXG4gICAqL1xuICBnZXRSZXF1ZXN0VGltZW91dCAoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gY29uZmlnLnJlcXVlc3RUaW1lb3V0O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdGltZW91dCBmb3IgbmV0d29yayByZXF1ZXN0cy5cbiAgICpcbiAgICogQHBhcmFtIHRpbWVvdXQgLSBUaW1lb3V0IGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgc2V0UmVxdWVzdFRpbWVvdXQgKHRpbWVvdXQ6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgdGltZW91dCAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IHRpbWVvdXQgKyBcIiBpcyBub3QgYSB2YWxpZCByZXF1ZXN0IHRpbWVvdXRcIjtcbiAgICB9XG4gICAgY29uZmlnLnJlcXVlc3RUaW1lb3V0ID0gdGltZW91dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3luY0N5Y2xlICgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuc3luYyB8fCB0aGlzLnN5bmMuc3RvcHBlZCkgeyByZXR1cm47IH1cblxuICAgIHRoaXMub24oJ3N5bmMtZG9uZScsICgpOiB2b2lkID0+IHtcbiAgICAgIC8vIEZJWE1FIFJlLWVuYWJsZSB3aGVuIG1vZHVsZXMgYXJlIGFsbCBpbXBvcnRzXG4gICAgICAvLyBsb2coJ1tTeW5jXSBTeW5jIGRvbmUuIFNldHRpbmcgdGltZXIgdG8nLCB0aGlzLmdldEN1cnJlbnRTeW5jSW50ZXJ2YWwoKSk7XG4gICAgICBpZiAodGhpcy5zeW5jICYmICF0aGlzLnN5bmMuc3RvcHBlZCkge1xuICAgICAgICBpZiAodGhpcy5fc3luY1RpbWVyKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3N5bmNUaW1lcik7XG4gICAgICAgICAgdGhpcy5fc3luY1RpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N5bmNUaW1lciA9IHNldFRpbWVvdXQodGhpcy5zeW5jLnN5bmMuYmluZCh0aGlzLnN5bmMpLCB0aGlzLmdldEN1cnJlbnRTeW5jSW50ZXJ2YWwoKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLnN5bmMuc3luYygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHN5bmNocm9uaXphdGlvbiB3aXRoIHJlbW90ZSBzdG9yYWdlLCBkb3dubG9hZGluZyBhbmQgdXBsb2FkaW5nIGFueVxuICAgKiBjaGFuZ2VzIHdpdGhpbiB0aGUgY2FjaGVkIHBhdGhzLlxuICAgKlxuICAgKiBQbGVhc2UgY29uc2lkZXI6IGxvY2FsIGNoYW5nZXMgd2lsbCBhdHRlbXB0IHN5bmMgaW1tZWRpYXRlbHksIGFuZCByZW1vdGVcbiAgICogY2hhbmdlcyBzaG91bGQgYWxzbyBiZSBzeW5jZWQgdGltZWx5IHdoZW4gdXNpbmcgbGlicmFyeSBkZWZhdWx0cy4gU29cbiAgICogdGhpcyBpcyBtb3N0bHkgdXNlZnVsIGZvciBsZXR0aW5nIHVzZXJzIHN5bmMgbWFudWFsbHksIHdoZW4gcHJlc3NpbmcgYVxuICAgKiBzeW5jIGJ1dHRvbiBmb3IgZXhhbXBsZS4gVGhpcyBtaWdodCBmZWVsIHNhZmVyIHRvIHRoZW0gc29tZXRpbWVzLCBlc3AuXG4gICAqIHdoZW4gc2hpZnRpbmcgYmV0d2VlbiBvZmZsaW5lIGFuZCBvbmxpbmUgYSBsb3QuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiB0aGUgc3luYyBoYXMgZmluaXNoZWRcbiAgICovXG4gIHN0YXJ0U3luYyAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCFjb25maWcuY2FjaGUpIHtcbiAgICAgIGNvbnNvbGUud2FybignTm90aGluZyB0byBzeW5jLCBiZWNhdXNlIGNhY2hpbmcgaXMgZGlzYWJsZWQuJyk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHRoaXMuc3luYy5zdG9wcGVkID0gZmFsc2U7XG4gICAgdGhpcy5zeW5jU3RvcHBlZCA9IGZhbHNlO1xuICAgIHJldHVybiB0aGlzLnN5bmMuc3luYygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3AgdGhlIHBlcmlvZGljIHN5bmNocm9uaXphdGlvbi5cbiAgICovXG4gIHN0b3BTeW5jICgpOiB2b2lkIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fc3luY1RpbWVyKTtcbiAgICB0aGlzLl9zeW5jVGltZXIgPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAodGhpcy5zeW5jKSB7XG4gICAgICAvLyBGSVhNRSBSZS1lbmFibGUgd2hlbiBtb2R1bGVzIGFyZSBhbGwgaW1wb3J0c1xuICAgICAgLy8gbG9nKCdbU3luY10gU3RvcHBpbmcgc3luYycpO1xuICAgICAgdGhpcy5zeW5jLnN0b3BwZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGUgc3luYyBjbGFzcyBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQgeWV0LCBzbyB3ZSBtYWtlIHN1cmUgaXQgd2lsbFxuICAgICAgLy8gbm90IHN0YXJ0IHRoZSBzeW5jaW5nIHByb2Nlc3MgYXMgc29vbiBhcyBpdCdzIGluaXRpYWxpemVkLlxuICAgICAgLy8gRklYTUUgUmUtZW5hYmxlIHdoZW4gbW9kdWxlcyBhcmUgYWxsIGltcG9ydHNcbiAgICAgIC8vIGxvZygnW1N5bmNdIFdpbGwgaW5zdGFudGlhdGUgc3luYyBzdG9wcGVkJyk7XG4gICAgICB0aGlzLnN5bmNTdG9wcGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiBBZGQgcmVtb3RlU3RvcmFnZSBkYXRhIG1vZHVsZVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gbW9kdWxlIC0gbW9kdWxlIG9iamVjdCBuZWVkcyBmb2xsb3dpbmcgcHJvcGVyaWVzOlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW21vZHVsZS5uYW1lXSAtIE5hbWUgb2YgdGhlIG1vZHVsZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbbW9kdWxlLmJ1aWxkZXJdIC0gQnVpbGRlciBmdW5jdGlvbiBkZWZpbmluZyB0aGUgbW9kdWxlXG4gICAqXG4gICAqIFRoZSBtb2R1bGUgYnVpbGRlciBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGFuIG9iamVjdCBjb250YWluaW5nIGFub3RoZXJcbiAgICogb2JqZWN0IGNhbGxlZCBleHBvcnRzLCB3aGljaCB3aWxsIGJlIGV4cG9ydGVkIHRvIHRoaXMgPFJlbW90ZVN0b3JhZ2U+XG4gICAqIGluc3RhbmNlIHVuZGVyIHRoZSBtb2R1bGUncyBuYW1lLiBTbyB3aGVuIGRlZmluaW5nIGEgbG9jYXRpb25zIG1vZHVsZSxcbiAgICogbGlrZSBpbiB0aGUgZXhhbXBsZSBiZWxvdywgaXQgd291bGQgYmUgYWNjZXNzaWJsZSB2aWFcbiAgICogYHJlbW90ZVN0b3JhZ2UubG9jYXRpb25zYCwgd2hpY2ggd291bGQgaW4gdHVybiBoYXZlIGEgYGZlYXR1cmVzYCBhbmQgYVxuICAgKiBgY29sbGVjdGlvbnNgIHByb3BlcnR5LlxuICAgKlxuICAgKiBUaGUgZnVuY3Rpb24gcmVjZWl2ZXMgYSBwcml2YXRlIGFuZCBhIHB1YmxpYyBjbGllbnQsIHdoaWNoIGFyZSBib3RoXG4gICAqIGluc3RhbmNlcyBvZiA8UmVtb3RlU3RvcmFnZS5CYXNlQ2xpZW50Pi4gSW4gdGhlIGZvbGxvd2luZyBleGFtcGxlLCB0aGVcbiAgICogc2NvcGUgb2YgcHJpdmF0ZUNsaWVudCBpcyBgL2xvY2F0aW9uc2AgYW5kIHRoZSBzY29wZSBvZiBwdWJsaWNDbGllbnQgaXNcbiAgICogYC9wdWJsaWMvbG9jYXRpb25zYC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogICBSZW1vdGVTdG9yYWdlLmFkZE1vZHVsZSh7bmFtZTogJ2xvY2F0aW9ucycsIGJ1aWxkZXI6IGZ1bmN0aW9uIChwcml2YXRlQ2xpZW50LCBwdWJsaWNDbGllbnQpIHtcbiAgICogICAgIHJldHVybiB7XG4gICAqICAgICAgIGV4cG9ydHM6IHtcbiAgICogICAgICAgICBmZWF0dXJlczogcHJpdmF0ZUNsaWVudC5zY29wZSgnZmVhdHVyZXMvJykuZGVmYXVsdFR5cGUoJ2ZlYXR1cmUnKSxcbiAgICogICAgICAgICBjb2xsZWN0aW9uczogcHJpdmF0ZUNsaWVudC5zY29wZSgnY29sbGVjdGlvbnMvJykuZGVmYXVsdFR5cGUoJ2ZlYXR1cmUtY29sbGVjdGlvbicpXG4gICAqICAgICAgIH1cbiAgICogICAgIH07XG4gICAqICAgfX0pO1xuICAqL1xuICBhZGRNb2R1bGUgKG1vZHVsZTogUlNNb2R1bGUpOiB2b2lkIHtcbiAgICBjb25zdCBtb2R1bGVOYW1lID0gbW9kdWxlLm5hbWU7XG4gICAgY29uc3QgbW9kdWxlQnVpbGRlciA9IG1vZHVsZS5idWlsZGVyO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIG1vZHVsZU5hbWUsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuX2xvYWRNb2R1bGUobW9kdWxlTmFtZSwgbW9kdWxlQnVpbGRlcik7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBtb2R1bGVOYW1lLCB7XG4gICAgICAgICAgdmFsdWU6IGluc3RhbmNlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAobW9kdWxlTmFtZS5pbmRleE9mKCctJykgIT09IC0xKSB7XG4gICAgICBjb25zdCBjYW1lbGl6ZWROYW1lID0gbW9kdWxlTmFtZS5yZXBsYWNlKC9cXC1bYS16XS9nLCBmdW5jdGlvbiAocykge1xuICAgICAgICByZXR1cm4gc1sxXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBjYW1lbGl6ZWROYW1lLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzW21vZHVsZU5hbWVdO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBtb2R1bGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9sb2FkTW9kdWxlIChtb2R1bGVOYW1lOiBzdHJpbmcsIG1vZHVsZUJ1aWxkZXI6IEZ1bmN0aW9uKTogeyBba2V5OiBzdHJpbmddOiB1bmtub3duIH0gIHtcbiAgICBpZiAobW9kdWxlQnVpbGRlcikge1xuICAgICAgY29uc3QgbW9kdWxlID0gbW9kdWxlQnVpbGRlcihcbiAgICAgICAgbmV3IEJhc2VDbGllbnQodGhpcywgJy8nICsgbW9kdWxlTmFtZSArICcvJyksXG4gICAgICAgIG5ldyBCYXNlQ2xpZW50KHRoaXMsICcvcHVibGljLycgKyBtb2R1bGVOYW1lICsgJy8nKVxuICAgICAgKTtcbiAgICAgIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJVbmtub3duIG1vZHVsZTogXCIgKyBtb2R1bGVOYW1lO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwcm9wZXJ0eSBhY2Nlc3NcbiAqXG4gKiBUcmFja2luZyBjbGFpbWVkIGFjY2VzcyBzY29wZXMuIEEgPFJlbW90ZVN0b3JhZ2UuQWNjZXNzPiBpbnN0YW5jZS5cbiovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVtb3RlU3RvcmFnZS5wcm90b3R5cGUsICdhY2Nlc3MnLCB7XG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgYWNjZXNzID0gbmV3IEFjY2VzcygpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnYWNjZXNzJywge1xuICAgICAgdmFsdWU6IGFjY2Vzc1xuICAgIH0pO1xuICAgIHJldHVybiBhY2Nlc3M7XG4gIH0sXG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZVxufSk7XG5cbi8vIFRPRE8gQ2xlYW4gdXAvaGFybW9uaXplIGhvdyBtb2R1bGVzIGFyZSBsb2FkZWQgYW5kL29yIGRvY3VtZW50IHRoaXMgYXJjaGl0ZWN0dXJlIHByb3Blcmx5XG4vL1xuLy8gQXQgdGhpcyBwb2ludCB0aGUgcmVtb3RlU3RvcmFnZSBvYmplY3QgaGFzIG5vdCBiZWVuIGNyZWF0ZWQgeWV0LlxuLy8gT25seSBpdHMgcHJvdG90eXBlIGV4aXN0cyBzbyBmYXIsIHNvIHdlIGRlZmluZSBhIHNlbGYtY29uc3RydWN0aW5nXG4vLyBwcm9wZXJ0eSBvbiB0aGVyZTpcblxuLyoqXG4gKiBQcm9wZXJ0eTogY2FjaGluZ1xuICpcbiAqIENhY2hpbmcgc2V0dGluZ3MuIEEgPFJlbW90ZVN0b3JhZ2UuQ2FjaGluZz4gaW5zdGFuY2UuXG4gKi9cbi8vIEZJWE1FIFdhcyBpbiByc19pbml0IG9mIENhY2hpbmcgYnV0IGRvbid0IHdhbnQgdG8gcmVxdWlyZSBSZW1vdGVTdG9yYWdlIGZyb20gdGhlcmUuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVtb3RlU3RvcmFnZS5wcm90b3R5cGUsICdjYWNoaW5nJywge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGNhY2hpbmcgPSBuZXcgQ2FjaGluZygpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnY2FjaGluZycsIHtcbiAgICAgIHZhbHVlOiBjYWNoaW5nXG4gICAgfSk7XG4gICAgcmV0dXJuIGNhY2hpbmc7XG4gIH1cbn0pO1xuXG5pbnRlcmZhY2UgUmVtb3RlU3RvcmFnZSBleHRlbmRzIEV2ZW50SGFuZGxpbmcge307XG5hcHBseU1peGlucyhSZW1vdGVTdG9yYWdlLCBbRXZlbnRIYW5kbGluZ10pO1xuXG5leHBvcnQgPSBSZW1vdGVTdG9yYWdlO1xuIiwiLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cbid1c2Ugc3RyaWN0J1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKVxuXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUyA9IDUwXG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFVzZSBPYmplY3QgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIER1ZSB0byB2YXJpb3VzIGJyb3dzZXIgYnVncywgc29tZXRpbWVzIHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24gd2lsbCBiZSB1c2VkIGV2ZW5cbiAqIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgdHlwZWQgYXJyYXlzLlxuICpcbiAqIE5vdGU6XG4gKlxuICogICAtIEZpcmVmb3ggNC0yOSBsYWNrcyBzdXBwb3J0IGZvciBhZGRpbmcgbmV3IHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgIGluc3RhbmNlcyxcbiAqICAgICBTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOC5cbiAqXG4gKiAgIC0gQ2hyb21lIDktMTAgaXMgbWlzc2luZyB0aGUgYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbi5cbiAqXG4gKiAgIC0gSUUxMCBoYXMgYSBicm9rZW4gYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFycmF5cyBvZlxuICogICAgIGluY29ycmVjdCBsZW5ndGggaW4gc29tZSBzaXR1YXRpb25zLlxuXG4gKiBXZSBkZXRlY3QgdGhlc2UgYnVnZ3kgYnJvd3NlcnMgYW5kIHNldCBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgIHRvIGBmYWxzZWAgc28gdGhleVxuICogZ2V0IHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24sIHdoaWNoIGlzIHNsb3dlciBidXQgYmVoYXZlcyBjb3JyZWN0bHkuXG4gKi9cbkJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQgIT09IHVuZGVmaW5lZFxuICA/IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gIDogdHlwZWRBcnJheVN1cHBvcnQoKVxuXG4vKlxuICogRXhwb3J0IGtNYXhMZW5ndGggYWZ0ZXIgdHlwZWQgYXJyYXkgc3VwcG9ydCBpcyBkZXRlcm1pbmVkLlxuICovXG5leHBvcnRzLmtNYXhMZW5ndGggPSBrTWF4TGVuZ3RoKClcblxuZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuICB0cnkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxKVxuICAgIGFyci5fX3Byb3RvX18gPSB7X19wcm90b19fOiBVaW50OEFycmF5LnByb3RvdHlwZSwgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9fVxuICAgIHJldHVybiBhcnIuZm9vKCkgPT09IDQyICYmIC8vIHR5cGVkIGFycmF5IGluc3RhbmNlcyBjYW4gYmUgYXVnbWVudGVkXG4gICAgICAgIHR5cGVvZiBhcnIuc3ViYXJyYXkgPT09ICdmdW5jdGlvbicgJiYgLy8gY2hyb21lIDktMTAgbGFjayBgc3ViYXJyYXlgXG4gICAgICAgIGFyci5zdWJhcnJheSgxLCAxKS5ieXRlTGVuZ3RoID09PSAwIC8vIGllMTAgaGFzIGJyb2tlbiBgc3ViYXJyYXlgXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5mdW5jdGlvbiBrTWF4TGVuZ3RoICgpIHtcbiAgcmV0dXJuIEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gICAgPyAweDdmZmZmZmZmXG4gICAgOiAweDNmZmZmZmZmXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlciAodGhhdCwgbGVuZ3RoKSB7XG4gIGlmIChrTWF4TGVuZ3RoKCkgPCBsZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGgnKVxuICB9XG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpXG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIGlmICh0aGF0ID09PSBudWxsKSB7XG4gICAgICB0aGF0ID0gbmV3IEJ1ZmZlcihsZW5ndGgpXG4gICAgfVxuICAgIHRoYXQubGVuZ3RoID0gbGVuZ3RoXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiAhKHRoaXMgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICAvLyBDb21tb24gY2FzZS5cbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZ09yT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcnXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBhbGxvY1Vuc2FmZSh0aGlzLCBhcmcpXG4gIH1cbiAgcmV0dXJuIGZyb20odGhpcywgYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wb29sU2l6ZSA9IDgxOTIgLy8gbm90IHVzZWQgYnkgdGhpcyBpbXBsZW1lbnRhdGlvblxuXG4vLyBUT0RPOiBMZWdhY3ksIG5vdCBuZWVkZWQgYW55bW9yZS4gUmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvbi5cbkJ1ZmZlci5fYXVnbWVudCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgYXJyLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiBmcm9tICh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KVxuICB9XG5cbiAgcmV0dXJuIGZyb21PYmplY3QodGhhdCwgdmFsdWUpXG59XG5cbi8qKlxuICogRnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gQnVmZmVyKGFyZywgZW5jb2RpbmcpIGJ1dCB0aHJvd3MgYSBUeXBlRXJyb3JcbiAqIGlmIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQnVmZmVyLmZyb20oc3RyWywgZW5jb2RpbmddKVxuICogQnVmZmVyLmZyb20oYXJyYXkpXG4gKiBCdWZmZXIuZnJvbShidWZmZXIpXG4gKiBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlclssIGJ5dGVPZmZzZXRbLCBsZW5ndGhdXSlcbiAqKi9cbkJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGZyb20obnVsbCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gIEJ1ZmZlci5wcm90b3R5cGUuX19wcm90b19fID0gVWludDhBcnJheS5wcm90b3R5cGVcbiAgQnVmZmVyLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXlcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC5zcGVjaWVzICYmXG4gICAgICBCdWZmZXJbU3ltYm9sLnNwZWNpZXNdID09PSBCdWZmZXIpIHtcbiAgICAvLyBGaXggc3ViYXJyYXkoKSBpbiBFUzIwMTYuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvcHVsbC85N1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsIFN5bWJvbC5zcGVjaWVzLCB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pXG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFsbG9jICh0aGF0LCBzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIGlmIChzaXplIDw9IDApIHtcbiAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG4gIH1cbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9ubHkgcGF5IGF0dGVudGlvbiB0byBlbmNvZGluZyBpZiBpdCdzIGEgc3RyaW5nLiBUaGlzXG4gICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbGx5IHNlbmRpbmcgaW4gYSBudW1iZXIgdGhhdCB3b3VsZFxuICAgIC8vIGJlIGludGVycHJldHRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhudWxsLCBzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHRoYXQsIHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpIHtcbiAgICAgIHRoYXRbaV0gPSAwXG4gICAgfVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogRXF1aXZhbGVudCB0byBCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqICovXG5CdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cbi8qKlxuICogRXF1aXZhbGVudCB0byBTbG93QnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cblxuZnVuY3Rpb24gZnJvbVN0cmluZyAodGhhdCwgc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICB9XG5cbiAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImVuY29kaW5nXCIgbXVzdCBiZSBhIHZhbGlkIHN0cmluZyBlbmNvZGluZycpXG4gIH1cblxuICB2YXIgbGVuZ3RoID0gYnl0ZUxlbmd0aChzdHJpbmcsIGVuY29kaW5nKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG5cbiAgdmFyIGFjdHVhbCA9IHRoYXQud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblxuICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcbiAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcbiAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuICAgIHRoYXQgPSB0aGF0LnNsaWNlKDAsIGFjdHVhbClcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKHRoYXQsIGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGF0W2ldID0gYXJyYXlbaV0gJiAyNTVcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIgKHRoYXQsIGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgYXJyYXkuYnl0ZUxlbmd0aCAvLyB0aGlzIHRocm93cyBpZiBgYXJyYXlgIGlzIG5vdCBhIHZhbGlkIEFycmF5QnVmZmVyXG5cbiAgaWYgKGJ5dGVPZmZzZXQgPCAwIHx8IGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0KSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ29mZnNldFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCArIChsZW5ndGggfHwgMCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnbGVuZ3RoXFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0KVxuICB9IGVsc2Uge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBhcnJheVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICB0aGF0ID0gZnJvbUFycmF5TGlrZSh0aGF0LCBhcnJheSlcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tT2JqZWN0ICh0aGF0LCBvYmopIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihvYmopKSB7XG4gICAgdmFyIGxlbiA9IGNoZWNrZWQob2JqLmxlbmd0aCkgfCAwXG4gICAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW4pXG5cbiAgICBpZiAodGhhdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGF0XG4gICAgfVxuXG4gICAgb2JqLmNvcHkodGhhdCwgMCwgMCwgbGVuKVxuICAgIHJldHVybiB0aGF0XG4gIH1cblxuICBpZiAob2JqKSB7XG4gICAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIG9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgfHwgJ2xlbmd0aCcgaW4gb2JqKSB7XG4gICAgICBpZiAodHlwZW9mIG9iai5sZW5ndGggIT09ICdudW1iZXInIHx8IGlzbmFuKG9iai5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgMClcbiAgICAgIH1cbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iailcbiAgICB9XG5cbiAgICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIGlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmouZGF0YSlcbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuJylcbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IGtNYXhMZW5ndGgoKWAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBrTWF4TGVuZ3RoKCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsga01heExlbmd0aCgpLnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gISEoYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyKVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkgfHwgIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgdmFyIHggPSBhLmxlbmd0aFxuICB2YXIgeSA9IGIubGVuZ3RoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICB2YXIgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICB2YXIgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBidWYgPSBsaXN0W2ldXG4gICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgICB9XG4gICAgYnVmLmNvcHkoYnVmZmVyLCBwb3MpXG4gICAgcG9zICs9IGJ1Zi5sZW5ndGhcbiAgfVxuICByZXR1cm4gYnVmZmVyXG59XG5cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5sZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZykgfHwgc3RyaW5nIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmdcbiAgfVxuXG4gIHZhciBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChsZW4gPT09IDApIHJldHVybiAwXG5cbiAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gbGVuICogMlxuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGxlbiA+Pj4gMVxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoIC8vIGFzc3VtZSB1dGY4XG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5CdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXG4gIC8vIE5vIG5lZWQgdG8gdmVyaWZ5IHRoYXQgXCJ0aGlzLmxlbmd0aCA8PSBNQVhfVUlOVDMyXCIgc2luY2UgaXQncyBhIHJlYWQtb25seVxuICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxuXG4gIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZFxuICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuXG4gIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG4gIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLlxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMlxuICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChlbmQgPD0gMCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLy8gRm9yY2UgY29lcnNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cbiAgZW5kID4+Pj0gMFxuICBzdGFydCA+Pj49IDBcblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhlIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgYW5kIGBpcy1idWZmZXJgIChpbiBTYWZhcmkgNS03KSB0byBkZXRlY3Rcbi8vIEJ1ZmZlciBpbnN0YW5jZXMuXG5CdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlciA9IHRydWVcblxuZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuICB2YXIgaSA9IGJbbl1cbiAgYltuXSA9IGJbbV1cbiAgYlttXSA9IGlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA0ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgOCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDcpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG4gICAgc3dhcCh0aGlzLCBpICsgMiwgaSArIDUpXG4gICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoIHwgMFxuICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gJydcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1dGY4U2xpY2UodGhpcywgMCwgbGVuZ3RoKVxuICByZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICBpZiAodGhpcyA9PT0gYikgcmV0dXJuIHRydWVcbiAgcmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsIGIpID09PSAwXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICB2YXIgc3RyID0gJydcbiAgdmFyIG1heCA9IGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVNcbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkubWF0Y2goLy57Mn0vZykuam9pbignICcpXG4gICAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJ1xuICB9XG4gIHJldHVybiAnPEJ1ZmZlciAnICsgc3RyICsgJz4nXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKHRhcmdldCwgc3RhcnQsIGVuZCwgdGhpc1N0YXJ0LCB0aGlzRW5kKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgfVxuXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5kID0gdGFyZ2V0ID8gdGFyZ2V0Lmxlbmd0aCA6IDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzU3RhcnQgPSAwXG4gIH1cbiAgaWYgKHRoaXNFbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNFbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKHN0YXJ0IDwgMCB8fCBlbmQgPiB0YXJnZXQubGVuZ3RoIHx8IHRoaXNTdGFydCA8IDAgfHwgdGhpc0VuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ291dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQgJiYgc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICBpZiAoc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuXG4gIHN0YXJ0ID4+Pj0gMFxuICBlbmQgPj4+PSAwXG4gIHRoaXNTdGFydCA+Pj49IDBcbiAgdGhpc0VuZCA+Pj49IDBcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0KSByZXR1cm4gMFxuXG4gIHZhciB4ID0gdGhpc0VuZCAtIHRoaXNTdGFydFxuICB2YXIgeSA9IGVuZCAtIHN0YXJ0XG4gIHZhciBsZW4gPSBNYXRoLm1pbih4LCB5KVxuXG4gIHZhciB0aGlzQ29weSA9IHRoaXMuc2xpY2UodGhpc1N0YXJ0LCB0aGlzRW5kKVxuICB2YXIgdGFyZ2V0Q29weSA9IHRhcmdldC5zbGljZShzdGFydCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAodGhpc0NvcHlbaV0gIT09IHRhcmdldENvcHlbaV0pIHtcbiAgICAgIHggPSB0aGlzQ29weVtpXVxuICAgICAgeSA9IHRhcmdldENvcHlbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG4vLyBGaW5kcyBlaXRoZXIgdGhlIGZpcnN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA+PSBgYnl0ZU9mZnNldGAsXG4vLyBPUiB0aGUgbGFzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPD0gYGJ5dGVPZmZzZXRgLlxuLy9cbi8vIEFyZ3VtZW50czpcbi8vIC0gYnVmZmVyIC0gYSBCdWZmZXIgdG8gc2VhcmNoXG4vLyAtIHZhbCAtIGEgc3RyaW5nLCBCdWZmZXIsIG9yIG51bWJlclxuLy8gLSBieXRlT2Zmc2V0IC0gYW4gaW5kZXggaW50byBgYnVmZmVyYDsgd2lsbCBiZSBjbGFtcGVkIHRvIGFuIGludDMyXG4vLyAtIGVuY29kaW5nIC0gYW4gb3B0aW9uYWwgZW5jb2RpbmcsIHJlbGV2YW50IGlzIHZhbCBpcyBhIHN0cmluZ1xuLy8gLSBkaXIgLSB0cnVlIGZvciBpbmRleE9mLCBmYWxzZSBmb3IgbGFzdEluZGV4T2ZcbmZ1bmN0aW9uIGJpZGlyZWN0aW9uYWxJbmRleE9mIChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICAvLyBFbXB0eSBidWZmZXIgbWVhbnMgbm8gbWF0Y2hcbiAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApIHJldHVybiAtMVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0XG4gIGlmICh0eXBlb2YgYnl0ZU9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IGJ5dGVPZmZzZXRcbiAgICBieXRlT2Zmc2V0ID0gMFxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPiAweDdmZmZmZmZmKSB7XG4gICAgYnl0ZU9mZnNldCA9IDB4N2ZmZmZmZmZcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgLTB4ODAwMDAwMDApIHtcbiAgICBieXRlT2Zmc2V0ID0gLTB4ODAwMDAwMDBcbiAgfVxuICBieXRlT2Zmc2V0ID0gK2J5dGVPZmZzZXQgIC8vIENvZXJjZSB0byBOdW1iZXIuXG4gIGlmIChpc05hTihieXRlT2Zmc2V0KSkge1xuICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sIFwiZm9vXCIsIGV0Yywgc2VhcmNoIHdob2xlIGJ1ZmZlclxuICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQ6IG5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwKSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCArIGJ5dGVPZmZzZXRcbiAgaWYgKGJ5dGVPZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgIGlmIChkaXIpIHJldHVybiAtMVxuICAgIGVsc2UgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggLSAxXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHtcbiAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMFxuICAgIGVsc2UgcmV0dXJuIC0xXG4gIH1cblxuICAvLyBOb3JtYWxpemUgdmFsXG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gIH1cblxuICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZlxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMHhGRiAvLyBTZWFyY2ggZm9yIGEgYnl0ZSB2YWx1ZSBbMC0yNTVdXG4gICAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmXG4gICAgICAgIHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZGlyKSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIFsgdmFsIF0sIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXInKVxufVxuXG5mdW5jdGlvbiBhcnJheUluZGV4T2YgKGFyciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIHZhciBpbmRleFNpemUgPSAxXG4gIHZhciBhcnJMZW5ndGggPSBhcnIubGVuZ3RoXG4gIHZhciB2YWxMZW5ndGggPSB2YWwubGVuZ3RoXG5cbiAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgIGlmIChlbmNvZGluZyA9PT0gJ3VjczInIHx8IGVuY29kaW5nID09PSAndWNzLTInIHx8XG4gICAgICAgIGVuY29kaW5nID09PSAndXRmMTZsZScgfHwgZW5jb2RpbmcgPT09ICd1dGYtMTZsZScpIHtcbiAgICAgIGlmIChhcnIubGVuZ3RoIDwgMiB8fCB2YWwubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gLTFcbiAgICAgIH1cbiAgICAgIGluZGV4U2l6ZSA9IDJcbiAgICAgIGFyckxlbmd0aCAvPSAyXG4gICAgICB2YWxMZW5ndGggLz0gMlxuICAgICAgYnl0ZU9mZnNldCAvPSAyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZCAoYnVmLCBpKSB7XG4gICAgaWYgKGluZGV4U2l6ZSA9PT0gMSkge1xuICAgICAgcmV0dXJuIGJ1ZltpXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYnVmLnJlYWRVSW50MTZCRShpICogaW5kZXhTaXplKVxuICAgIH1cbiAgfVxuXG4gIHZhciBpXG4gIGlmIChkaXIpIHtcbiAgICB2YXIgZm91bmRJbmRleCA9IC0xXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA8IGFyckxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocmVhZChhcnIsIGkpID09PSByZWFkKHZhbCwgZm91bmRJbmRleCA9PT0gLTEgPyAwIDogaSAtIGZvdW5kSW5kZXgpKSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAtMSkgZm91bmRJbmRleCA9IGlcbiAgICAgICAgaWYgKGkgLSBmb3VuZEluZGV4ICsgMSA9PT0gdmFsTGVuZ3RoKSByZXR1cm4gZm91bmRJbmRleCAqIGluZGV4U2l6ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggIT09IC0xKSBpIC09IGkgLSBmb3VuZEluZGV4XG4gICAgICAgIGZvdW5kSW5kZXggPSAtMVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYnl0ZU9mZnNldCArIHZhbExlbmd0aCA+IGFyckxlbmd0aCkgYnl0ZU9mZnNldCA9IGFyckxlbmd0aCAtIHZhbExlbmd0aFxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgZm91bmQgPSB0cnVlXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbExlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChyZWFkKGFyciwgaSArIGopICE9PSByZWFkKHZhbCwgaikpIHtcbiAgICAgICAgICBmb3VuZCA9IGZhbHNlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGZvdW5kKSByZXR1cm4gaVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIHRoaXMuaW5kZXhPZih2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSAhPT0gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgdHJ1ZSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBmYWxzZSlcbn1cblxuZnVuY3Rpb24gaGV4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICBvZmZzZXQgPSBOdW1iZXIob2Zmc2V0KSB8fCAwXG4gIHZhciByZW1haW5pbmcgPSBidWYubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID0gTnVtYmVyKGxlbmd0aClcbiAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG4gICAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgICB9XG4gIH1cblxuICAvLyBtdXN0IGJlIGFuIGV2ZW4gbnVtYmVyIG9mIGRpZ2l0c1xuICB2YXIgc3RyTGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAoc3RyTGVuICUgMiAhPT0gMCkgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBoZXggc3RyaW5nJylcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAoaXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGxhdGluMVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGFzY2lpV3JpdGUoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiYXNlNjRXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKVxuICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgICBpZiAoaXNGaW5pdGUobGVuZ3RoKSkge1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoIHwgMFxuICAgICAgaWYgKGVuY29kaW5nID09PSB1bmRlZmluZWQpIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgfSBlbHNlIHtcbiAgICAgIGVuY29kaW5nID0gbGVuZ3RoXG4gICAgICBsZW5ndGggPSB1bmRlZmluZWRcbiAgICB9XG4gIC8vIGxlZ2FjeSB3cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXQsIGxlbmd0aCkgLSByZW1vdmUgaW4gdjAuMTNcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQnXG4gICAgKVxuICB9XG5cbiAgdmFyIHJlbWFpbmluZyA9IHRoaXMubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCB8fCBsZW5ndGggPiByZW1haW5pbmcpIGxlbmd0aCA9IHJlbWFpbmluZ1xuXG4gIGlmICgoc3RyaW5nLmxlbmd0aCA+IDAgJiYgKGxlbmd0aCA8IDAgfHwgb2Zmc2V0IDwgMCkpIHx8IG9mZnNldCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgLy8gV2FybmluZzogbWF4TGVuZ3RoIG5vdCB0YWtlbiBpbnRvIGFjY291bnQgaW4gYmFzZTY0V3JpdGVcbiAgICAgICAgcmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1Y3MyV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQnVmZmVyJyxcbiAgICBkYXRhOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnIgfHwgdGhpcywgMClcbiAgfVxufVxuXG5mdW5jdGlvbiBiYXNlNjRTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYuc2xpY2Uoc3RhcnQsIGVuZCkpXG4gIH1cbn1cblxuZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuICB2YXIgcmVzID0gW11cblxuICB2YXIgaSA9IHN0YXJ0XG4gIHdoaWxlIChpIDwgZW5kKSB7XG4gICAgdmFyIGZpcnN0Qnl0ZSA9IGJ1ZltpXVxuICAgIHZhciBjb2RlUG9pbnQgPSBudWxsXG4gICAgdmFyIGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRikgPyA0XG4gICAgICA6IChmaXJzdEJ5dGUgPiAweERGKSA/IDNcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4QkYpID8gMlxuICAgICAgOiAxXG5cbiAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7XG4gICAgICB2YXIgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50XG5cbiAgICAgIHN3aXRjaCAoYnl0ZXNQZXJTZXF1ZW5jZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHtcbiAgICAgICAgICAgIGNvZGVQb2ludCA9IGZpcnN0Qnl0ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweDFGKSA8PCAweDYgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM11cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4MTIgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4QyB8ICh0aGlyZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAoZm91cnRoQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG4gICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhXG4gICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXG4gICAgICBjb2RlUG9pbnQgPSAweEZGRkRcbiAgICAgIGJ5dGVzUGVyU2VxdWVuY2UgPSAxXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHtcbiAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXG4gICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMFxuICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKVxuICAgICAgY29kZVBvaW50ID0gMHhEQzAwIHwgY29kZVBvaW50ICYgMHgzRkZcbiAgICB9XG5cbiAgICByZXMucHVzaChjb2RlUG9pbnQpXG4gICAgaSArPSBieXRlc1BlclNlcXVlbmNlXG4gIH1cblxuICByZXR1cm4gZGVjb2RlQ29kZVBvaW50c0FycmF5KHJlcylcbn1cblxuLy8gQmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI3NDcyNzIvNjgwNzQyLCB0aGUgYnJvd3NlciB3aXRoXG4vLyB0aGUgbG93ZXN0IGxpbWl0IGlzIENocm9tZSwgd2l0aCAweDEwMDAwIGFyZ3MuXG4vLyBXZSBnbyAxIG1hZ25pdHVkZSBsZXNzLCBmb3Igc2FmZXR5XG52YXIgTUFYX0FSR1VNRU5UU19MRU5HVEggPSAweDEwMDBcblxuZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5IChjb2RlUG9pbnRzKSB7XG4gIHZhciBsZW4gPSBjb2RlUG9pbnRzLmxlbmd0aFxuICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpXG4gIH1cblxuICAvLyBEZWNvZGUgaW4gY2h1bmtzIHRvIGF2b2lkIFwiY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCIuXG4gIHZhciByZXMgPSAnJ1xuICB2YXIgaSA9IDBcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShcbiAgICAgIFN0cmluZyxcbiAgICAgIGNvZGVQb2ludHMuc2xpY2UoaSwgaSArPSBNQVhfQVJHVU1FTlRTX0xFTkdUSClcbiAgICApXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBsYXRpbjFTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBoZXhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG5cbiAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cbiAgdmFyIG91dCA9ICcnXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgb3V0ICs9IHRvSGV4KGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICB2YXIgcmVzID0gJydcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgYnl0ZXNbaSArIDFdICogMjU2KVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBzdGFydCA9IH5+c3RhcnRcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB+fmVuZFxuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCArPSBsZW5cbiAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgfSBlbHNlIGlmIChzdGFydCA+IGxlbikge1xuICAgIHN0YXJ0ID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgMCkge1xuICAgIGVuZCArPSBsZW5cbiAgICBpZiAoZW5kIDwgMCkgZW5kID0gMFxuICB9IGVsc2UgaWYgKGVuZCA+IGxlbikge1xuICAgIGVuZCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIHZhciBuZXdCdWZcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAgIG5ld0J1Zi5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgdmFyIHNsaWNlTGVuID0gZW5kIC0gc3RhcnRcbiAgICBuZXdCdWYgPSBuZXcgQnVmZmVyKHNsaWNlTGVuLCB1bmRlZmluZWQpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGljZUxlbjsgKytpKSB7XG4gICAgICBuZXdCdWZbaV0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuICB9XG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXVxuICB2YXIgbXVsID0gMVxuICB3aGlsZSAoYnl0ZUxlbmd0aCA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICB0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aFxuICB2YXIgbXVsID0gMVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCAyNCkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24gcmVhZEZsb2F0TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFID0gZnVuY3Rpb24gd3JpdGVVSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDggPSBmdW5jdGlvbiB3cml0ZVVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4ZmYsIDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MTYgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgMik7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgJiAoMHhmZiA8PCAoOCAqIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpKSkpID4+PlxuICAgICAgKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkgKiA4XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MzIgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDQpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlID4+PiAobGl0dGxlRW5kaWFuID8gaSA6IDMgLSBpKSAqIDgpICYgMHhmZlxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFID0gZnVuY3Rpb24gd3JpdGVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IDBcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpICsgMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbmZ1bmN0aW9uIGNoZWNrSUVFRTc1NCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5mdW5jdGlvbiB3cml0ZUZsb2F0IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRG91YmxlIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDgsIDEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4LCAtMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkge1xuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoXG4gIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMFxuICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG4gIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcbiAgaWYgKHRhcmdldFN0YXJ0IDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgfVxuICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlU3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnRcbiAgfVxuXG4gIHZhciBsZW4gPSBlbmQgLSBzdGFydFxuICB2YXIgaVxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQgJiYgc3RhcnQgPCB0YXJnZXRTdGFydCAmJiB0YXJnZXRTdGFydCA8IGVuZCkge1xuICAgIC8vIGRlc2NlbmRpbmcgY29weSBmcm9tIGVuZFxuICAgIGZvciAoaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIGlmIChsZW4gPCAxMDAwIHx8ICFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIGFzY2VuZGluZyBjb3B5IGZyb20gc3RhcnRcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuICAgICAgdGFyZ2V0LFxuICAgICAgdGhpcy5zdWJhcnJheShzdGFydCwgc3RhcnQgKyBsZW4pLFxuICAgICAgdGFyZ2V0U3RhcnRcbiAgICApXG4gIH1cblxuICByZXR1cm4gbGVuXG59XG5cbi8vIFVzYWdlOlxuLy8gICAgYnVmZmVyLmZpbGwobnVtYmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChidWZmZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKHN0cmluZ1ssIG9mZnNldFssIGVuZF1dWywgZW5jb2RpbmddKVxuQnVmZmVyLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gZmlsbCAodmFsLCBzdGFydCwgZW5kLCBlbmNvZGluZykge1xuICAvLyBIYW5kbGUgc3RyaW5nIGNhc2VzOlxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBzdGFydFxuICAgICAgc3RhcnQgPSAwXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gZW5kXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH1cbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIGNvZGUgPSB2YWwuY2hhckNvZGVBdCgwKVxuICAgICAgaWYgKGNvZGUgPCAyNTYpIHtcbiAgICAgICAgdmFsID0gY29kZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nJylcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDI1NVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IHV0ZjhUb0J5dGVzKG5ldyBCdWZmZXIodmFsLCBlbmNvZGluZykudG9TdHJpbmcoKSlcbiAgICB2YXIgbGVuID0gYnl0ZXMubGVuZ3RoXG4gICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcbiAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rXFwvMC05QS1aYS16LV9dL2dcblxuZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikge1xuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyaW5ndHJpbShzdHIpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsICcnKVxuICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXG4gIGlmIChzdHIubGVuZ3RoIDwgMikgcmV0dXJuICcnXG4gIC8vIE5vZGUgYWxsb3dzIGZvciBub24tcGFkZGVkIGJhc2U2NCBzdHJpbmdzIChtaXNzaW5nIHRyYWlsaW5nID09PSksIGJhc2U2NC1qcyBkb2VzIG5vdFxuICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICBzdHIgPSBzdHIgKyAnPSdcbiAgfVxuICByZXR1cm4gc3RyXG59XG5cbmZ1bmN0aW9uIHN0cmluZ3RyaW0gKHN0cikge1xuICBpZiAoc3RyLnRyaW0pIHJldHVybiBzdHIudHJpbSgpXG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpXG59XG5cbmZ1bmN0aW9uIHRvSGV4IChuKSB7XG4gIGlmIChuIDwgMTYpIHJldHVybiAnMCcgKyBuLnRvU3RyaW5nKDE2KVxuICByZXR1cm4gbi50b1N0cmluZygxNilcbn1cblxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cmluZywgdW5pdHMpIHtcbiAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eVxuICB2YXIgY29kZVBvaW50XG4gIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoXG4gIHZhciBsZWFkU3Vycm9nYXRlID0gbnVsbFxuICB2YXIgYnl0ZXMgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXG4gICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG4gICAgICAvLyBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAgIC8vIG5vIGxlYWQgeWV0XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPiAweERCRkYpIHtcbiAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyIGxlYWRzIGluIGEgcm93XG4gICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG4gICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwXG4gICAgfSBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICB9XG5cbiAgICBsZWFkU3Vycm9nYXRlID0gbnVsbFxuXG4gICAgLy8gZW5jb2RlIHV0ZjhcbiAgICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKGNvZGVQb2ludClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4ODAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgfCAweEMwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDIHwgMHhFMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikge1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAvLyBOb2RlJ3MgY29kZSBzZWVtcyB0byBiZSBkb2luZyB0aGlzIGFuZCBub3QgJiAweDdGLi5cbiAgICBieXRlQXJyYXkucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4RkYpXG4gIH1cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykge1xuICB2YXIgYywgaGksIGxvXG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuXG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpXG4gICAgaGkgPSBjID4+IDhcbiAgICBsbyA9IGMgJSAyNTZcbiAgICBieXRlQXJyYXkucHVzaChsbylcbiAgICBieXRlQXJyYXkucHVzaChoaSlcbiAgfVxuXG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyAoc3RyKSB7XG4gIHJldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSlcbn1cblxuZnVuY3Rpb24gYmxpdEJ1ZmZlciAoc3JjLCBkc3QsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKGkgKyBvZmZzZXQgPj0gZHN0Lmxlbmd0aCkgfHwgKGkgPj0gc3JjLmxlbmd0aCkpIGJyZWFrXG4gICAgZHN0W2kgKyBvZmZzZXRdID0gc3JjW2ldXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gaXNuYW4gKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSB2YWwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5leHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXlcbmV4cG9ydHMuZnJvbUJ5dGVBcnJheSA9IGZyb21CeXRlQXJyYXlcblxudmFyIGxvb2t1cCA9IFtdXG52YXIgcmV2TG9va3VwID0gW11cbnZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXlcblxudmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLydcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV1cbiAgcmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV0gPSBpXG59XG5cbi8vIFN1cHBvcnQgZGVjb2RpbmcgVVJMLXNhZmUgYmFzZTY0IHN0cmluZ3MsIGFzIE5vZGUuanMgZG9lcy5cbi8vIFNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0I1VSTF9hcHBsaWNhdGlvbnNcbnJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MlxucmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cbmZ1bmN0aW9uIGdldExlbnMgKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvLyBUcmltIG9mZiBleHRyYSBieXRlcyBhZnRlciBwbGFjZWhvbGRlciBieXRlcyBhcmUgZm91bmRcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvaXNzdWVzLzQyXG4gIHZhciB2YWxpZExlbiA9IGI2NC5pbmRleE9mKCc9JylcbiAgaWYgKHZhbGlkTGVuID09PSAtMSkgdmFsaWRMZW4gPSBsZW5cblxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gdmFsaWRMZW4gPT09IGxlblxuICAgID8gMFxuICAgIDogNCAtICh2YWxpZExlbiAlIDQpXG5cbiAgcmV0dXJuIFt2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuXVxufVxuXG4vLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiBfYnl0ZUxlbmd0aCAoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSB7XG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuXG4gIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpXG5cbiAgdmFyIGN1ckJ5dGUgPSAwXG5cbiAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuICB2YXIgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMFxuICAgID8gdmFsaWRMZW4gLSA0XG4gICAgOiB2YWxpZExlblxuXG4gIHZhciBpXG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDEyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfFxuICAgICAgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV1cbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gMTYpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDIpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAxKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDEwKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgNCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtICYgMHgzRl1cbn1cblxuZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXBcbiAgdmFyIG91dHB1dCA9IFtdXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID1cbiAgICAgICgodWludDhbaV0gPDwgMTYpICYgMHhGRjAwMDApICtcbiAgICAgICgodWludDhbaSArIDFdIDw8IDgpICYgMHhGRjAwKSArXG4gICAgICAodWludDhbaSArIDJdICYgMHhGRilcbiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSlcbiAgfVxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGZyb21CeXRlQXJyYXkgKHVpbnQ4KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aFxuICB2YXIgZXh0cmFCeXRlcyA9IGxlbiAlIDMgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcbiAgdmFyIHBhcnRzID0gW11cbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODMgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVDaHVuayhcbiAgICAgIHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aClcbiAgICApKVxuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG4iLCJleHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IChlICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKCh2YWx1ZSAqIGMpIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8qXHJcbkF1dGhvcjogR2VyYWludCBMdWZmIGFuZCBvdGhlcnNcclxuWWVhcjogMjAxM1xyXG5cclxuVGhpcyBjb2RlIGlzIHJlbGVhc2VkIGludG8gdGhlIFwicHVibGljIGRvbWFpblwiIGJ5IGl0cyBhdXRob3IocykuICBBbnlib2R5IG1heSB1c2UsIGFsdGVyIGFuZCBkaXN0cmlidXRlIHRoZSBjb2RlIHdpdGhvdXQgcmVzdHJpY3Rpb24uICBUaGUgYXV0aG9yIG1ha2VzIG5vIGd1YXJhbnRlZXMsIGFuZCB0YWtlcyBubyBsaWFiaWxpdHkgb2YgYW55IGtpbmQgZm9yIHVzZSBvZiB0aGlzIGNvZGUuXHJcblxyXG5JZiB5b3UgZmluZCBhIGJ1ZyBvciBtYWtlIGFuIGltcHJvdmVtZW50LCBpdCB3b3VsZCBiZSBjb3VydGVvdXMgdG8gbGV0IHRoZSBhdXRob3Iga25vdywgYnV0IGl0IGlzIG5vdCBjb21wdWxzb3J5LlxyXG4qL1xyXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xyXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cclxuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XHJcbiAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cyl7XHJcbiAgICAvLyBDb21tb25KUy4gRGVmaW5lIGV4cG9ydC5cclxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBCcm93c2VyIGdsb2JhbHNcclxuICAgIGdsb2JhbC50djQgPSBmYWN0b3J5KCk7XHJcbiAgfVxyXG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcclxuXHJcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9rZXlzP3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZPYmplY3QlMkZrZXlzXHJcbmlmICghT2JqZWN0LmtleXMpIHtcclxuXHRPYmplY3Qua2V5cyA9IChmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxyXG5cdFx0XHRoYXNEb250RW51bUJ1ZyA9ICEoe3RvU3RyaW5nOiBudWxsfSkucHJvcGVydHlJc0VudW1lcmFibGUoJ3RvU3RyaW5nJyksXHJcblx0XHRcdGRvbnRFbnVtcyA9IFtcclxuXHRcdFx0XHQndG9TdHJpbmcnLFxyXG5cdFx0XHRcdCd0b0xvY2FsZVN0cmluZycsXHJcblx0XHRcdFx0J3ZhbHVlT2YnLFxyXG5cdFx0XHRcdCdoYXNPd25Qcm9wZXJ0eScsXHJcblx0XHRcdFx0J2lzUHJvdG90eXBlT2YnLFxyXG5cdFx0XHRcdCdwcm9wZXJ0eUlzRW51bWVyYWJsZScsXHJcblx0XHRcdFx0J2NvbnN0cnVjdG9yJ1xyXG5cdFx0XHRdLFxyXG5cdFx0XHRkb250RW51bXNMZW5ndGggPSBkb250RW51bXMubGVuZ3RoO1xyXG5cclxuXHRcdHJldHVybiBmdW5jdGlvbiAob2JqKSB7XHJcblx0XHRcdGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb2JqICE9PSAnZnVuY3Rpb24nIHx8IG9iaiA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5rZXlzIGNhbGxlZCBvbiBub24tb2JqZWN0Jyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHJcblx0XHRcdGZvciAodmFyIHByb3AgaW4gb2JqKSB7XHJcblx0XHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkge1xyXG5cdFx0XHRcdFx0cmVzdWx0LnB1c2gocHJvcCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoaGFzRG9udEVudW1CdWcpIHtcclxuXHRcdFx0XHRmb3IgKHZhciBpPTA7IGkgPCBkb250RW51bXNMZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBkb250RW51bXNbaV0pKSB7XHJcblx0XHRcdFx0XHRcdHJlc3VsdC5wdXNoKGRvbnRFbnVtc1tpXSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9O1xyXG5cdH0pKCk7XHJcbn1cclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2NyZWF0ZVxyXG5pZiAoIU9iamVjdC5jcmVhdGUpIHtcclxuXHRPYmplY3QuY3JlYXRlID0gKGZ1bmN0aW9uKCl7XHJcblx0XHRmdW5jdGlvbiBGKCl7fVxyXG5cclxuXHRcdHJldHVybiBmdW5jdGlvbihvKXtcclxuXHRcdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IDEpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ09iamVjdC5jcmVhdGUgaW1wbGVtZW50YXRpb24gb25seSBhY2NlcHRzIG9uZSBwYXJhbWV0ZXIuJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ri5wcm90b3R5cGUgPSBvO1xyXG5cdFx0XHRyZXR1cm4gbmV3IEYoKTtcclxuXHRcdH07XHJcblx0fSkoKTtcclxufVxyXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pc0FycmF5P3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZBcnJheSUyRmlzQXJyYXlcclxuaWYoIUFycmF5LmlzQXJyYXkpIHtcclxuXHRBcnJheS5pc0FycmF5ID0gZnVuY3Rpb24gKHZBcmcpIHtcclxuXHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodkFyZykgPT09IFwiW29iamVjdCBBcnJheV1cIjtcclxuXHR9O1xyXG59XHJcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2luZGV4T2Y/cmVkaXJlY3Rsb2NhbGU9ZW4tVVMmcmVkaXJlY3RzbHVnPUphdmFTY3JpcHQlMkZSZWZlcmVuY2UlMkZHbG9iYWxfT2JqZWN0cyUyRkFycmF5JTJGaW5kZXhPZlxyXG5pZiAoIUFycmF5LnByb3RvdHlwZS5pbmRleE9mKSB7XHJcblx0QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiAoc2VhcmNoRWxlbWVudCAvKiwgZnJvbUluZGV4ICovICkge1xyXG5cdFx0aWYgKHRoaXMgPT09IG51bGwpIHtcclxuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcigpO1xyXG5cdFx0fVxyXG5cdFx0dmFyIHQgPSBPYmplY3QodGhpcyk7XHJcblx0XHR2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XHJcblxyXG5cdFx0aWYgKGxlbiA9PT0gMCkge1xyXG5cdFx0XHRyZXR1cm4gLTE7XHJcblx0XHR9XHJcblx0XHR2YXIgbiA9IDA7XHJcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcclxuXHRcdFx0biA9IE51bWJlcihhcmd1bWVudHNbMV0pO1xyXG5cdFx0XHRpZiAobiAhPT0gbikgeyAvLyBzaG9ydGN1dCBmb3IgdmVyaWZ5aW5nIGlmIGl0J3MgTmFOXHJcblx0XHRcdFx0biA9IDA7XHJcblx0XHRcdH0gZWxzZSBpZiAobiAhPT0gMCAmJiBuICE9PSBJbmZpbml0eSAmJiBuICE9PSAtSW5maW5pdHkpIHtcclxuXHRcdFx0XHRuID0gKG4gPiAwIHx8IC0xKSAqIE1hdGguZmxvb3IoTWF0aC5hYnMobikpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAobiA+PSBsZW4pIHtcclxuXHRcdFx0cmV0dXJuIC0xO1xyXG5cdFx0fVxyXG5cdFx0dmFyIGsgPSBuID49IDAgPyBuIDogTWF0aC5tYXgobGVuIC0gTWF0aC5hYnMobiksIDApO1xyXG5cdFx0Zm9yICg7IGsgPCBsZW47IGsrKykge1xyXG5cdFx0XHRpZiAoayBpbiB0ICYmIHRba10gPT09IHNlYXJjaEVsZW1lbnQpIHtcclxuXHRcdFx0XHRyZXR1cm4gaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIC0xO1xyXG5cdH07XHJcbn1cclxuXHJcbi8vIEdydW5nZXkgT2JqZWN0LmlzRnJvemVuIGhhY2tcclxuaWYgKCFPYmplY3QuaXNGcm96ZW4pIHtcclxuXHRPYmplY3QuaXNGcm96ZW4gPSBmdW5jdGlvbiAob2JqKSB7XHJcblx0XHR2YXIga2V5ID0gXCJ0djRfdGVzdF9mcm96ZW5fa2V5XCI7XHJcblx0XHR3aGlsZSAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0a2V5ICs9IE1hdGgucmFuZG9tKCk7XHJcblx0XHR9XHJcblx0XHR0cnkge1xyXG5cdFx0XHRvYmpba2V5XSA9IHRydWU7XHJcblx0XHRcdGRlbGV0ZSBvYmpba2V5XTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHR9O1xyXG59XHJcbi8vIEJhc2VkIG9uOiBodHRwczovL2dpdGh1Yi5jb20vZ2VyYWludGx1ZmYvdXJpLXRlbXBsYXRlcywgYnV0IHdpdGggYWxsIHRoZSBkZS1zdWJzdGl0dXRpb24gc3R1ZmYgcmVtb3ZlZFxyXG5cclxudmFyIHVyaVRlbXBsYXRlR2xvYmFsTW9kaWZpZXJzID0ge1xyXG5cdFwiK1wiOiB0cnVlLFxyXG5cdFwiI1wiOiB0cnVlLFxyXG5cdFwiLlwiOiB0cnVlLFxyXG5cdFwiL1wiOiB0cnVlLFxyXG5cdFwiO1wiOiB0cnVlLFxyXG5cdFwiP1wiOiB0cnVlLFxyXG5cdFwiJlwiOiB0cnVlXHJcbn07XHJcbnZhciB1cmlUZW1wbGF0ZVN1ZmZpY2VzID0ge1xyXG5cdFwiKlwiOiB0cnVlXHJcbn07XHJcblxyXG5mdW5jdGlvbiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKHN0cmluZykge1xyXG5cdHJldHVybiBlbmNvZGVVUkkoc3RyaW5nKS5yZXBsYWNlKC8lMjVbMC05XVswLTldL2csIGZ1bmN0aW9uIChkb3VibGVFbmNvZGVkKSB7XHJcblx0XHRyZXR1cm4gXCIlXCIgKyBkb3VibGVFbmNvZGVkLnN1YnN0cmluZygzKTtcclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXJpVGVtcGxhdGVTdWJzdGl0dXRpb24oc3BlYykge1xyXG5cdHZhciBtb2RpZmllciA9IFwiXCI7XHJcblx0aWYgKHVyaVRlbXBsYXRlR2xvYmFsTW9kaWZpZXJzW3NwZWMuY2hhckF0KDApXSkge1xyXG5cdFx0bW9kaWZpZXIgPSBzcGVjLmNoYXJBdCgwKTtcclxuXHRcdHNwZWMgPSBzcGVjLnN1YnN0cmluZygxKTtcclxuXHR9XHJcblx0dmFyIHNlcGFyYXRvciA9IFwiXCI7XHJcblx0dmFyIHByZWZpeCA9IFwiXCI7XHJcblx0dmFyIHNob3VsZEVzY2FwZSA9IHRydWU7XHJcblx0dmFyIHNob3dWYXJpYWJsZXMgPSBmYWxzZTtcclxuXHR2YXIgdHJpbUVtcHR5U3RyaW5nID0gZmFsc2U7XHJcblx0aWYgKG1vZGlmaWVyID09PSAnKycpIHtcclxuXHRcdHNob3VsZEVzY2FwZSA9IGZhbHNlO1xyXG5cdH0gZWxzZSBpZiAobW9kaWZpZXIgPT09IFwiLlwiKSB7XHJcblx0XHRwcmVmaXggPSBcIi5cIjtcclxuXHRcdHNlcGFyYXRvciA9IFwiLlwiO1xyXG5cdH0gZWxzZSBpZiAobW9kaWZpZXIgPT09IFwiL1wiKSB7XHJcblx0XHRwcmVmaXggPSBcIi9cIjtcclxuXHRcdHNlcGFyYXRvciA9IFwiL1wiO1xyXG5cdH0gZWxzZSBpZiAobW9kaWZpZXIgPT09ICcjJykge1xyXG5cdFx0cHJlZml4ID0gXCIjXCI7XHJcblx0XHRzaG91bGRFc2NhcGUgPSBmYWxzZTtcclxuXHR9IGVsc2UgaWYgKG1vZGlmaWVyID09PSAnOycpIHtcclxuXHRcdHByZWZpeCA9IFwiO1wiO1xyXG5cdFx0c2VwYXJhdG9yID0gXCI7XCI7XHJcblx0XHRzaG93VmFyaWFibGVzID0gdHJ1ZTtcclxuXHRcdHRyaW1FbXB0eVN0cmluZyA9IHRydWU7XHJcblx0fSBlbHNlIGlmIChtb2RpZmllciA9PT0gJz8nKSB7XHJcblx0XHRwcmVmaXggPSBcIj9cIjtcclxuXHRcdHNlcGFyYXRvciA9IFwiJlwiO1xyXG5cdFx0c2hvd1ZhcmlhYmxlcyA9IHRydWU7XHJcblx0fSBlbHNlIGlmIChtb2RpZmllciA9PT0gJyYnKSB7XHJcblx0XHRwcmVmaXggPSBcIiZcIjtcclxuXHRcdHNlcGFyYXRvciA9IFwiJlwiO1xyXG5cdFx0c2hvd1ZhcmlhYmxlcyA9IHRydWU7XHJcblx0fVxyXG5cclxuXHR2YXIgdmFyTmFtZXMgPSBbXTtcclxuXHR2YXIgdmFyTGlzdCA9IHNwZWMuc3BsaXQoXCIsXCIpO1xyXG5cdHZhciB2YXJTcGVjcyA9IFtdO1xyXG5cdHZhciB2YXJTcGVjTWFwID0ge307XHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB2YXJMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgdmFyTmFtZSA9IHZhckxpc3RbaV07XHJcblx0XHR2YXIgdHJ1bmNhdGUgPSBudWxsO1xyXG5cdFx0aWYgKHZhck5hbWUuaW5kZXhPZihcIjpcIikgIT09IC0xKSB7XHJcblx0XHRcdHZhciBwYXJ0cyA9IHZhck5hbWUuc3BsaXQoXCI6XCIpO1xyXG5cdFx0XHR2YXJOYW1lID0gcGFydHNbMF07XHJcblx0XHRcdHRydW5jYXRlID0gcGFyc2VJbnQocGFydHNbMV0sIDEwKTtcclxuXHRcdH1cclxuXHRcdHZhciBzdWZmaWNlcyA9IHt9O1xyXG5cdFx0d2hpbGUgKHVyaVRlbXBsYXRlU3VmZmljZXNbdmFyTmFtZS5jaGFyQXQodmFyTmFtZS5sZW5ndGggLSAxKV0pIHtcclxuXHRcdFx0c3VmZmljZXNbdmFyTmFtZS5jaGFyQXQodmFyTmFtZS5sZW5ndGggLSAxKV0gPSB0cnVlO1xyXG5cdFx0XHR2YXJOYW1lID0gdmFyTmFtZS5zdWJzdHJpbmcoMCwgdmFyTmFtZS5sZW5ndGggLSAxKTtcclxuXHRcdH1cclxuXHRcdHZhciB2YXJTcGVjID0ge1xyXG5cdFx0XHR0cnVuY2F0ZTogdHJ1bmNhdGUsXHJcblx0XHRcdG5hbWU6IHZhck5hbWUsXHJcblx0XHRcdHN1ZmZpY2VzOiBzdWZmaWNlc1xyXG5cdFx0fTtcclxuXHRcdHZhclNwZWNzLnB1c2godmFyU3BlYyk7XHJcblx0XHR2YXJTcGVjTWFwW3Zhck5hbWVdID0gdmFyU3BlYztcclxuXHRcdHZhck5hbWVzLnB1c2godmFyTmFtZSk7XHJcblx0fVxyXG5cdHZhciBzdWJGdW5jdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZUZ1bmN0aW9uKSB7XHJcblx0XHR2YXIgcmVzdWx0ID0gXCJcIjtcclxuXHRcdHZhciBzdGFydEluZGV4ID0gMDtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdmFyU3BlY3MubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIHZhclNwZWMgPSB2YXJTcGVjc1tpXTtcclxuXHRcdFx0dmFyIHZhbHVlID0gdmFsdWVGdW5jdGlvbih2YXJTcGVjLm5hbWUpO1xyXG5cdFx0XHRpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAwKSB8fCAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID09PSAwKSkge1xyXG5cdFx0XHRcdHN0YXJ0SW5kZXgrKztcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoaSA9PT0gc3RhcnRJbmRleCkge1xyXG5cdFx0XHRcdHJlc3VsdCArPSBwcmVmaXg7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVzdWx0ICs9IChzZXBhcmF0b3IgfHwgXCIsXCIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG5cdFx0XHRcdGlmIChzaG93VmFyaWFibGVzKSB7XHJcblx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5uYW1lICsgXCI9XCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgdmFsdWUubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGlmIChqID4gMCkge1xyXG5cdFx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5zdWZmaWNlc1snKiddID8gKHNlcGFyYXRvciB8fCBcIixcIikgOiBcIixcIjtcclxuXHRcdFx0XHRcdFx0aWYgKHZhclNwZWMuc3VmZmljZXNbJyonXSAmJiBzaG93VmFyaWFibGVzKSB7XHJcblx0XHRcdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMubmFtZSArIFwiPVwiO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXN1bHQgKz0gc2hvdWxkRXNjYXBlID8gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlW2pdKS5yZXBsYWNlKC8hL2csIFwiJTIxXCIpIDogbm90UmVhbGx5UGVyY2VudEVuY29kZSh2YWx1ZVtqXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG5cdFx0XHRcdGlmIChzaG93VmFyaWFibGVzICYmICF2YXJTcGVjLnN1ZmZpY2VzWycqJ10pIHtcclxuXHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLm5hbWUgKyBcIj1cIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dmFyIGZpcnN0ID0gdHJ1ZTtcclxuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcclxuXHRcdFx0XHRcdGlmICghZmlyc3QpIHtcclxuXHRcdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMuc3VmZmljZXNbJyonXSA/IChzZXBhcmF0b3IgfHwgXCIsXCIpIDogXCIsXCI7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRmaXJzdCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0cmVzdWx0ICs9IHNob3VsZEVzY2FwZSA/IGVuY29kZVVSSUNvbXBvbmVudChrZXkpLnJlcGxhY2UoLyEvZywgXCIlMjFcIikgOiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKGtleSk7XHJcblx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5zdWZmaWNlc1snKiddID8gJz0nIDogXCIsXCI7XHJcblx0XHRcdFx0XHRyZXN1bHQgKz0gc2hvdWxkRXNjYXBlID8gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlW2tleV0pLnJlcGxhY2UoLyEvZywgXCIlMjFcIikgOiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKHZhbHVlW2tleV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAoc2hvd1ZhcmlhYmxlcykge1xyXG5cdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMubmFtZTtcclxuXHRcdFx0XHRcdGlmICghdHJpbUVtcHR5U3RyaW5nIHx8IHZhbHVlICE9PSBcIlwiKSB7XHJcblx0XHRcdFx0XHRcdHJlc3VsdCArPSBcIj1cIjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHZhclNwZWMudHJ1bmNhdGUgIT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMCwgdmFyU3BlYy50cnVuY2F0ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJlc3VsdCArPSBzaG91bGRFc2NhcGUgPyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpLnJlcGxhY2UoLyEvZywgXCIlMjFcIik6IG5vdFJlYWxseVBlcmNlbnRFbmNvZGUodmFsdWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH07XHJcblx0c3ViRnVuY3Rpb24udmFyTmFtZXMgPSB2YXJOYW1lcztcclxuXHRyZXR1cm4ge1xyXG5cdFx0cHJlZml4OiBwcmVmaXgsXHJcblx0XHRzdWJzdGl0dXRpb246IHN1YkZ1bmN0aW9uXHJcblx0fTtcclxufVxyXG5cclxuZnVuY3Rpb24gVXJpVGVtcGxhdGUodGVtcGxhdGUpIHtcclxuXHRpZiAoISh0aGlzIGluc3RhbmNlb2YgVXJpVGVtcGxhdGUpKSB7XHJcblx0XHRyZXR1cm4gbmV3IFVyaVRlbXBsYXRlKHRlbXBsYXRlKTtcclxuXHR9XHJcblx0dmFyIHBhcnRzID0gdGVtcGxhdGUuc3BsaXQoXCJ7XCIpO1xyXG5cdHZhciB0ZXh0UGFydHMgPSBbcGFydHMuc2hpZnQoKV07XHJcblx0dmFyIHByZWZpeGVzID0gW107XHJcblx0dmFyIHN1YnN0aXR1dGlvbnMgPSBbXTtcclxuXHR2YXIgdmFyTmFtZXMgPSBbXTtcclxuXHR3aGlsZSAocGFydHMubGVuZ3RoID4gMCkge1xyXG5cdFx0dmFyIHBhcnQgPSBwYXJ0cy5zaGlmdCgpO1xyXG5cdFx0dmFyIHNwZWMgPSBwYXJ0LnNwbGl0KFwifVwiKVswXTtcclxuXHRcdHZhciByZW1haW5kZXIgPSBwYXJ0LnN1YnN0cmluZyhzcGVjLmxlbmd0aCArIDEpO1xyXG5cdFx0dmFyIGZ1bmNzID0gdXJpVGVtcGxhdGVTdWJzdGl0dXRpb24oc3BlYyk7XHJcblx0XHRzdWJzdGl0dXRpb25zLnB1c2goZnVuY3Muc3Vic3RpdHV0aW9uKTtcclxuXHRcdHByZWZpeGVzLnB1c2goZnVuY3MucHJlZml4KTtcclxuXHRcdHRleHRQYXJ0cy5wdXNoKHJlbWFpbmRlcik7XHJcblx0XHR2YXJOYW1lcyA9IHZhck5hbWVzLmNvbmNhdChmdW5jcy5zdWJzdGl0dXRpb24udmFyTmFtZXMpO1xyXG5cdH1cclxuXHR0aGlzLmZpbGwgPSBmdW5jdGlvbiAodmFsdWVGdW5jdGlvbikge1xyXG5cdFx0dmFyIHJlc3VsdCA9IHRleHRQYXJ0c1swXTtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3Vic3RpdHV0aW9ucy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgc3Vic3RpdHV0aW9uID0gc3Vic3RpdHV0aW9uc1tpXTtcclxuXHRcdFx0cmVzdWx0ICs9IHN1YnN0aXR1dGlvbih2YWx1ZUZ1bmN0aW9uKTtcclxuXHRcdFx0cmVzdWx0ICs9IHRleHRQYXJ0c1tpICsgMV07XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH07XHJcblx0dGhpcy52YXJOYW1lcyA9IHZhck5hbWVzO1xyXG5cdHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcclxufVxyXG5VcmlUZW1wbGF0ZS5wcm90b3R5cGUgPSB7XHJcblx0dG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLnRlbXBsYXRlO1xyXG5cdH0sXHJcblx0ZmlsbEZyb21PYmplY3Q6IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdHJldHVybiB0aGlzLmZpbGwoZnVuY3Rpb24gKHZhck5hbWUpIHtcclxuXHRcdFx0cmV0dXJuIG9ialt2YXJOYW1lXTtcclxuXHRcdH0pO1xyXG5cdH1cclxufTtcclxudmFyIFZhbGlkYXRvckNvbnRleHQgPSBmdW5jdGlvbiBWYWxpZGF0b3JDb250ZXh0KHBhcmVudCwgY29sbGVjdE11bHRpcGxlLCBlcnJvclJlcG9ydGVyLCBjaGVja1JlY3Vyc2l2ZSwgdHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdHRoaXMubWlzc2luZyA9IFtdO1xyXG5cdHRoaXMubWlzc2luZ01hcCA9IHt9O1xyXG5cdHRoaXMuZm9ybWF0VmFsaWRhdG9ycyA9IHBhcmVudCA/IE9iamVjdC5jcmVhdGUocGFyZW50LmZvcm1hdFZhbGlkYXRvcnMpIDoge307XHJcblx0dGhpcy5zY2hlbWFzID0gcGFyZW50ID8gT2JqZWN0LmNyZWF0ZShwYXJlbnQuc2NoZW1hcykgOiB7fTtcclxuXHR0aGlzLmNvbGxlY3RNdWx0aXBsZSA9IGNvbGxlY3RNdWx0aXBsZTtcclxuXHR0aGlzLmVycm9ycyA9IFtdO1xyXG5cdHRoaXMuaGFuZGxlRXJyb3IgPSBjb2xsZWN0TXVsdGlwbGUgPyB0aGlzLmNvbGxlY3RFcnJvciA6IHRoaXMucmV0dXJuRXJyb3I7XHJcblx0aWYgKGNoZWNrUmVjdXJzaXZlKSB7XHJcblx0XHR0aGlzLmNoZWNrUmVjdXJzaXZlID0gdHJ1ZTtcclxuXHRcdHRoaXMuc2Nhbm5lZCA9IFtdO1xyXG5cdFx0dGhpcy5zY2FubmVkRnJvemVuID0gW107XHJcblx0XHR0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzID0gW107XHJcblx0XHR0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzID0gW107XHJcblx0XHR0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXkgPSAndHY0X3ZhbGlkYXRpb25faWQnO1xyXG5cdFx0dGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5ID0gJ3R2NF92YWxpZGF0aW9uX2Vycm9yc19pZCc7XHJcblx0fVxyXG5cdGlmICh0cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHR0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMgPSB0cnVlO1xyXG5cdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcclxuXHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcclxuXHR9XHJcblx0dGhpcy5lcnJvclJlcG9ydGVyID0gZXJyb3JSZXBvcnRlciB8fCBkZWZhdWx0RXJyb3JSZXBvcnRlcignZW4nKTtcclxuXHRpZiAodHlwZW9mIHRoaXMuZXJyb3JSZXBvcnRlciA9PT0gJ3N0cmluZycpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignZGVidWcnKTtcclxuXHR9XHJcblx0dGhpcy5kZWZpbmVkS2V5d29yZHMgPSB7fTtcclxuXHRpZiAocGFyZW50KSB7XHJcblx0XHRmb3IgKHZhciBrZXkgaW4gcGFyZW50LmRlZmluZWRLZXl3b3Jkcykge1xyXG5cdFx0XHR0aGlzLmRlZmluZWRLZXl3b3Jkc1trZXldID0gcGFyZW50LmRlZmluZWRLZXl3b3Jkc1trZXldLnNsaWNlKDApO1xyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuZGVmaW5lS2V5d29yZCA9IGZ1bmN0aW9uIChrZXl3b3JkLCBrZXl3b3JkRnVuY3Rpb24pIHtcclxuXHR0aGlzLmRlZmluZWRLZXl3b3Jkc1trZXl3b3JkXSA9IHRoaXMuZGVmaW5lZEtleXdvcmRzW2tleXdvcmRdIHx8IFtdO1xyXG5cdHRoaXMuZGVmaW5lZEtleXdvcmRzW2tleXdvcmRdLnB1c2goa2V5d29yZEZ1bmN0aW9uKTtcclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlRXJyb3IgPSBmdW5jdGlvbiAoY29kZSwgbWVzc2FnZVBhcmFtcywgZGF0YVBhdGgsIHNjaGVtYVBhdGgsIHN1YkVycm9ycywgZGF0YSwgc2NoZW1hKSB7XHJcblx0dmFyIGVycm9yID0gbmV3IFZhbGlkYXRpb25FcnJvcihjb2RlLCBtZXNzYWdlUGFyYW1zLCBkYXRhUGF0aCwgc2NoZW1hUGF0aCwgc3ViRXJyb3JzKTtcclxuXHRlcnJvci5tZXNzYWdlID0gdGhpcy5lcnJvclJlcG9ydGVyKGVycm9yLCBkYXRhLCBzY2hlbWEpO1xyXG5cdHJldHVybiBlcnJvcjtcclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUucmV0dXJuRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHRyZXR1cm4gZXJyb3I7XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmNvbGxlY3RFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xyXG5cdGlmIChlcnJvcikge1xyXG5cdFx0dGhpcy5lcnJvcnMucHVzaChlcnJvcik7XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5wcmVmaXhFcnJvcnMgPSBmdW5jdGlvbiAoc3RhcnRJbmRleCwgZGF0YVBhdGgsIHNjaGVtYVBhdGgpIHtcclxuXHRmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IHRoaXMuZXJyb3JzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR0aGlzLmVycm9yc1tpXSA9IHRoaXMuZXJyb3JzW2ldLnByZWZpeFdpdGgoZGF0YVBhdGgsIHNjaGVtYVBhdGgpO1xyXG5cdH1cclxuXHRyZXR1cm4gdGhpcztcclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuYmFuVW5rbm93blByb3BlcnRpZXMgPSBmdW5jdGlvbiAoZGF0YSwgc2NoZW1hKSB7XHJcblx0Zm9yICh2YXIgdW5rbm93blBhdGggaW4gdGhpcy51bmtub3duUHJvcGVydHlQYXRocykge1xyXG5cdFx0dmFyIGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLlVOS05PV05fUFJPUEVSVFksIHtwYXRoOiB1bmtub3duUGF0aH0sIHVua25vd25QYXRoLCBcIlwiLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0dmFyIHJlc3VsdCA9IHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xyXG5cdFx0aWYgKHJlc3VsdCkge1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmFkZEZvcm1hdCA9IGZ1bmN0aW9uIChmb3JtYXQsIHZhbGlkYXRvcikge1xyXG5cdGlmICh0eXBlb2YgZm9ybWF0ID09PSAnb2JqZWN0Jykge1xyXG5cdFx0Zm9yICh2YXIga2V5IGluIGZvcm1hdCkge1xyXG5cdFx0XHR0aGlzLmFkZEZvcm1hdChrZXksIGZvcm1hdFtrZXldKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHR0aGlzLmZvcm1hdFZhbGlkYXRvcnNbZm9ybWF0XSA9IHZhbGlkYXRvcjtcclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUucmVzb2x2ZVJlZnMgPSBmdW5jdGlvbiAoc2NoZW1hLCB1cmxIaXN0b3J5KSB7XHJcblx0aWYgKHNjaGVtYVsnJHJlZiddICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdHVybEhpc3RvcnkgPSB1cmxIaXN0b3J5IHx8IHt9O1xyXG5cdFx0aWYgKHVybEhpc3Rvcnlbc2NoZW1hWyckcmVmJ11dKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuQ0lSQ1VMQVJfUkVGRVJFTkNFLCB7dXJsczogT2JqZWN0LmtleXModXJsSGlzdG9yeSkuam9pbignLCAnKX0sICcnLCAnJywgbnVsbCwgdW5kZWZpbmVkLCBzY2hlbWEpO1xyXG5cdFx0fVxyXG5cdFx0dXJsSGlzdG9yeVtzY2hlbWFbJyRyZWYnXV0gPSB0cnVlO1xyXG5cdFx0c2NoZW1hID0gdGhpcy5nZXRTY2hlbWEoc2NoZW1hWyckcmVmJ10sIHVybEhpc3RvcnkpO1xyXG5cdH1cclxuXHRyZXR1cm4gc2NoZW1hO1xyXG59O1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5nZXRTY2hlbWEgPSBmdW5jdGlvbiAodXJsLCB1cmxIaXN0b3J5KSB7XHJcblx0dmFyIHNjaGVtYTtcclxuXHRpZiAodGhpcy5zY2hlbWFzW3VybF0gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0c2NoZW1hID0gdGhpcy5zY2hlbWFzW3VybF07XHJcblx0XHRyZXR1cm4gdGhpcy5yZXNvbHZlUmVmcyhzY2hlbWEsIHVybEhpc3RvcnkpO1xyXG5cdH1cclxuXHR2YXIgYmFzZVVybCA9IHVybDtcclxuXHR2YXIgZnJhZ21lbnQgPSBcIlwiO1xyXG5cdGlmICh1cmwuaW5kZXhPZignIycpICE9PSAtMSkge1xyXG5cdFx0ZnJhZ21lbnQgPSB1cmwuc3Vic3RyaW5nKHVybC5pbmRleE9mKFwiI1wiKSArIDEpO1xyXG5cdFx0YmFzZVVybCA9IHVybC5zdWJzdHJpbmcoMCwgdXJsLmluZGV4T2YoXCIjXCIpKTtcclxuXHR9XHJcblx0aWYgKHR5cGVvZiB0aGlzLnNjaGVtYXNbYmFzZVVybF0gPT09ICdvYmplY3QnKSB7XHJcblx0XHRzY2hlbWEgPSB0aGlzLnNjaGVtYXNbYmFzZVVybF07XHJcblx0XHR2YXIgcG9pbnRlclBhdGggPSBkZWNvZGVVUklDb21wb25lbnQoZnJhZ21lbnQpO1xyXG5cdFx0aWYgKHBvaW50ZXJQYXRoID09PSBcIlwiKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnJlc29sdmVSZWZzKHNjaGVtYSwgdXJsSGlzdG9yeSk7XHJcblx0XHR9IGVsc2UgaWYgKHBvaW50ZXJQYXRoLmNoYXJBdCgwKSAhPT0gXCIvXCIpIHtcclxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHRcdHZhciBwYXJ0cyA9IHBvaW50ZXJQYXRoLnNwbGl0KFwiL1wiKS5zbGljZSgxKTtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGNvbXBvbmVudCA9IHBhcnRzW2ldLnJlcGxhY2UoL34xL2csIFwiL1wiKS5yZXBsYWNlKC9+MC9nLCBcIn5cIik7XHJcblx0XHRcdGlmIChzY2hlbWFbY29tcG9uZW50XSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0c2NoZW1hID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdHNjaGVtYSA9IHNjaGVtYVtjb21wb25lbnRdO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHNjaGVtYSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnJlc29sdmVSZWZzKHNjaGVtYSwgdXJsSGlzdG9yeSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmICh0aGlzLm1pc3NpbmdbYmFzZVVybF0gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0dGhpcy5taXNzaW5nLnB1c2goYmFzZVVybCk7XHJcblx0XHR0aGlzLm1pc3NpbmdbYmFzZVVybF0gPSBiYXNlVXJsO1xyXG5cdFx0dGhpcy5taXNzaW5nTWFwW2Jhc2VVcmxdID0gYmFzZVVybDtcclxuXHR9XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnNlYXJjaFNjaGVtYXMgPSBmdW5jdGlvbiAoc2NoZW1hLCB1cmwpIHtcclxuXHRpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEpKSB7XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR0aGlzLnNlYXJjaFNjaGVtYXMoc2NoZW1hW2ldLCB1cmwpO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAoc2NoZW1hICYmIHR5cGVvZiBzY2hlbWEgPT09IFwib2JqZWN0XCIpIHtcclxuXHRcdGlmICh0eXBlb2Ygc2NoZW1hLmlkID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdGlmIChpc1RydXN0ZWRVcmwodXJsLCBzY2hlbWEuaWQpKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMuc2NoZW1hc1tzY2hlbWEuaWRdID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdHRoaXMuc2NoZW1hc1tzY2hlbWEuaWRdID0gc2NoZW1hO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Zm9yICh2YXIga2V5IGluIHNjaGVtYSkge1xyXG5cdFx0XHRpZiAoa2V5ICE9PSBcImVudW1cIikge1xyXG5cdFx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hW2tleV0gPT09IFwib2JqZWN0XCIpIHtcclxuXHRcdFx0XHRcdHRoaXMuc2VhcmNoU2NoZW1hcyhzY2hlbWFba2V5XSwgdXJsKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGtleSA9PT0gXCIkcmVmXCIpIHtcclxuXHRcdFx0XHRcdHZhciB1cmkgPSBnZXREb2N1bWVudFVyaShzY2hlbWFba2V5XSk7XHJcblx0XHRcdFx0XHRpZiAodXJpICYmIHRoaXMuc2NoZW1hc1t1cmldID09PSB1bmRlZmluZWQgJiYgdGhpcy5taXNzaW5nTWFwW3VyaV0gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLm1pc3NpbmdNYXBbdXJpXSA9IHVyaTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmFkZFNjaGVtYSA9IGZ1bmN0aW9uICh1cmwsIHNjaGVtYSkge1xyXG5cdC8vb3ZlcmxvYWRcclxuXHRpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHNjaGVtYSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdGlmICh0eXBlb2YgdXJsID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdXJsLmlkID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRzY2hlbWEgPSB1cmw7XHJcblx0XHRcdHVybCA9IHNjaGVtYS5pZDtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmICh1cmwgPT09IGdldERvY3VtZW50VXJpKHVybCkgKyBcIiNcIikge1xyXG5cdFx0Ly8gUmVtb3ZlIGVtcHR5IGZyYWdtZW50XHJcblx0XHR1cmwgPSBnZXREb2N1bWVudFVyaSh1cmwpO1xyXG5cdH1cclxuXHR0aGlzLnNjaGVtYXNbdXJsXSA9IHNjaGVtYTtcclxuXHRkZWxldGUgdGhpcy5taXNzaW5nTWFwW3VybF07XHJcblx0bm9ybVNjaGVtYShzY2hlbWEsIHVybCk7XHJcblx0dGhpcy5zZWFyY2hTY2hlbWFzKHNjaGVtYSwgdXJsKTtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmdldFNjaGVtYU1hcCA9IGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgbWFwID0ge307XHJcblx0Zm9yICh2YXIga2V5IGluIHRoaXMuc2NoZW1hcykge1xyXG5cdFx0bWFwW2tleV0gPSB0aGlzLnNjaGVtYXNba2V5XTtcclxuXHR9XHJcblx0cmV0dXJuIG1hcDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmdldFNjaGVtYVVyaXMgPSBmdW5jdGlvbiAoZmlsdGVyUmVnRXhwKSB7XHJcblx0dmFyIGxpc3QgPSBbXTtcclxuXHRmb3IgKHZhciBrZXkgaW4gdGhpcy5zY2hlbWFzKSB7XHJcblx0XHRpZiAoIWZpbHRlclJlZ0V4cCB8fCBmaWx0ZXJSZWdFeHAudGVzdChrZXkpKSB7XHJcblx0XHRcdGxpc3QucHVzaChrZXkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbGlzdDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmdldE1pc3NpbmdVcmlzID0gZnVuY3Rpb24gKGZpbHRlclJlZ0V4cCkge1xyXG5cdHZhciBsaXN0ID0gW107XHJcblx0Zm9yICh2YXIga2V5IGluIHRoaXMubWlzc2luZ01hcCkge1xyXG5cdFx0aWYgKCFmaWx0ZXJSZWdFeHAgfHwgZmlsdGVyUmVnRXhwLnRlc3Qoa2V5KSkge1xyXG5cdFx0XHRsaXN0LnB1c2goa2V5KTtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIGxpc3Q7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5kcm9wU2NoZW1hcyA9IGZ1bmN0aW9uICgpIHtcclxuXHR0aGlzLnNjaGVtYXMgPSB7fTtcclxuXHR0aGlzLnJlc2V0KCk7XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG5cdHRoaXMubWlzc2luZyA9IFtdO1xyXG5cdHRoaXMubWlzc2luZ01hcCA9IHt9O1xyXG5cdHRoaXMuZXJyb3JzID0gW107XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFsbCA9IGZ1bmN0aW9uIChkYXRhLCBzY2hlbWEsIGRhdGFQYXRoUGFydHMsIHNjaGVtYVBhdGhQYXJ0cywgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0dmFyIHRvcExldmVsO1xyXG5cdHNjaGVtYSA9IHRoaXMucmVzb2x2ZVJlZnMoc2NoZW1hKTtcclxuXHRpZiAoIXNjaGVtYSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fSBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBWYWxpZGF0aW9uRXJyb3IpIHtcclxuXHRcdHRoaXMuZXJyb3JzLnB1c2goc2NoZW1hKTtcclxuXHRcdHJldHVybiBzY2hlbWE7XHJcblx0fVxyXG5cclxuXHR2YXIgc3RhcnRFcnJvckNvdW50ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xyXG5cdHZhciBmcm96ZW5JbmRleCwgc2Nhbm5lZEZyb3plblNjaGVtYUluZGV4ID0gbnVsbCwgc2Nhbm5lZFNjaGVtYXNJbmRleCA9IG51bGw7XHJcblx0aWYgKHRoaXMuY2hlY2tSZWN1cnNpdmUgJiYgZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdHRvcExldmVsID0gIXRoaXMuc2Nhbm5lZC5sZW5ndGg7XHJcblx0XHRpZiAoZGF0YVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldKSB7XHJcblx0XHRcdHZhciBzY2hlbWFJbmRleCA9IGRhdGFbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XS5pbmRleE9mKHNjaGVtYSk7XHJcblx0XHRcdGlmIChzY2hlbWFJbmRleCAhPT0gLTEpIHtcclxuXHRcdFx0XHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLmNvbmNhdChkYXRhW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV1bc2NoZW1hSW5kZXhdKTtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYgKE9iamVjdC5pc0Zyb3plbihkYXRhKSkge1xyXG5cdFx0XHRmcm96ZW5JbmRleCA9IHRoaXMuc2Nhbm5lZEZyb3plbi5pbmRleE9mKGRhdGEpO1xyXG5cdFx0XHRpZiAoZnJvemVuSW5kZXggIT09IC0xKSB7XHJcblx0XHRcdFx0dmFyIGZyb3plblNjaGVtYUluZGV4ID0gdGhpcy5zY2FubmVkRnJvemVuU2NoZW1hc1tmcm96ZW5JbmRleF0uaW5kZXhPZihzY2hlbWEpO1xyXG5cdFx0XHRcdGlmIChmcm96ZW5TY2hlbWFJbmRleCAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuY29uY2F0KHRoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnNbZnJvemVuSW5kZXhdW2Zyb3plblNjaGVtYUluZGV4XSk7XHJcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHRoaXMuc2Nhbm5lZC5wdXNoKGRhdGEpO1xyXG5cdFx0aWYgKE9iamVjdC5pc0Zyb3plbihkYXRhKSkge1xyXG5cdFx0XHRpZiAoZnJvemVuSW5kZXggPT09IC0xKSB7XHJcblx0XHRcdFx0ZnJvemVuSW5kZXggPSB0aGlzLnNjYW5uZWRGcm96ZW4ubGVuZ3RoO1xyXG5cdFx0XHRcdHRoaXMuc2Nhbm5lZEZyb3plbi5wdXNoKGRhdGEpO1xyXG5cdFx0XHRcdHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXMucHVzaChbXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c2Nhbm5lZEZyb3plblNjaGVtYUluZGV4ID0gdGhpcy5zY2FubmVkRnJvemVuU2NoZW1hc1tmcm96ZW5JbmRleF0ubGVuZ3RoO1xyXG5cdFx0XHR0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzW2Zyb3plbkluZGV4XVtzY2FubmVkRnJvemVuU2NoZW1hSW5kZXhdID0gc2NoZW1hO1xyXG5cdFx0XHR0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzW2Zyb3plbkluZGV4XVtzY2FubmVkRnJvemVuU2NoZW1hSW5kZXhdID0gW107XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZiAoIWRhdGFbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XSkge1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZGF0YSwgdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5LCB7XHJcblx0XHRcdFx0XHRcdHZhbHVlOiBbXSxcclxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkYXRhLCB0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXksIHtcclxuXHRcdFx0XHRcdFx0dmFsdWU6IFtdLFxyXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRcdC8vSUUgNy84IHdvcmthcm91bmRcclxuXHRcdFx0XHRcdGRhdGFbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XSA9IFtdO1xyXG5cdFx0XHRcdFx0ZGF0YVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldID0gW107XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHNjYW5uZWRTY2hlbWFzSW5kZXggPSBkYXRhW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0ubGVuZ3RoO1xyXG5cdFx0XHRkYXRhW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV1bc2Nhbm5lZFNjaGVtYXNJbmRleF0gPSBzY2hlbWE7XHJcblx0XHRcdGRhdGFbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XVtzY2FubmVkU2NoZW1hc0luZGV4XSA9IFtdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dmFyIGVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XHJcblx0dmFyIGVycm9yID0gdGhpcy52YWxpZGF0ZUJhc2ljKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU51bWVyaWMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlU3RyaW5nKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZUFycmF5KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU9iamVjdChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVDb21iaW5hdGlvbnMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlSHlwZXJtZWRpYShkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVGb3JtYXQoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlRGVmaW5lZEtleXdvcmRzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgbnVsbDtcclxuXHJcblx0aWYgKHRvcExldmVsKSB7XHJcblx0XHR3aGlsZSAodGhpcy5zY2FubmVkLmxlbmd0aCkge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHRoaXMuc2Nhbm5lZC5wb3AoKTtcclxuXHRcdFx0ZGVsZXRlIGl0ZW1bdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XTtcclxuXHRcdH1cclxuXHRcdHRoaXMuc2Nhbm5lZEZyb3plbiA9IFtdO1xyXG5cdFx0dGhpcy5zY2FubmVkRnJvemVuU2NoZW1hcyA9IFtdO1xyXG5cdH1cclxuXHJcblx0aWYgKGVycm9yIHx8IGVycm9yQ291bnQgIT09IHRoaXMuZXJyb3JzLmxlbmd0aCkge1xyXG5cdFx0d2hpbGUgKChkYXRhUGF0aFBhcnRzICYmIGRhdGFQYXRoUGFydHMubGVuZ3RoKSB8fCAoc2NoZW1hUGF0aFBhcnRzICYmIHNjaGVtYVBhdGhQYXJ0cy5sZW5ndGgpKSB7XHJcblx0XHRcdHZhciBkYXRhUGFydCA9IChkYXRhUGF0aFBhcnRzICYmIGRhdGFQYXRoUGFydHMubGVuZ3RoKSA/IFwiXCIgKyBkYXRhUGF0aFBhcnRzLnBvcCgpIDogbnVsbDtcclxuXHRcdFx0dmFyIHNjaGVtYVBhcnQgPSAoc2NoZW1hUGF0aFBhcnRzICYmIHNjaGVtYVBhdGhQYXJ0cy5sZW5ndGgpID8gXCJcIiArIHNjaGVtYVBhdGhQYXJ0cy5wb3AoKSA6IG51bGw7XHJcblx0XHRcdGlmIChlcnJvcikge1xyXG5cdFx0XHRcdGVycm9yID0gZXJyb3IucHJlZml4V2l0aChkYXRhUGFydCwgc2NoZW1hUGFydCk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5wcmVmaXhFcnJvcnMoZXJyb3JDb3VudCwgZGF0YVBhcnQsIHNjaGVtYVBhcnQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKHNjYW5uZWRGcm96ZW5TY2hlbWFJbmRleCAhPT0gbnVsbCkge1xyXG5cdFx0dGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9yc1tmcm96ZW5JbmRleF1bc2Nhbm5lZEZyb3plblNjaGVtYUluZGV4XSA9IHRoaXMuZXJyb3JzLnNsaWNlKHN0YXJ0RXJyb3JDb3VudCk7XHJcblx0fSBlbHNlIGlmIChzY2FubmVkU2NoZW1hc0luZGV4ICE9PSBudWxsKSB7XHJcblx0XHRkYXRhW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV1bc2Nhbm5lZFNjaGVtYXNJbmRleF0gPSB0aGlzLmVycm9ycy5zbGljZShzdGFydEVycm9yQ291bnQpO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xyXG59O1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIChkYXRhLCBzY2hlbWEpIHtcclxuXHRpZiAodHlwZW9mIHNjaGVtYS5mb3JtYXQgIT09ICdzdHJpbmcnIHx8ICF0aGlzLmZvcm1hdFZhbGlkYXRvcnNbc2NoZW1hLmZvcm1hdF0pIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHR2YXIgZXJyb3JNZXNzYWdlID0gdGhpcy5mb3JtYXRWYWxpZGF0b3JzW3NjaGVtYS5mb3JtYXRdLmNhbGwobnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRpZiAodHlwZW9mIGVycm9yTWVzc2FnZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGVycm9yTWVzc2FnZSA9PT0gJ251bWJlcicpIHtcclxuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuRk9STUFUX0NVU1RPTSwge21lc3NhZ2U6IGVycm9yTWVzc2FnZX0sICcnLCAnL2Zvcm1hdCcsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0fSBlbHNlIGlmIChlcnJvck1lc3NhZ2UgJiYgdHlwZW9mIGVycm9yTWVzc2FnZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuRk9STUFUX0NVU1RPTSwge21lc3NhZ2U6IGVycm9yTWVzc2FnZS5tZXNzYWdlIHx8IFwiP1wifSwgZXJyb3JNZXNzYWdlLmRhdGFQYXRoIHx8ICcnLCBlcnJvck1lc3NhZ2Uuc2NoZW1hUGF0aCB8fCBcIi9mb3JtYXRcIiwgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlRGVmaW5lZEtleXdvcmRzID0gZnVuY3Rpb24gKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0Zm9yICh2YXIga2V5IGluIHRoaXMuZGVmaW5lZEtleXdvcmRzKSB7XHJcblx0XHRpZiAodHlwZW9mIHNjaGVtYVtrZXldID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRjb250aW51ZTtcclxuXHRcdH1cclxuXHRcdHZhciB2YWxpZGF0aW9uRnVuY3Rpb25zID0gdGhpcy5kZWZpbmVkS2V5d29yZHNba2V5XTtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdmFsaWRhdGlvbkZ1bmN0aW9ucy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgZnVuYyA9IHZhbGlkYXRpb25GdW5jdGlvbnNbaV07XHJcblx0XHRcdHZhciByZXN1bHQgPSBmdW5jKGRhdGEsIHNjaGVtYVtrZXldLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCk7XHJcblx0XHRcdGlmICh0eXBlb2YgcmVzdWx0ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcmVzdWx0ID09PSAnbnVtYmVyJykge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuS0VZV09SRF9DVVNUT00sIHtrZXk6IGtleSwgbWVzc2FnZTogcmVzdWx0fSwgJycsICcnLCBudWxsLCBkYXRhLCBzY2hlbWEpLnByZWZpeFdpdGgobnVsbCwga2V5KTtcclxuXHRcdFx0fSBlbHNlIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHR2YXIgY29kZSA9IHJlc3VsdC5jb2RlO1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgY29kZSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdGlmICghRXJyb3JDb2Rlc1tjb2RlXSkge1xyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1VuZGVmaW5lZCBlcnJvciBjb2RlICh1c2UgZGVmaW5lRXJyb3IpOiAnICsgY29kZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRjb2RlID0gRXJyb3JDb2Rlc1tjb2RlXTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBjb2RlICE9PSAnbnVtYmVyJykge1xyXG5cdFx0XHRcdFx0Y29kZSA9IEVycm9yQ29kZXMuS0VZV09SRF9DVVNUT007XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciBtZXNzYWdlUGFyYW1zID0gKHR5cGVvZiByZXN1bHQubWVzc2FnZSA9PT0gJ29iamVjdCcpID8gcmVzdWx0Lm1lc3NhZ2UgOiB7a2V5OiBrZXksIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIHx8IFwiP1wifTtcclxuXHRcdFx0XHR2YXIgc2NoZW1hUGF0aCA9IHJlc3VsdC5zY2hlbWFQYXRoIHx8IChcIi9cIiArIGtleS5yZXBsYWNlKC9+L2csICd+MCcpLnJlcGxhY2UoL1xcLy9nLCAnfjEnKSk7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoY29kZSwgbWVzc2FnZVBhcmFtcywgcmVzdWx0LmRhdGFQYXRoIHx8IG51bGwsIHNjaGVtYVBhdGgsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5mdW5jdGlvbiByZWN1cnNpdmVDb21wYXJlKEEsIEIpIHtcclxuXHRpZiAoQSA9PT0gQikge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cdGlmIChBICYmIEIgJiYgdHlwZW9mIEEgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIEIgPT09IFwib2JqZWN0XCIpIHtcclxuXHRcdGlmIChBcnJheS5pc0FycmF5KEEpICE9PSBBcnJheS5pc0FycmF5KEIpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShBKSkge1xyXG5cdFx0XHRpZiAoQS5sZW5ndGggIT09IEIubGVuZ3RoKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgQS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGlmICghcmVjdXJzaXZlQ29tcGFyZShBW2ldLCBCW2ldKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIGtleTtcclxuXHRcdFx0Zm9yIChrZXkgaW4gQSkge1xyXG5cdFx0XHRcdGlmIChCW2tleV0gPT09IHVuZGVmaW5lZCAmJiBBW2tleV0gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IgKGtleSBpbiBCKSB7XHJcblx0XHRcdFx0aWYgKEFba2V5XSA9PT0gdW5kZWZpbmVkICYmIEJba2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGZvciAoa2V5IGluIEEpIHtcclxuXHRcdFx0XHRpZiAoIXJlY3Vyc2l2ZUNvbXBhcmUoQVtrZXldLCBCW2tleV0pKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblx0cmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUJhc2ljID0gZnVuY3Rpb24gdmFsaWRhdGVCYXNpYyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdHZhciBlcnJvcjtcclxuXHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlVHlwZShkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkpIHtcclxuXHRcdHJldHVybiBlcnJvci5wcmVmaXhXaXRoKG51bGwsIFwidHlwZVwiKTtcclxuXHR9XHJcblx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUVudW0oZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpKSB7XHJcblx0XHRyZXR1cm4gZXJyb3IucHJlZml4V2l0aChudWxsLCBcInR5cGVcIik7XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVUeXBlID0gZnVuY3Rpb24gdmFsaWRhdGVUeXBlKGRhdGEsIHNjaGVtYSkge1xyXG5cdGlmIChzY2hlbWEudHlwZSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0dmFyIGRhdGFUeXBlID0gdHlwZW9mIGRhdGE7XHJcblx0aWYgKGRhdGEgPT09IG51bGwpIHtcclxuXHRcdGRhdGFUeXBlID0gXCJudWxsXCI7XHJcblx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XHJcblx0XHRkYXRhVHlwZSA9IFwiYXJyYXlcIjtcclxuXHR9XHJcblx0dmFyIGFsbG93ZWRUeXBlcyA9IHNjaGVtYS50eXBlO1xyXG5cdGlmICghQXJyYXkuaXNBcnJheShhbGxvd2VkVHlwZXMpKSB7XHJcblx0XHRhbGxvd2VkVHlwZXMgPSBbYWxsb3dlZFR5cGVzXTtcclxuXHR9XHJcblxyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgYWxsb3dlZFR5cGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgdHlwZSA9IGFsbG93ZWRUeXBlc1tpXTtcclxuXHRcdGlmICh0eXBlID09PSBkYXRhVHlwZSB8fCAodHlwZSA9PT0gXCJpbnRlZ2VyXCIgJiYgZGF0YVR5cGUgPT09IFwibnVtYmVyXCIgJiYgKGRhdGEgJSAxID09PSAwKSkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuSU5WQUxJRF9UWVBFLCB7dHlwZTogZGF0YVR5cGUsIGV4cGVjdGVkOiBhbGxvd2VkVHlwZXMuam9pbihcIi9cIil9LCAnJywgJycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUVudW0gPSBmdW5jdGlvbiB2YWxpZGF0ZUVudW0oZGF0YSwgc2NoZW1hKSB7XHJcblx0aWYgKHNjaGVtYVtcImVudW1cIl0gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hW1wiZW51bVwiXS5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGVudW1WYWwgPSBzY2hlbWFbXCJlbnVtXCJdW2ldO1xyXG5cdFx0aWYgKHJlY3Vyc2l2ZUNvbXBhcmUoZGF0YSwgZW51bVZhbCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuRU5VTV9NSVNNQVRDSCwge3ZhbHVlOiAodHlwZW9mIEpTT04gIT09ICd1bmRlZmluZWQnKSA/IEpTT04uc3RyaW5naWZ5KGRhdGEpIDogZGF0YX0sICcnLCAnJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlTnVtZXJpYyA9IGZ1bmN0aW9uIHZhbGlkYXRlTnVtZXJpYyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdHJldHVybiB0aGlzLnZhbGlkYXRlTXVsdGlwbGVPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVNaW5NYXgoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlTmFOKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgbnVsbDtcclxufTtcclxuXHJcbnZhciBDTE9TRV9FTk9VR0hfTE9XID0gTWF0aC5wb3coMiwgLTUxKTtcclxudmFyIENMT1NFX0VOT1VHSF9ISUdIID0gMSAtIENMT1NFX0VOT1VHSF9MT1c7XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlTXVsdGlwbGVPZiA9IGZ1bmN0aW9uIHZhbGlkYXRlTXVsdGlwbGVPZihkYXRhLCBzY2hlbWEpIHtcclxuXHR2YXIgbXVsdGlwbGVPZiA9IHNjaGVtYS5tdWx0aXBsZU9mIHx8IHNjaGVtYS5kaXZpc2libGVCeTtcclxuXHRpZiAobXVsdGlwbGVPZiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0aWYgKHR5cGVvZiBkYXRhID09PSBcIm51bWJlclwiKSB7XHJcblx0XHR2YXIgcmVtYWluZGVyID0gKGRhdGEvbXVsdGlwbGVPZiklMTtcclxuXHRcdGlmIChyZW1haW5kZXIgPj0gQ0xPU0VfRU5PVUdIX0xPVyAmJiByZW1haW5kZXIgPCBDTE9TRV9FTk9VR0hfSElHSCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5VTUJFUl9NVUxUSVBMRV9PRiwge3ZhbHVlOiBkYXRhLCBtdWx0aXBsZU9mOiBtdWx0aXBsZU9mfSwgJycsICcnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlTWluTWF4ID0gZnVuY3Rpb24gdmFsaWRhdGVNaW5NYXgoZGF0YSwgc2NoZW1hKSB7XHJcblx0aWYgKHR5cGVvZiBkYXRhICE9PSBcIm51bWJlclwiKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0aWYgKHNjaGVtYS5taW5pbXVtICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGlmIChkYXRhIDwgc2NoZW1hLm1pbmltdW0pIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5OVU1CRVJfTUlOSU1VTSwge3ZhbHVlOiBkYXRhLCBtaW5pbXVtOiBzY2hlbWEubWluaW11bX0sICcnLCAnL21pbmltdW0nLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtICYmIGRhdGEgPT09IHNjaGVtYS5taW5pbXVtKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuTlVNQkVSX01JTklNVU1fRVhDTFVTSVZFLCB7dmFsdWU6IGRhdGEsIG1pbmltdW06IHNjaGVtYS5taW5pbXVtfSwgJycsICcvZXhjbHVzaXZlTWluaW11bScsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmIChzY2hlbWEubWF4aW11bSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRpZiAoZGF0YSA+IHNjaGVtYS5tYXhpbXVtKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuTlVNQkVSX01BWElNVU0sIHt2YWx1ZTogZGF0YSwgbWF4aW11bTogc2NoZW1hLm1heGltdW19LCAnJywgJy9tYXhpbXVtJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdH1cclxuXHRcdGlmIChzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSAmJiBkYXRhID09PSBzY2hlbWEubWF4aW11bSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5VTUJFUl9NQVhJTVVNX0VYQ0xVU0lWRSwge3ZhbHVlOiBkYXRhLCBtYXhpbXVtOiBzY2hlbWEubWF4aW11bX0sICcnLCAnL2V4Y2x1c2l2ZU1heGltdW0nLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlTmFOID0gZnVuY3Rpb24gdmFsaWRhdGVOYU4oZGF0YSwgc2NoZW1hKSB7XHJcblx0aWYgKHR5cGVvZiBkYXRhICE9PSBcIm51bWJlclwiKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0aWYgKGlzTmFOKGRhdGEpID09PSB0cnVlIHx8IGRhdGEgPT09IEluZmluaXR5IHx8IGRhdGEgPT09IC1JbmZpbml0eSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5OVU1CRVJfTk9UX0FfTlVNQkVSLCB7dmFsdWU6IGRhdGF9LCAnJywgJy90eXBlJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZVN0cmluZyA9IGZ1bmN0aW9uIHZhbGlkYXRlU3RyaW5nKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0cmV0dXJuIHRoaXMudmFsaWRhdGVTdHJpbmdMZW5ndGgoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlU3RyaW5nUGF0dGVybihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZVN0cmluZ0xlbmd0aCA9IGZ1bmN0aW9uIHZhbGlkYXRlU3RyaW5nTGVuZ3RoKGRhdGEsIHNjaGVtYSkge1xyXG5cdGlmICh0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIikge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdGlmIChzY2hlbWEubWluTGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGlmIChkYXRhLmxlbmd0aCA8IHNjaGVtYS5taW5MZW5ndGgpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5TVFJJTkdfTEVOR1RIX1NIT1JULCB7bGVuZ3RoOiBkYXRhLmxlbmd0aCwgbWluaW11bTogc2NoZW1hLm1pbkxlbmd0aH0sICcnLCAnL21pbkxlbmd0aCcsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmIChzY2hlbWEubWF4TGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGlmIChkYXRhLmxlbmd0aCA+IHNjaGVtYS5tYXhMZW5ndGgpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5TVFJJTkdfTEVOR1RIX0xPTkcsIHtsZW5ndGg6IGRhdGEubGVuZ3RoLCBtYXhpbXVtOiBzY2hlbWEubWF4TGVuZ3RofSwgJycsICcvbWF4TGVuZ3RoJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZVN0cmluZ1BhdHRlcm4gPSBmdW5jdGlvbiB2YWxpZGF0ZVN0cmluZ1BhdHRlcm4oZGF0YSwgc2NoZW1hKSB7XHJcblx0aWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiIHx8ICh0eXBlb2Ygc2NoZW1hLnBhdHRlcm4gIT09IFwic3RyaW5nXCIgJiYgIShzY2hlbWEucGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkpKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0dmFyIHJlZ2V4cDtcclxuXHRpZiAoc2NoZW1hLnBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApIHtcclxuXHQgIHJlZ2V4cCA9IHNjaGVtYS5wYXR0ZXJuO1xyXG5cdH1cclxuXHRlbHNlIHtcclxuXHQgIHZhciBib2R5LCBmbGFncyA9ICcnO1xyXG5cdCAgLy8gQ2hlY2sgZm9yIHJlZ3VsYXIgZXhwcmVzc2lvbiBsaXRlcmFsc1xyXG5cdCAgLy8gQHNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNS4xLyNzZWMtNy44LjVcclxuXHQgIHZhciBsaXRlcmFsID0gc2NoZW1hLnBhdHRlcm4ubWF0Y2goL15cXC8oLispXFwvKFtpbWddKikkLyk7XHJcblx0ICBpZiAobGl0ZXJhbCkge1xyXG5cdCAgICBib2R5ID0gbGl0ZXJhbFsxXTtcclxuXHQgICAgZmxhZ3MgPSBsaXRlcmFsWzJdO1xyXG5cdCAgfVxyXG5cdCAgZWxzZSB7XHJcblx0ICAgIGJvZHkgPSBzY2hlbWEucGF0dGVybjtcclxuXHQgIH1cclxuXHQgIHJlZ2V4cCA9IG5ldyBSZWdFeHAoYm9keSwgZmxhZ3MpO1xyXG5cdH1cclxuXHRpZiAoIXJlZ2V4cC50ZXN0KGRhdGEpKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLlNUUklOR19QQVRURVJOLCB7cGF0dGVybjogc2NoZW1hLnBhdHRlcm59LCAnJywgJy9wYXR0ZXJuJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFycmF5ID0gZnVuY3Rpb24gdmFsaWRhdGVBcnJheShkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdHJldHVybiB0aGlzLnZhbGlkYXRlQXJyYXlMZW5ndGgoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlQXJyYXlVbmlxdWVJdGVtcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVBcnJheUl0ZW1zKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQXJyYXlMZW5ndGggPSBmdW5jdGlvbiB2YWxpZGF0ZUFycmF5TGVuZ3RoKGRhdGEsIHNjaGVtYSkge1xyXG5cdHZhciBlcnJvcjtcclxuXHRpZiAoc2NoZW1hLm1pbkl0ZW1zICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGlmIChkYXRhLmxlbmd0aCA8IHNjaGVtYS5taW5JdGVtcykge1xyXG5cdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5BUlJBWV9MRU5HVEhfU0hPUlQsIHtsZW5ndGg6IGRhdGEubGVuZ3RoLCBtaW5pbXVtOiBzY2hlbWEubWluSXRlbXN9LCAnJywgJy9taW5JdGVtcycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xyXG5cdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAoc2NoZW1hLm1heEl0ZW1zICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGlmIChkYXRhLmxlbmd0aCA+IHNjaGVtYS5tYXhJdGVtcykge1xyXG5cdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5BUlJBWV9MRU5HVEhfTE9ORywge2xlbmd0aDogZGF0YS5sZW5ndGgsIG1heGltdW06IHNjaGVtYS5tYXhJdGVtc30sICcnLCAnL21heEl0ZW1zJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVBcnJheVVuaXF1ZUl0ZW1zID0gZnVuY3Rpb24gdmFsaWRhdGVBcnJheVVuaXF1ZUl0ZW1zKGRhdGEsIHNjaGVtYSkge1xyXG5cdGlmIChzY2hlbWEudW5pcXVlSXRlbXMpIHtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRmb3IgKHZhciBqID0gaSArIDE7IGogPCBkYXRhLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0aWYgKHJlY3Vyc2l2ZUNvbXBhcmUoZGF0YVtpXSwgZGF0YVtqXSkpIHtcclxuXHRcdFx0XHRcdHZhciBlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5BUlJBWV9VTklRVUUsIHttYXRjaDE6IGksIG1hdGNoMjogan0sICcnLCAnL3VuaXF1ZUl0ZW1zJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVBcnJheUl0ZW1zID0gZnVuY3Rpb24gdmFsaWRhdGVBcnJheUl0ZW1zKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0aWYgKHNjaGVtYS5pdGVtcyA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0dmFyIGVycm9yLCBpO1xyXG5cdGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5pdGVtcykpIHtcclxuXHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmIChpIDwgc2NoZW1hLml0ZW1zLmxlbmd0aCkge1xyXG5cdFx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YVtpXSwgc2NoZW1hLml0ZW1zW2ldLCBbaV0sIFtcIml0ZW1zXCIsIGldLCBkYXRhUG9pbnRlclBhdGggKyBcIi9cIiArIGkpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hLmFkZGl0aW9uYWxJdGVtcyA9PT0gXCJib29sZWFuXCIpIHtcclxuXHRcdFx0XHRcdGlmICghc2NoZW1hLmFkZGl0aW9uYWxJdGVtcykge1xyXG5cdFx0XHRcdFx0XHRlcnJvciA9ICh0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuQVJSQVlfQURESVRJT05BTF9JVEVNUywge30sICcvJyArIGksICcvYWRkaXRpb25hbEl0ZW1zJywgbnVsbCwgZGF0YSwgc2NoZW1hKSk7XHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGFbaV0sIHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMsIFtpXSwgW1wiYWRkaXRpb25hbEl0ZW1zXCJdLCBkYXRhUG9pbnRlclBhdGggKyBcIi9cIiArIGkpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSBlbHNlIHtcclxuXHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YVtpXSwgc2NoZW1hLml0ZW1zLCBbaV0sIFtcIml0ZW1zXCJdLCBkYXRhUG9pbnRlclBhdGggKyBcIi9cIiArIGkpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVPYmplY3QgPSBmdW5jdGlvbiB2YWxpZGF0ZU9iamVjdChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdGlmICh0eXBlb2YgZGF0YSAhPT0gXCJvYmplY3RcIiB8fCBkYXRhID09PSBudWxsIHx8IEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHRyZXR1cm4gdGhpcy52YWxpZGF0ZU9iamVjdE1pbk1heFByb3BlcnRpZXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU9iamVjdFByb3BlcnRpZXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlT2JqZWN0RGVwZW5kZW5jaWVzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0TWluTWF4UHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlT2JqZWN0TWluTWF4UHJvcGVydGllcyhkYXRhLCBzY2hlbWEpIHtcclxuXHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xyXG5cdHZhciBlcnJvcjtcclxuXHRpZiAoc2NoZW1hLm1pblByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0aWYgKGtleXMubGVuZ3RoIDwgc2NoZW1hLm1pblByb3BlcnRpZXMpIHtcclxuXHRcdFx0ZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTSwge3Byb3BlcnR5Q291bnQ6IGtleXMubGVuZ3RoLCBtaW5pbXVtOiBzY2hlbWEubWluUHJvcGVydGllc30sICcnLCAnL21pblByb3BlcnRpZXMnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcclxuXHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKHNjaGVtYS5tYXhQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGlmIChrZXlzLmxlbmd0aCA+IHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSB7XHJcblx0XHRcdGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9CSkVDVF9QUk9QRVJUSUVTX01BWElNVU0sIHtwcm9wZXJ0eUNvdW50OiBrZXlzLmxlbmd0aCwgbWF4aW11bTogc2NoZW1hLm1heFByb3BlcnRpZXN9LCAnJywgJy9tYXhQcm9wZXJ0aWVzJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVPYmplY3RSZXF1aXJlZFByb3BlcnRpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZU9iamVjdFJlcXVpcmVkUHJvcGVydGllcyhkYXRhLCBzY2hlbWEpIHtcclxuXHRpZiAoc2NoZW1hLnJlcXVpcmVkICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLnJlcXVpcmVkLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBrZXkgPSBzY2hlbWEucmVxdWlyZWRbaV07XHJcblx0XHRcdGlmIChkYXRhW2tleV0gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdHZhciBlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PQkpFQ1RfUkVRVUlSRUQsIHtrZXk6IGtleX0sICcnLCAnL3JlcXVpcmVkLycgKyBpLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0UHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlT2JqZWN0UHJvcGVydGllcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdHZhciBlcnJvcjtcclxuXHRmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xyXG5cdFx0dmFyIGtleVBvaW50ZXJQYXRoID0gZGF0YVBvaW50ZXJQYXRoICsgXCIvXCIgKyBrZXkucmVwbGFjZSgvfi9nLCAnfjAnKS5yZXBsYWNlKC9cXC8vZywgJ34xJyk7XHJcblx0XHR2YXIgZm91bmRNYXRjaCA9IGZhbHNlO1xyXG5cdFx0aWYgKHNjaGVtYS5wcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQgJiYgc2NoZW1hLnByb3BlcnRpZXNba2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGZvdW5kTWF0Y2ggPSB0cnVlO1xyXG5cdFx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGFba2V5XSwgc2NoZW1hLnByb3BlcnRpZXNba2V5XSwgW2tleV0sIFtcInByb3BlcnRpZXNcIiwga2V5XSwga2V5UG9pbnRlclBhdGgpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0Zm9yICh2YXIgcGF0dGVybktleSBpbiBzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpIHtcclxuXHRcdFx0XHR2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cChwYXR0ZXJuS2V5KTtcclxuXHRcdFx0XHRpZiAocmVnZXhwLnRlc3Qoa2V5KSkge1xyXG5cdFx0XHRcdFx0Zm91bmRNYXRjaCA9IHRydWU7XHJcblx0XHRcdFx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGFba2V5XSwgc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzW3BhdHRlcm5LZXldLCBba2V5XSwgW1wicGF0dGVyblByb3BlcnRpZXNcIiwgcGF0dGVybktleV0sIGtleVBvaW50ZXJQYXRoKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAoIWZvdW5kTWF0Y2gpIHtcclxuXHRcdFx0aWYgKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0XHRcdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHNba2V5UG9pbnRlclBhdGhdID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW2tleVBvaW50ZXJQYXRoXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IFwiYm9vbGVhblwiKSB7XHJcblx0XHRcdFx0XHRpZiAoIXNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcykge1xyXG5cdFx0XHRcdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PQkpFQ1RfQURESVRJT05BTF9QUk9QRVJUSUVTLCB7a2V5OiBrZXl9LCAnJywgJy9hZGRpdGlvbmFsUHJvcGVydGllcycsIG51bGwsIGRhdGEsIHNjaGVtYSkucHJlZml4V2l0aChrZXksIG51bGwpO1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhW2tleV0sIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcywgW2tleV0sIFtcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCJdLCBrZXlQb2ludGVyUGF0aCkpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMgJiYgIXRoaXMua25vd25Qcm9wZXJ0eVBhdGhzW2tleVBvaW50ZXJQYXRoXSkge1xyXG5cdFx0XHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHNba2V5UG9pbnRlclBhdGhdID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHNba2V5UG9pbnRlclBhdGhdID0gdHJ1ZTtcclxuXHRcdFx0ZGVsZXRlIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHNba2V5UG9pbnRlclBhdGhdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0RGVwZW5kZW5jaWVzID0gZnVuY3Rpb24gdmFsaWRhdGVPYmplY3REZXBlbmRlbmNpZXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHR2YXIgZXJyb3I7XHJcblx0aWYgKHNjaGVtYS5kZXBlbmRlbmNpZXMgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0Zm9yICh2YXIgZGVwS2V5IGluIHNjaGVtYS5kZXBlbmRlbmNpZXMpIHtcclxuXHRcdFx0aWYgKGRhdGFbZGVwS2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0dmFyIGRlcCA9IHNjaGVtYS5kZXBlbmRlbmNpZXNbZGVwS2V5XTtcclxuXHRcdFx0XHRpZiAodHlwZW9mIGRlcCA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRcdFx0aWYgKGRhdGFbZGVwXSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRcdGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9CSkVDVF9ERVBFTkRFTkNZX0tFWSwge2tleTogZGVwS2V5LCBtaXNzaW5nOiBkZXB9LCAnJywgJycsIG51bGwsIGRhdGEsIHNjaGVtYSkucHJlZml4V2l0aChudWxsLCBkZXBLZXkpLnByZWZpeFdpdGgobnVsbCwgXCJkZXBlbmRlbmNpZXNcIik7XHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkZXApKSB7XHJcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHR2YXIgcmVxdWlyZWRLZXkgPSBkZXBbaV07XHJcblx0XHRcdFx0XHRcdGlmIChkYXRhW3JlcXVpcmVkS2V5XSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRcdFx0ZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT0JKRUNUX0RFUEVOREVOQ1lfS0VZLCB7a2V5OiBkZXBLZXksIG1pc3Npbmc6IHJlcXVpcmVkS2V5fSwgJycsICcvJyArIGksIG51bGwsIGRhdGEsIHNjaGVtYSkucHJlZml4V2l0aChudWxsLCBkZXBLZXkpLnByZWZpeFdpdGgobnVsbCwgXCJkZXBlbmRlbmNpZXNcIik7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YSwgZGVwLCBbXSwgW1wiZGVwZW5kZW5jaWVzXCIsIGRlcEtleV0sIGRhdGFQb2ludGVyUGF0aCkpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQ29tYmluYXRpb25zID0gZnVuY3Rpb24gdmFsaWRhdGVDb21iaW5hdGlvbnMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHRyZXR1cm4gdGhpcy52YWxpZGF0ZUFsbE9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZUFueU9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU9uZU9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU5vdChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFsbE9mID0gZnVuY3Rpb24gdmFsaWRhdGVBbGxPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdGlmIChzY2hlbWEuYWxsT2YgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdHZhciBlcnJvcjtcclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5hbGxPZi5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIHN1YlNjaGVtYSA9IHNjaGVtYS5hbGxPZltpXTtcclxuXHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YSwgc3ViU2NoZW1hLCBbXSwgW1wiYWxsT2ZcIiwgaV0sIGRhdGFQb2ludGVyUGF0aCkpIHtcclxuXHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQW55T2YgPSBmdW5jdGlvbiB2YWxpZGF0ZUFueU9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0aWYgKHNjaGVtYS5hbnlPZiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0dmFyIGVycm9ycyA9IFtdO1xyXG5cdHZhciBzdGFydEVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XHJcblx0dmFyIG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzLCBvbGRLbm93blByb3BlcnR5UGF0aHM7XHJcblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0b2xkVW5rbm93blByb3BlcnR5UGF0aHMgPSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdFx0b2xkS25vd25Qcm9wZXJ0eVBhdGhzID0gdGhpcy5rbm93blByb3BlcnR5UGF0aHM7XHJcblx0fVxyXG5cdHZhciBlcnJvckF0RW5kID0gdHJ1ZTtcclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5hbnlPZi5sZW5ndGg7IGkrKykge1xyXG5cdFx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XHJcblx0XHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XHJcblx0XHR9XHJcblx0XHR2YXIgc3ViU2NoZW1hID0gc2NoZW1hLmFueU9mW2ldO1xyXG5cclxuXHRcdHZhciBlcnJvckNvdW50ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xyXG5cdFx0dmFyIGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhLCBzdWJTY2hlbWEsIFtdLCBbXCJhbnlPZlwiLCBpXSwgZGF0YVBvaW50ZXJQYXRoKTtcclxuXHJcblx0XHRpZiAoZXJyb3IgPT09IG51bGwgJiYgZXJyb3JDb3VudCA9PT0gdGhpcy5lcnJvcnMubGVuZ3RoKSB7XHJcblx0XHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2UoMCwgc3RhcnRFcnJvckNvdW50KTtcclxuXHJcblx0XHRcdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdFx0XHRmb3IgKHZhciBrbm93bktleSBpbiB0aGlzLmtub3duUHJvcGVydHlQYXRocykge1xyXG5cdFx0XHRcdFx0b2xkS25vd25Qcm9wZXJ0eVBhdGhzW2tub3duS2V5XSA9IHRydWU7XHJcblx0XHRcdFx0XHRkZWxldGUgb2xkVW5rbm93blByb3BlcnR5UGF0aHNba25vd25LZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmb3IgKHZhciB1bmtub3duS2V5IGluIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMpIHtcclxuXHRcdFx0XHRcdGlmICghb2xkS25vd25Qcm9wZXJ0eVBhdGhzW3Vua25vd25LZXldKSB7XHJcblx0XHRcdFx0XHRcdG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzW3Vua25vd25LZXldID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gV2UgbmVlZCB0byBjb250aW51ZSBsb29waW5nIHNvIHdlIGNhdGNoIGFsbCB0aGUgcHJvcGVydHkgZGVmaW5pdGlvbnMsIGJ1dCB3ZSBkb24ndCB3YW50IHRvIHJldHVybiBhbiBlcnJvclxyXG5cdFx0XHRcdGVycm9yQXRFbmQgPSBmYWxzZTtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0XHRpZiAoZXJyb3IpIHtcclxuXHRcdFx0ZXJyb3JzLnB1c2goZXJyb3IucHJlZml4V2l0aChudWxsLCBcIlwiICsgaSkucHJlZml4V2l0aChudWxsLCBcImFueU9mXCIpKTtcclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSBvbGRLbm93blByb3BlcnR5UGF0aHM7XHJcblx0fVxyXG5cdGlmIChlcnJvckF0RW5kKSB7XHJcblx0XHRlcnJvcnMgPSBlcnJvcnMuY29uY2F0KHRoaXMuZXJyb3JzLnNsaWNlKHN0YXJ0RXJyb3JDb3VudCkpO1xyXG5cdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZSgwLCBzdGFydEVycm9yQ291bnQpO1xyXG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5BTllfT0ZfTUlTU0lORywge30sIFwiXCIsIFwiL2FueU9mXCIsIGVycm9ycywgZGF0YSwgc2NoZW1hKTtcclxuXHR9XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU9uZU9mID0gZnVuY3Rpb24gdmFsaWRhdGVPbmVPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdGlmIChzY2hlbWEub25lT2YgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdHZhciB2YWxpZEluZGV4ID0gbnVsbDtcclxuXHR2YXIgZXJyb3JzID0gW107XHJcblx0dmFyIHN0YXJ0RXJyb3JDb3VudCA9IHRoaXMuZXJyb3JzLmxlbmd0aDtcclxuXHR2YXIgb2xkVW5rbm93blByb3BlcnR5UGF0aHMsIG9sZEtub3duUHJvcGVydHlQYXRocztcclxuXHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHRvbGRVbmtub3duUHJvcGVydHlQYXRocyA9IHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM7XHJcblx0XHRvbGRLbm93blByb3BlcnR5UGF0aHMgPSB0aGlzLmtub3duUHJvcGVydHlQYXRocztcclxuXHR9XHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEub25lT2YubGVuZ3RoOyBpKyspIHtcclxuXHRcdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xyXG5cdFx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xyXG5cdFx0fVxyXG5cdFx0dmFyIHN1YlNjaGVtYSA9IHNjaGVtYS5vbmVPZltpXTtcclxuXHJcblx0XHR2YXIgZXJyb3JDb3VudCA9IHRoaXMuZXJyb3JzLmxlbmd0aDtcclxuXHRcdHZhciBlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YSwgc3ViU2NoZW1hLCBbXSwgW1wib25lT2ZcIiwgaV0sIGRhdGFQb2ludGVyUGF0aCk7XHJcblxyXG5cdFx0aWYgKGVycm9yID09PSBudWxsICYmIGVycm9yQ291bnQgPT09IHRoaXMuZXJyb3JzLmxlbmd0aCkge1xyXG5cdFx0XHRpZiAodmFsaWRJbmRleCA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdHZhbGlkSW5kZXggPSBpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2UoMCwgc3RhcnRFcnJvckNvdW50KTtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9ORV9PRl9NVUxUSVBMRSwge2luZGV4MTogdmFsaWRJbmRleCwgaW5kZXgyOiBpfSwgXCJcIiwgXCIvb25lT2ZcIiwgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdFx0Zm9yICh2YXIga25vd25LZXkgaW4gdGhpcy5rbm93blByb3BlcnR5UGF0aHMpIHtcclxuXHRcdFx0XHRcdG9sZEtub3duUHJvcGVydHlQYXRoc1trbm93bktleV0gPSB0cnVlO1xyXG5cdFx0XHRcdFx0ZGVsZXRlIG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzW2tub3duS2V5XTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Zm9yICh2YXIgdW5rbm93bktleSBpbiB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzKSB7XHJcblx0XHRcdFx0XHRpZiAoIW9sZEtub3duUHJvcGVydHlQYXRoc1t1bmtub3duS2V5XSkge1xyXG5cdFx0XHRcdFx0XHRvbGRVbmtub3duUHJvcGVydHlQYXRoc1t1bmtub3duS2V5XSA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKGVycm9yKSB7XHJcblx0XHRcdGVycm9ycy5wdXNoKGVycm9yKTtcclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSBvbGRLbm93blByb3BlcnR5UGF0aHM7XHJcblx0fVxyXG5cdGlmICh2YWxpZEluZGV4ID09PSBudWxsKSB7XHJcblx0XHRlcnJvcnMgPSBlcnJvcnMuY29uY2F0KHRoaXMuZXJyb3JzLnNsaWNlKHN0YXJ0RXJyb3JDb3VudCkpO1xyXG5cdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZSgwLCBzdGFydEVycm9yQ291bnQpO1xyXG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PTkVfT0ZfTUlTU0lORywge30sIFwiXCIsIFwiL29uZU9mXCIsIGVycm9ycywgZGF0YSwgc2NoZW1hKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZSgwLCBzdGFydEVycm9yQ291bnQpO1xyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlTm90ID0gZnVuY3Rpb24gdmFsaWRhdGVOb3QoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHRpZiAoc2NoZW1hLm5vdCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0dmFyIG9sZEVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XHJcblx0dmFyIG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzLCBvbGRLbm93blByb3BlcnR5UGF0aHM7XHJcblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0b2xkVW5rbm93blByb3BlcnR5UGF0aHMgPSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdFx0b2xkS25vd25Qcm9wZXJ0eVBhdGhzID0gdGhpcy5rbm93blByb3BlcnR5UGF0aHM7XHJcblx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XHJcblx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xyXG5cdH1cclxuXHR2YXIgZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGEsIHNjaGVtYS5ub3QsIG51bGwsIG51bGwsIGRhdGFQb2ludGVyUGF0aCk7XHJcblx0dmFyIG5vdEVycm9ycyA9IHRoaXMuZXJyb3JzLnNsaWNlKG9sZEVycm9yQ291bnQpO1xyXG5cdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2UoMCwgb2xkRXJyb3JDb3VudCk7XHJcblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSBvbGRLbm93blByb3BlcnR5UGF0aHM7XHJcblx0fVxyXG5cdGlmIChlcnJvciA9PT0gbnVsbCAmJiBub3RFcnJvcnMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5PVF9QQVNTRUQsIHt9LCBcIlwiLCBcIi9ub3RcIiwgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUh5cGVybWVkaWEgPSBmdW5jdGlvbiB2YWxpZGF0ZUNvbWJpbmF0aW9ucyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdGlmICghc2NoZW1hLmxpbmtzKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0dmFyIGVycm9yO1xyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmxpbmtzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgbGRvID0gc2NoZW1hLmxpbmtzW2ldO1xyXG5cdFx0aWYgKGxkby5yZWwgPT09IFwiZGVzY3JpYmVkYnlcIikge1xyXG5cdFx0XHR2YXIgdGVtcGxhdGUgPSBuZXcgVXJpVGVtcGxhdGUobGRvLmhyZWYpO1xyXG5cdFx0XHR2YXIgYWxsUHJlc2VudCA9IHRydWU7XHJcblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgdGVtcGxhdGUudmFyTmFtZXMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRpZiAoISh0ZW1wbGF0ZS52YXJOYW1lc1tqXSBpbiBkYXRhKSkge1xyXG5cdFx0XHRcdFx0YWxsUHJlc2VudCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChhbGxQcmVzZW50KSB7XHJcblx0XHRcdFx0dmFyIHNjaGVtYVVybCA9IHRlbXBsYXRlLmZpbGxGcm9tT2JqZWN0KGRhdGEpO1xyXG5cdFx0XHRcdHZhciBzdWJTY2hlbWEgPSB7XCIkcmVmXCI6IHNjaGVtYVVybH07XHJcblx0XHRcdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhLCBzdWJTY2hlbWEsIFtdLCBbXCJsaW5rc1wiLCBpXSwgZGF0YVBvaW50ZXJQYXRoKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuXHJcbi8vIHBhcnNlVVJJKCkgYW5kIHJlc29sdmVVcmwoKSBhcmUgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xMDg4ODUwXHJcbi8vICAgLSAgcmVsZWFzZWQgYXMgcHVibGljIGRvbWFpbiBieSBhdXRob3IgKFwiWWFmZmxlXCIpIC0gc2VlIGNvbW1lbnRzIG9uIGdpc3RcclxuXHJcbmZ1bmN0aW9uIHBhcnNlVVJJKHVybCkge1xyXG5cdHZhciBtID0gU3RyaW5nKHVybCkucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpLm1hdGNoKC9eKFteOlxcLz8jXSs6KT8oXFwvXFwvKD86W146QF0qKD86OlteOkBdKik/QCk/KChbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPyhbXj8jXSopKFxcP1teI10qKT8oI1tcXHNcXFNdKik/Lyk7XHJcblx0Ly8gYXV0aG9yaXR5ID0gJy8vJyArIHVzZXIgKyAnOicgKyBwYXNzICdAJyArIGhvc3RuYW1lICsgJzonIHBvcnRcclxuXHRyZXR1cm4gKG0gPyB7XHJcblx0XHRocmVmICAgICA6IG1bMF0gfHwgJycsXHJcblx0XHRwcm90b2NvbCA6IG1bMV0gfHwgJycsXHJcblx0XHRhdXRob3JpdHk6IG1bMl0gfHwgJycsXHJcblx0XHRob3N0ICAgICA6IG1bM10gfHwgJycsXHJcblx0XHRob3N0bmFtZSA6IG1bNF0gfHwgJycsXHJcblx0XHRwb3J0ICAgICA6IG1bNV0gfHwgJycsXHJcblx0XHRwYXRobmFtZSA6IG1bNl0gfHwgJycsXHJcblx0XHRzZWFyY2ggICA6IG1bN10gfHwgJycsXHJcblx0XHRoYXNoICAgICA6IG1bOF0gfHwgJydcclxuXHR9IDogbnVsbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc29sdmVVcmwoYmFzZSwgaHJlZikgey8vIFJGQyAzOTg2XHJcblxyXG5cdGZ1bmN0aW9uIHJlbW92ZURvdFNlZ21lbnRzKGlucHV0KSB7XHJcblx0XHR2YXIgb3V0cHV0ID0gW107XHJcblx0XHRpbnB1dC5yZXBsYWNlKC9eKFxcLlxcLj8oXFwvfCQpKSsvLCAnJylcclxuXHRcdFx0LnJlcGxhY2UoL1xcLyhcXC4oXFwvfCQpKSsvZywgJy8nKVxyXG5cdFx0XHQucmVwbGFjZSgvXFwvXFwuXFwuJC8sICcvLi4vJylcclxuXHRcdFx0LnJlcGxhY2UoL1xcLz9bXlxcL10qL2csIGZ1bmN0aW9uIChwKSB7XHJcblx0XHRcdFx0aWYgKHAgPT09ICcvLi4nKSB7XHJcblx0XHRcdFx0XHRvdXRwdXQucG9wKCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHApO1xyXG5cdFx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKS5yZXBsYWNlKC9eXFwvLywgaW5wdXQuY2hhckF0KDApID09PSAnLycgPyAnLycgOiAnJyk7XHJcblx0fVxyXG5cclxuXHRocmVmID0gcGFyc2VVUkkoaHJlZiB8fCAnJyk7XHJcblx0YmFzZSA9IHBhcnNlVVJJKGJhc2UgfHwgJycpO1xyXG5cclxuXHRyZXR1cm4gIWhyZWYgfHwgIWJhc2UgPyBudWxsIDogKGhyZWYucHJvdG9jb2wgfHwgYmFzZS5wcm90b2NvbCkgK1xyXG5cdFx0KGhyZWYucHJvdG9jb2wgfHwgaHJlZi5hdXRob3JpdHkgPyBocmVmLmF1dGhvcml0eSA6IGJhc2UuYXV0aG9yaXR5KSArXHJcblx0XHRyZW1vdmVEb3RTZWdtZW50cyhocmVmLnByb3RvY29sIHx8IGhyZWYuYXV0aG9yaXR5IHx8IGhyZWYucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycgPyBocmVmLnBhdGhuYW1lIDogKGhyZWYucGF0aG5hbWUgPyAoKGJhc2UuYXV0aG9yaXR5ICYmICFiYXNlLnBhdGhuYW1lID8gJy8nIDogJycpICsgYmFzZS5wYXRobmFtZS5zbGljZSgwLCBiYXNlLnBhdGhuYW1lLmxhc3RJbmRleE9mKCcvJykgKyAxKSArIGhyZWYucGF0aG5hbWUpIDogYmFzZS5wYXRobmFtZSkpICtcclxuXHRcdChocmVmLnByb3RvY29sIHx8IGhyZWYuYXV0aG9yaXR5IHx8IGhyZWYucGF0aG5hbWUgPyBocmVmLnNlYXJjaCA6IChocmVmLnNlYXJjaCB8fCBiYXNlLnNlYXJjaCkpICtcclxuXHRcdGhyZWYuaGFzaDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RG9jdW1lbnRVcmkodXJpKSB7XHJcblx0cmV0dXJuIHVyaS5zcGxpdCgnIycpWzBdO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1TY2hlbWEoc2NoZW1hLCBiYXNlVXJpKSB7XHJcblx0aWYgKHNjaGVtYSAmJiB0eXBlb2Ygc2NoZW1hID09PSBcIm9iamVjdFwiKSB7XHJcblx0XHRpZiAoYmFzZVVyaSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGJhc2VVcmkgPSBzY2hlbWEuaWQ7XHJcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBzY2hlbWEuaWQgPT09IFwic3RyaW5nXCIpIHtcclxuXHRcdFx0YmFzZVVyaSA9IHJlc29sdmVVcmwoYmFzZVVyaSwgc2NoZW1hLmlkKTtcclxuXHRcdFx0c2NoZW1hLmlkID0gYmFzZVVyaTtcclxuXHRcdH1cclxuXHRcdGlmIChBcnJheS5pc0FycmF5KHNjaGVtYSkpIHtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRub3JtU2NoZW1hKHNjaGVtYVtpXSwgYmFzZVVyaSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hWyckcmVmJ10gPT09IFwic3RyaW5nXCIpIHtcclxuXHRcdFx0XHRzY2hlbWFbJyRyZWYnXSA9IHJlc29sdmVVcmwoYmFzZVVyaSwgc2NoZW1hWyckcmVmJ10pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvciAodmFyIGtleSBpbiBzY2hlbWEpIHtcclxuXHRcdFx0XHRpZiAoa2V5ICE9PSBcImVudW1cIikge1xyXG5cdFx0XHRcdFx0bm9ybVNjaGVtYShzY2hlbWFba2V5XSwgYmFzZVVyaSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBkZWZhdWx0RXJyb3JSZXBvcnRlcihsYW5ndWFnZSkge1xyXG5cdGxhbmd1YWdlID0gbGFuZ3VhZ2UgfHwgJ2VuJztcclxuXHJcblx0dmFyIGVycm9yTWVzc2FnZXMgPSBsYW5ndWFnZXNbbGFuZ3VhZ2VdO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gKGVycm9yKSB7XHJcblx0XHR2YXIgbWVzc2FnZVRlbXBsYXRlID0gZXJyb3JNZXNzYWdlc1tlcnJvci5jb2RlXSB8fCBFcnJvck1lc3NhZ2VzRGVmYXVsdFtlcnJvci5jb2RlXTtcclxuXHRcdGlmICh0eXBlb2YgbWVzc2FnZVRlbXBsYXRlICE9PSAnc3RyaW5nJykge1xyXG5cdFx0XHRyZXR1cm4gXCJVbmtub3duIGVycm9yIGNvZGUgXCIgKyBlcnJvci5jb2RlICsgXCI6IFwiICsgSlNPTi5zdHJpbmdpZnkoZXJyb3IubWVzc2FnZVBhcmFtcyk7XHJcblx0XHR9XHJcblx0XHR2YXIgbWVzc2FnZVBhcmFtcyA9IGVycm9yLnBhcmFtcztcclxuXHRcdC8vIEFkYXB0ZWQgZnJvbSBDcm9ja2ZvcmQncyBzdXBwbGFudCgpXHJcblx0XHRyZXR1cm4gbWVzc2FnZVRlbXBsYXRlLnJlcGxhY2UoL1xceyhbXnt9XSopXFx9L2csIGZ1bmN0aW9uICh3aG9sZSwgdmFyTmFtZSkge1xyXG5cdFx0XHR2YXIgc3ViVmFsdWUgPSBtZXNzYWdlUGFyYW1zW3Zhck5hbWVdO1xyXG5cdFx0XHRyZXR1cm4gdHlwZW9mIHN1YlZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygc3ViVmFsdWUgPT09ICdudW1iZXInID8gc3ViVmFsdWUgOiB3aG9sZTtcclxuXHRcdH0pO1xyXG5cdH07XHJcbn1cclxuXHJcbnZhciBFcnJvckNvZGVzID0ge1xyXG5cdElOVkFMSURfVFlQRTogMCxcclxuXHRFTlVNX01JU01BVENIOiAxLFxyXG5cdEFOWV9PRl9NSVNTSU5HOiAxMCxcclxuXHRPTkVfT0ZfTUlTU0lORzogMTEsXHJcblx0T05FX09GX01VTFRJUExFOiAxMixcclxuXHROT1RfUEFTU0VEOiAxMyxcclxuXHQvLyBOdW1lcmljIGVycm9yc1xyXG5cdE5VTUJFUl9NVUxUSVBMRV9PRjogMTAwLFxyXG5cdE5VTUJFUl9NSU5JTVVNOiAxMDEsXHJcblx0TlVNQkVSX01JTklNVU1fRVhDTFVTSVZFOiAxMDIsXHJcblx0TlVNQkVSX01BWElNVU06IDEwMyxcclxuXHROVU1CRVJfTUFYSU1VTV9FWENMVVNJVkU6IDEwNCxcclxuXHROVU1CRVJfTk9UX0FfTlVNQkVSOiAxMDUsXHJcblx0Ly8gU3RyaW5nIGVycm9yc1xyXG5cdFNUUklOR19MRU5HVEhfU0hPUlQ6IDIwMCxcclxuXHRTVFJJTkdfTEVOR1RIX0xPTkc6IDIwMSxcclxuXHRTVFJJTkdfUEFUVEVSTjogMjAyLFxyXG5cdC8vIE9iamVjdCBlcnJvcnNcclxuXHRPQkpFQ1RfUFJPUEVSVElFU19NSU5JTVVNOiAzMDAsXHJcblx0T0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTTogMzAxLFxyXG5cdE9CSkVDVF9SRVFVSVJFRDogMzAyLFxyXG5cdE9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVM6IDMwMyxcclxuXHRPQkpFQ1RfREVQRU5ERU5DWV9LRVk6IDMwNCxcclxuXHQvLyBBcnJheSBlcnJvcnNcclxuXHRBUlJBWV9MRU5HVEhfU0hPUlQ6IDQwMCxcclxuXHRBUlJBWV9MRU5HVEhfTE9ORzogNDAxLFxyXG5cdEFSUkFZX1VOSVFVRTogNDAyLFxyXG5cdEFSUkFZX0FERElUSU9OQUxfSVRFTVM6IDQwMyxcclxuXHQvLyBDdXN0b20vdXNlci1kZWZpbmVkIGVycm9yc1xyXG5cdEZPUk1BVF9DVVNUT006IDUwMCxcclxuXHRLRVlXT1JEX0NVU1RPTTogNTAxLFxyXG5cdC8vIFNjaGVtYSBzdHJ1Y3R1cmVcclxuXHRDSVJDVUxBUl9SRUZFUkVOQ0U6IDYwMCxcclxuXHQvLyBOb24tc3RhbmRhcmQgdmFsaWRhdGlvbiBvcHRpb25zXHJcblx0VU5LTk9XTl9QUk9QRVJUWTogMTAwMFxyXG59O1xyXG52YXIgRXJyb3JDb2RlTG9va3VwID0ge307XHJcbmZvciAodmFyIGtleSBpbiBFcnJvckNvZGVzKSB7XHJcblx0RXJyb3JDb2RlTG9va3VwW0Vycm9yQ29kZXNba2V5XV0gPSBrZXk7XHJcbn1cclxudmFyIEVycm9yTWVzc2FnZXNEZWZhdWx0ID0ge1xyXG5cdElOVkFMSURfVFlQRTogXCJJbnZhbGlkIHR5cGU6IHt0eXBlfSAoZXhwZWN0ZWQge2V4cGVjdGVkfSlcIixcclxuXHRFTlVNX01JU01BVENIOiBcIk5vIGVudW0gbWF0Y2ggZm9yOiB7dmFsdWV9XCIsXHJcblx0QU5ZX09GX01JU1NJTkc6IFwiRGF0YSBkb2VzIG5vdCBtYXRjaCBhbnkgc2NoZW1hcyBmcm9tIFxcXCJhbnlPZlxcXCJcIixcclxuXHRPTkVfT0ZfTUlTU0lORzogXCJEYXRhIGRvZXMgbm90IG1hdGNoIGFueSBzY2hlbWFzIGZyb20gXFxcIm9uZU9mXFxcIlwiLFxyXG5cdE9ORV9PRl9NVUxUSVBMRTogXCJEYXRhIGlzIHZhbGlkIGFnYWluc3QgbW9yZSB0aGFuIG9uZSBzY2hlbWEgZnJvbSBcXFwib25lT2ZcXFwiOiBpbmRpY2VzIHtpbmRleDF9IGFuZCB7aW5kZXgyfVwiLFxyXG5cdE5PVF9QQVNTRUQ6IFwiRGF0YSBtYXRjaGVzIHNjaGVtYSBmcm9tIFxcXCJub3RcXFwiXCIsXHJcblx0Ly8gTnVtZXJpYyBlcnJvcnNcclxuXHROVU1CRVJfTVVMVElQTEVfT0Y6IFwiVmFsdWUge3ZhbHVlfSBpcyBub3QgYSBtdWx0aXBsZSBvZiB7bXVsdGlwbGVPZn1cIixcclxuXHROVU1CRVJfTUlOSU1VTTogXCJWYWx1ZSB7dmFsdWV9IGlzIGxlc3MgdGhhbiBtaW5pbXVtIHttaW5pbXVtfVwiLFxyXG5cdE5VTUJFUl9NSU5JTVVNX0VYQ0xVU0lWRTogXCJWYWx1ZSB7dmFsdWV9IGlzIGVxdWFsIHRvIGV4Y2x1c2l2ZSBtaW5pbXVtIHttaW5pbXVtfVwiLFxyXG5cdE5VTUJFUl9NQVhJTVVNOiBcIlZhbHVlIHt2YWx1ZX0gaXMgZ3JlYXRlciB0aGFuIG1heGltdW0ge21heGltdW19XCIsXHJcblx0TlVNQkVSX01BWElNVU1fRVhDTFVTSVZFOiBcIlZhbHVlIHt2YWx1ZX0gaXMgZXF1YWwgdG8gZXhjbHVzaXZlIG1heGltdW0ge21heGltdW19XCIsXHJcblx0TlVNQkVSX05PVF9BX05VTUJFUjogXCJWYWx1ZSB7dmFsdWV9IGlzIG5vdCBhIHZhbGlkIG51bWJlclwiLFxyXG5cdC8vIFN0cmluZyBlcnJvcnNcclxuXHRTVFJJTkdfTEVOR1RIX1NIT1JUOiBcIlN0cmluZyBpcyB0b28gc2hvcnQgKHtsZW5ndGh9IGNoYXJzKSwgbWluaW11bSB7bWluaW11bX1cIixcclxuXHRTVFJJTkdfTEVOR1RIX0xPTkc6IFwiU3RyaW5nIGlzIHRvbyBsb25nICh7bGVuZ3RofSBjaGFycyksIG1heGltdW0ge21heGltdW19XCIsXHJcblx0U1RSSU5HX1BBVFRFUk46IFwiU3RyaW5nIGRvZXMgbm90IG1hdGNoIHBhdHRlcm46IHtwYXR0ZXJufVwiLFxyXG5cdC8vIE9iamVjdCBlcnJvcnNcclxuXHRPQkpFQ1RfUFJPUEVSVElFU19NSU5JTVVNOiBcIlRvbyBmZXcgcHJvcGVydGllcyBkZWZpbmVkICh7cHJvcGVydHlDb3VudH0pLCBtaW5pbXVtIHttaW5pbXVtfVwiLFxyXG5cdE9CSkVDVF9QUk9QRVJUSUVTX01BWElNVU06IFwiVG9vIG1hbnkgcHJvcGVydGllcyBkZWZpbmVkICh7cHJvcGVydHlDb3VudH0pLCBtYXhpbXVtIHttYXhpbXVtfVwiLFxyXG5cdE9CSkVDVF9SRVFVSVJFRDogXCJNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5OiB7a2V5fVwiLFxyXG5cdE9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVM6IFwiQWRkaXRpb25hbCBwcm9wZXJ0aWVzIG5vdCBhbGxvd2VkXCIsXHJcblx0T0JKRUNUX0RFUEVOREVOQ1lfS0VZOiBcIkRlcGVuZGVuY3kgZmFpbGVkIC0ga2V5IG11c3QgZXhpc3Q6IHttaXNzaW5nfSAoZHVlIHRvIGtleToge2tleX0pXCIsXHJcblx0Ly8gQXJyYXkgZXJyb3JzXHJcblx0QVJSQVlfTEVOR1RIX1NIT1JUOiBcIkFycmF5IGlzIHRvbyBzaG9ydCAoe2xlbmd0aH0pLCBtaW5pbXVtIHttaW5pbXVtfVwiLFxyXG5cdEFSUkFZX0xFTkdUSF9MT05HOiBcIkFycmF5IGlzIHRvbyBsb25nICh7bGVuZ3RofSksIG1heGltdW0ge21heGltdW19XCIsXHJcblx0QVJSQVlfVU5JUVVFOiBcIkFycmF5IGl0ZW1zIGFyZSBub3QgdW5pcXVlIChpbmRpY2VzIHttYXRjaDF9IGFuZCB7bWF0Y2gyfSlcIixcclxuXHRBUlJBWV9BRERJVElPTkFMX0lURU1TOiBcIkFkZGl0aW9uYWwgaXRlbXMgbm90IGFsbG93ZWRcIixcclxuXHQvLyBGb3JtYXQgZXJyb3JzXHJcblx0Rk9STUFUX0NVU1RPTTogXCJGb3JtYXQgdmFsaWRhdGlvbiBmYWlsZWQgKHttZXNzYWdlfSlcIixcclxuXHRLRVlXT1JEX0NVU1RPTTogXCJLZXl3b3JkIGZhaWxlZDoge2tleX0gKHttZXNzYWdlfSlcIixcclxuXHQvLyBTY2hlbWEgc3RydWN0dXJlXHJcblx0Q0lSQ1VMQVJfUkVGRVJFTkNFOiBcIkNpcmN1bGFyICRyZWZzOiB7dXJsc31cIixcclxuXHQvLyBOb24tc3RhbmRhcmQgdmFsaWRhdGlvbiBvcHRpb25zXHJcblx0VU5LTk9XTl9QUk9QRVJUWTogXCJVbmtub3duIHByb3BlcnR5IChub3QgaW4gc2NoZW1hKVwiXHJcbn07XHJcblxyXG5mdW5jdGlvbiBWYWxpZGF0aW9uRXJyb3IoY29kZSwgcGFyYW1zLCBkYXRhUGF0aCwgc2NoZW1hUGF0aCwgc3ViRXJyb3JzKSB7XHJcblx0RXJyb3IuY2FsbCh0aGlzKTtcclxuXHRpZiAoY29kZSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IgKFwiTm8gZXJyb3IgY29kZSBzdXBwbGllZDogXCIgKyBzY2hlbWFQYXRoKTtcclxuXHR9XHJcblx0dGhpcy5tZXNzYWdlID0gJyc7XHJcblx0dGhpcy5wYXJhbXMgPSBwYXJhbXM7XHJcblx0dGhpcy5jb2RlID0gY29kZTtcclxuXHR0aGlzLmRhdGFQYXRoID0gZGF0YVBhdGggfHwgXCJcIjtcclxuXHR0aGlzLnNjaGVtYVBhdGggPSBzY2hlbWFQYXRoIHx8IFwiXCI7XHJcblx0dGhpcy5zdWJFcnJvcnMgPSBzdWJFcnJvcnMgfHwgbnVsbDtcclxuXHJcblx0dmFyIGVyciA9IG5ldyBFcnJvcih0aGlzLm1lc3NhZ2UpO1xyXG5cdHRoaXMuc3RhY2sgPSBlcnIuc3RhY2sgfHwgZXJyLnN0YWNrdHJhY2U7XHJcblx0aWYgKCF0aGlzLnN0YWNrKSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aHJvdyBlcnI7XHJcblx0XHR9XHJcblx0XHRjYXRjaChlcnIpIHtcclxuXHRcdFx0dGhpcy5zdGFjayA9IGVyci5zdGFjayB8fCBlcnIuc3RhY2t0cmFjZTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcclxuVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFZhbGlkYXRpb25FcnJvcjtcclxuVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS5uYW1lID0gJ1ZhbGlkYXRpb25FcnJvcic7XHJcblxyXG5WYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlLnByZWZpeFdpdGggPSBmdW5jdGlvbiAoZGF0YVByZWZpeCwgc2NoZW1hUHJlZml4KSB7XHJcblx0aWYgKGRhdGFQcmVmaXggIT09IG51bGwpIHtcclxuXHRcdGRhdGFQcmVmaXggPSBkYXRhUHJlZml4LnJlcGxhY2UoL34vZywgXCJ+MFwiKS5yZXBsYWNlKC9cXC8vZywgXCJ+MVwiKTtcclxuXHRcdHRoaXMuZGF0YVBhdGggPSBcIi9cIiArIGRhdGFQcmVmaXggKyB0aGlzLmRhdGFQYXRoO1xyXG5cdH1cclxuXHRpZiAoc2NoZW1hUHJlZml4ICE9PSBudWxsKSB7XHJcblx0XHRzY2hlbWFQcmVmaXggPSBzY2hlbWFQcmVmaXgucmVwbGFjZSgvfi9nLCBcIn4wXCIpLnJlcGxhY2UoL1xcLy9nLCBcIn4xXCIpO1xyXG5cdFx0dGhpcy5zY2hlbWFQYXRoID0gXCIvXCIgKyBzY2hlbWFQcmVmaXggKyB0aGlzLnNjaGVtYVBhdGg7XHJcblx0fVxyXG5cdGlmICh0aGlzLnN1YkVycm9ycyAhPT0gbnVsbCkge1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YkVycm9ycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR0aGlzLnN1YkVycm9yc1tpXS5wcmVmaXhXaXRoKGRhdGFQcmVmaXgsIHNjaGVtYVByZWZpeCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gaXNUcnVzdGVkVXJsKGJhc2VVcmwsIHRlc3RVcmwpIHtcclxuXHRpZih0ZXN0VXJsLnN1YnN0cmluZygwLCBiYXNlVXJsLmxlbmd0aCkgPT09IGJhc2VVcmwpe1xyXG5cdFx0dmFyIHJlbWFpbmRlciA9IHRlc3RVcmwuc3Vic3RyaW5nKGJhc2VVcmwubGVuZ3RoKTtcclxuXHRcdGlmICgodGVzdFVybC5sZW5ndGggPiAwICYmIHRlc3RVcmwuY2hhckF0KGJhc2VVcmwubGVuZ3RoIC0gMSkgPT09IFwiL1wiKVxyXG5cdFx0XHR8fCByZW1haW5kZXIuY2hhckF0KDApID09PSBcIiNcIlxyXG5cdFx0XHR8fCByZW1haW5kZXIuY2hhckF0KDApID09PSBcIj9cIikge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG52YXIgbGFuZ3VhZ2VzID0ge307XHJcbmZ1bmN0aW9uIGNyZWF0ZUFwaShsYW5ndWFnZSkge1xyXG5cdHZhciBnbG9iYWxDb250ZXh0ID0gbmV3IFZhbGlkYXRvckNvbnRleHQoKTtcclxuXHR2YXIgY3VycmVudExhbmd1YWdlO1xyXG5cdHZhciBjdXN0b21FcnJvclJlcG9ydGVyO1xyXG5cdHZhciBhcGkgPSB7XHJcblx0XHRzZXRFcnJvclJlcG9ydGVyOiBmdW5jdGlvbiAocmVwb3J0ZXIpIHtcclxuXHRcdFx0aWYgKHR5cGVvZiByZXBvcnRlciA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5sYW5ndWFnZShyZXBvcnRlcik7XHJcblx0XHRcdH1cclxuXHRcdFx0Y3VzdG9tRXJyb3JSZXBvcnRlciA9IHJlcG9ydGVyO1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0sXHJcblx0XHRhZGRGb3JtYXQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0Z2xvYmFsQ29udGV4dC5hZGRGb3JtYXQuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcclxuXHRcdH0sXHJcblx0XHRsYW5ndWFnZTogZnVuY3Rpb24gKGNvZGUpIHtcclxuXHRcdFx0aWYgKCFjb2RlKSB7XHJcblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRMYW5ndWFnZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIWxhbmd1YWdlc1tjb2RlXSkge1xyXG5cdFx0XHRcdGNvZGUgPSBjb2RlLnNwbGl0KCctJylbMF07IC8vIGZhbGwgYmFjayB0byBiYXNlIGxhbmd1YWdlXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGxhbmd1YWdlc1tjb2RlXSkge1xyXG5cdFx0XHRcdGN1cnJlbnRMYW5ndWFnZSA9IGNvZGU7XHJcblx0XHRcdFx0cmV0dXJuIGNvZGU7IC8vIHNvIHlvdSBjYW4gdGVsbCBpZiBmYWxsLWJhY2sgaGFzIGhhcHBlbmVkXHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSxcclxuXHRcdGFkZExhbmd1YWdlOiBmdW5jdGlvbiAoY29kZSwgbWVzc2FnZU1hcCkge1xyXG5cdFx0XHR2YXIga2V5O1xyXG5cdFx0XHRmb3IgKGtleSBpbiBFcnJvckNvZGVzKSB7XHJcblx0XHRcdFx0aWYgKG1lc3NhZ2VNYXBba2V5XSAmJiAhbWVzc2FnZU1hcFtFcnJvckNvZGVzW2tleV1dKSB7XHJcblx0XHRcdFx0XHRtZXNzYWdlTWFwW0Vycm9yQ29kZXNba2V5XV0gPSBtZXNzYWdlTWFwW2tleV07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHZhciByb290Q29kZSA9IGNvZGUuc3BsaXQoJy0nKVswXTtcclxuXHRcdFx0aWYgKCFsYW5ndWFnZXNbcm9vdENvZGVdKSB7IC8vIHVzZSBmb3IgYmFzZSBsYW5ndWFnZSBpZiBub3QgeWV0IGRlZmluZWRcclxuXHRcdFx0XHRsYW5ndWFnZXNbY29kZV0gPSBtZXNzYWdlTWFwO1xyXG5cdFx0XHRcdGxhbmd1YWdlc1tyb290Q29kZV0gPSBtZXNzYWdlTWFwO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGxhbmd1YWdlc1tjb2RlXSA9IE9iamVjdC5jcmVhdGUobGFuZ3VhZ2VzW3Jvb3RDb2RlXSk7XHJcblx0XHRcdFx0Zm9yIChrZXkgaW4gbWVzc2FnZU1hcCkge1xyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBsYW5ndWFnZXNbcm9vdENvZGVdW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0XHRcdGxhbmd1YWdlc1tyb290Q29kZV1ba2V5XSA9IG1lc3NhZ2VNYXBba2V5XTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGxhbmd1YWdlc1tjb2RlXVtrZXldID0gbWVzc2FnZU1hcFtrZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRmcmVzaEFwaTogZnVuY3Rpb24gKGxhbmd1YWdlKSB7XHJcblx0XHRcdHZhciByZXN1bHQgPSBjcmVhdGVBcGkoKTtcclxuXHRcdFx0aWYgKGxhbmd1YWdlKSB7XHJcblx0XHRcdFx0cmVzdWx0Lmxhbmd1YWdlKGxhbmd1YWdlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fSxcclxuXHRcdHZhbGlkYXRlOiBmdW5jdGlvbiAoZGF0YSwgc2NoZW1hLCBjaGVja1JlY3Vyc2l2ZSwgYmFuVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdFx0dmFyIGRlZiA9IGRlZmF1bHRFcnJvclJlcG9ydGVyKGN1cnJlbnRMYW5ndWFnZSk7XHJcblx0XHRcdHZhciBlcnJvclJlcG9ydGVyID0gY3VzdG9tRXJyb3JSZXBvcnRlciA/IGZ1bmN0aW9uIChlcnJvciwgZGF0YSwgc2NoZW1hKSB7XHJcblx0XHRcdFx0cmV0dXJuIGN1c3RvbUVycm9yUmVwb3J0ZXIoZXJyb3IsIGRhdGEsIHNjaGVtYSkgfHwgZGVmKGVycm9yLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHR9IDogZGVmO1xyXG5cdFx0XHR2YXIgY29udGV4dCA9IG5ldyBWYWxpZGF0b3JDb250ZXh0KGdsb2JhbENvbnRleHQsIGZhbHNlLCBlcnJvclJlcG9ydGVyLCBjaGVja1JlY3Vyc2l2ZSwgYmFuVW5rbm93blByb3BlcnRpZXMpO1xyXG5cdFx0XHRpZiAodHlwZW9mIHNjaGVtYSA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRcdHNjaGVtYSA9IHtcIiRyZWZcIjogc2NoZW1hfTtcclxuXHRcdFx0fVxyXG5cdFx0XHRjb250ZXh0LmFkZFNjaGVtYShcIlwiLCBzY2hlbWEpO1xyXG5cdFx0XHR2YXIgZXJyb3IgPSBjb250ZXh0LnZhbGlkYXRlQWxsKGRhdGEsIHNjaGVtYSwgbnVsbCwgbnVsbCwgXCJcIik7XHJcblx0XHRcdGlmICghZXJyb3IgJiYgYmFuVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdFx0XHRlcnJvciA9IGNvbnRleHQuYmFuVW5rbm93blByb3BlcnRpZXMoZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLmVycm9yID0gZXJyb3I7XHJcblx0XHRcdHRoaXMubWlzc2luZyA9IGNvbnRleHQubWlzc2luZztcclxuXHRcdFx0dGhpcy52YWxpZCA9IChlcnJvciA9PT0gbnVsbCk7XHJcblx0XHRcdHJldHVybiB0aGlzLnZhbGlkO1xyXG5cdFx0fSxcclxuXHRcdHZhbGlkYXRlUmVzdWx0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciByZXN1bHQgPSB7dG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy52YWxpZCA/ICd2YWxpZCcgOiB0aGlzLmVycm9yLm1lc3NhZ2U7XHJcblx0XHRcdH19O1xyXG5cdFx0XHR0aGlzLnZhbGlkYXRlLmFwcGx5KHJlc3VsdCwgYXJndW1lbnRzKTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH0sXHJcblx0XHR2YWxpZGF0ZU11bHRpcGxlOiBmdW5jdGlvbiAoZGF0YSwgc2NoZW1hLCBjaGVja1JlY3Vyc2l2ZSwgYmFuVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdFx0dmFyIGRlZiA9IGRlZmF1bHRFcnJvclJlcG9ydGVyKGN1cnJlbnRMYW5ndWFnZSk7XHJcblx0XHRcdHZhciBlcnJvclJlcG9ydGVyID0gY3VzdG9tRXJyb3JSZXBvcnRlciA/IGZ1bmN0aW9uIChlcnJvciwgZGF0YSwgc2NoZW1hKSB7XHJcblx0XHRcdFx0cmV0dXJuIGN1c3RvbUVycm9yUmVwb3J0ZXIoZXJyb3IsIGRhdGEsIHNjaGVtYSkgfHwgZGVmKGVycm9yLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHR9IDogZGVmO1xyXG5cdFx0XHR2YXIgY29udGV4dCA9IG5ldyBWYWxpZGF0b3JDb250ZXh0KGdsb2JhbENvbnRleHQsIHRydWUsIGVycm9yUmVwb3J0ZXIsIGNoZWNrUmVjdXJzaXZlLCBiYW5Vbmtub3duUHJvcGVydGllcyk7XHJcblx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdFx0c2NoZW1hID0ge1wiJHJlZlwiOiBzY2hlbWF9O1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnRleHQuYWRkU2NoZW1hKFwiXCIsIHNjaGVtYSk7XHJcblx0XHRcdGNvbnRleHQudmFsaWRhdGVBbGwoZGF0YSwgc2NoZW1hLCBudWxsLCBudWxsLCBcIlwiKTtcclxuXHRcdFx0aWYgKGJhblVua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdFx0Y29udGV4dC5iYW5Vbmtub3duUHJvcGVydGllcyhkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZhciByZXN1bHQgPSB7dG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy52YWxpZCA/ICd2YWxpZCcgOiB0aGlzLmVycm9yLm1lc3NhZ2U7XHJcblx0XHRcdH19O1xyXG5cdFx0XHRyZXN1bHQuZXJyb3JzID0gY29udGV4dC5lcnJvcnM7XHJcblx0XHRcdHJlc3VsdC5taXNzaW5nID0gY29udGV4dC5taXNzaW5nO1xyXG5cdFx0XHRyZXN1bHQudmFsaWQgPSAocmVzdWx0LmVycm9ycy5sZW5ndGggPT09IDApO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fSxcclxuXHRcdGFkZFNjaGVtYTogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gZ2xvYmFsQ29udGV4dC5hZGRTY2hlbWEuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcclxuXHRcdH0sXHJcblx0XHRnZXRTY2hlbWE6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGdsb2JhbENvbnRleHQuZ2V0U2NoZW1hLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XHJcblx0XHR9LFxyXG5cdFx0Z2V0U2NoZW1hTWFwOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBnbG9iYWxDb250ZXh0LmdldFNjaGVtYU1hcC5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xyXG5cdFx0fSxcclxuXHRcdGdldFNjaGVtYVVyaXM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGdsb2JhbENvbnRleHQuZ2V0U2NoZW1hVXJpcy5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xyXG5cdFx0fSxcclxuXHRcdGdldE1pc3NpbmdVcmlzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBnbG9iYWxDb250ZXh0LmdldE1pc3NpbmdVcmlzLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XHJcblx0XHR9LFxyXG5cdFx0ZHJvcFNjaGVtYXM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0Z2xvYmFsQ29udGV4dC5kcm9wU2NoZW1hcy5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xyXG5cdFx0fSxcclxuXHRcdGRlZmluZUtleXdvcmQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0Z2xvYmFsQ29udGV4dC5kZWZpbmVLZXl3b3JkLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XHJcblx0XHR9LFxyXG5cdFx0ZGVmaW5lRXJyb3I6IGZ1bmN0aW9uIChjb2RlTmFtZSwgY29kZU51bWJlciwgZGVmYXVsdE1lc3NhZ2UpIHtcclxuXHRcdFx0aWYgKHR5cGVvZiBjb2RlTmFtZSAhPT0gJ3N0cmluZycgfHwgIS9eW0EtWl0rKF9bQS1aXSspKiQvLnRlc3QoY29kZU5hbWUpKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDb2RlIG5hbWUgbXVzdCBiZSBhIHN0cmluZyBpbiBVUFBFUl9DQVNFX1dJVEhfVU5ERVJTQ09SRVMnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodHlwZW9mIGNvZGVOdW1iZXIgIT09ICdudW1iZXInIHx8IGNvZGVOdW1iZXIlMSAhPT0gMCB8fCBjb2RlTnVtYmVyIDwgMTAwMDApIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0NvZGUgbnVtYmVyIG11c3QgYmUgYW4gaW50ZWdlciA+IDEwMDAwJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHR5cGVvZiBFcnJvckNvZGVzW2NvZGVOYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGFscmVhZHkgZGVmaW5lZDogJyArIGNvZGVOYW1lICsgJyBhcyAnICsgRXJyb3JDb2Rlc1tjb2RlTmFtZV0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0eXBlb2YgRXJyb3JDb2RlTG9va3VwW2NvZGVOdW1iZXJdICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignRXJyb3IgY29kZSBhbHJlYWR5IHVzZWQ6ICcgKyBFcnJvckNvZGVMb29rdXBbY29kZU51bWJlcl0gKyAnIGFzICcgKyBjb2RlTnVtYmVyKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRFcnJvckNvZGVzW2NvZGVOYW1lXSA9IGNvZGVOdW1iZXI7XHJcblx0XHRcdEVycm9yQ29kZUxvb2t1cFtjb2RlTnVtYmVyXSA9IGNvZGVOYW1lO1xyXG5cdFx0XHRFcnJvck1lc3NhZ2VzRGVmYXVsdFtjb2RlTmFtZV0gPSBFcnJvck1lc3NhZ2VzRGVmYXVsdFtjb2RlTnVtYmVyXSA9IGRlZmF1bHRNZXNzYWdlO1xyXG5cdFx0XHRmb3IgKHZhciBsYW5nQ29kZSBpbiBsYW5ndWFnZXMpIHtcclxuXHRcdFx0XHR2YXIgbGFuZ3VhZ2UgPSBsYW5ndWFnZXNbbGFuZ0NvZGVdO1xyXG5cdFx0XHRcdGlmIChsYW5ndWFnZVtjb2RlTmFtZV0pIHtcclxuXHRcdFx0XHRcdGxhbmd1YWdlW2NvZGVOdW1iZXJdID0gbGFuZ3VhZ2VbY29kZU51bWJlcl0gfHwgbGFuZ3VhZ2VbY29kZU5hbWVdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdHJlc2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGdsb2JhbENvbnRleHQucmVzZXQoKTtcclxuXHRcdFx0dGhpcy5lcnJvciA9IG51bGw7XHJcblx0XHRcdHRoaXMubWlzc2luZyA9IFtdO1xyXG5cdFx0XHR0aGlzLnZhbGlkID0gdHJ1ZTtcclxuXHRcdH0sXHJcblx0XHRtaXNzaW5nOiBbXSxcclxuXHRcdGVycm9yOiBudWxsLFxyXG5cdFx0dmFsaWQ6IHRydWUsXHJcblx0XHRub3JtU2NoZW1hOiBub3JtU2NoZW1hLFxyXG5cdFx0cmVzb2x2ZVVybDogcmVzb2x2ZVVybCxcclxuXHRcdGdldERvY3VtZW50VXJpOiBnZXREb2N1bWVudFVyaSxcclxuXHRcdGVycm9yQ29kZXM6IEVycm9yQ29kZXNcclxuXHR9O1xyXG5cdGFwaS5sYW5ndWFnZShsYW5ndWFnZSB8fCAnZW4nKTtcclxuXHRyZXR1cm4gYXBpO1xyXG59XHJcblxyXG52YXIgdHY0ID0gY3JlYXRlQXBpKCk7XHJcbnR2NC5hZGRMYW5ndWFnZSgnZW4tZ2InLCBFcnJvck1lc3NhZ2VzRGVmYXVsdCk7XHJcblxyXG4vL2xlZ2FjeSBwcm9wZXJ0eVxyXG50djQudHY0ID0gdHY0O1xyXG5cclxucmV0dXJuIHR2NDsgLy8gdXNlZCBieSBfaGVhZGVyLmpzIHRvIGdsb2JhbGlzZS5cclxuXHJcbn0pKTsiLCJ0eXBlIEpzb25TY2hlbWFzID0geyBba2V5OiBzdHJpbmddOiB0djQuSnNvblNjaGVtYSB9O1xuXG4vKipcbiAqIC0gTWFuYWdlcyBhbmQgdmFsaWRhdGVzIHR5cGVzIG9mIHJlbW90ZVN0b3JhZ2Ugb2JqZWN0cywgdXNpbmcgSlNPTi1MRCBhbmRcbiAqICAgSlNPTiBTY2hlbWFcbiAqIC0gQWRkcyBzY2hlbWEgZGVjbGFyYXRpb24vdmFsaWRhdGlvbiBtZXRob2RzIHRvIEJhc2VDbGllbnQgaW5zdGFuY2VzLlxuICoqL1xuZXhwb3J0IGNsYXNzIEJhc2VDbGllbnRUeXBlcyB7XG4gIC8qKlxuICAgKiA8YWxpYXM+IC0+IDx1cmk+XG4gICAqL1xuICB1cmlzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG5cbiAgLyoqXG4gICAqIENvbnRhaW5zIHNjaGVtYSBvYmplY3RzIG9mIGFsbCB0eXBlcyBrbm93biB0byB0aGUgQmFzZUNsaWVudCBpbnN0YW5jZVxuICAgKlxuICAgKiA8dXJpPiAtPiA8c2NoZW1hPlxuICAgKi9cbiAgc2NoZW1hczogSnNvblNjaGVtYXMgPSB7fTtcblxuICAvKipcbiAgICogPHVyaT4gLT4gPGFsaWFzPlxuICAgKi9cbiAgYWxpYXNlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgdmlhIHB1YmxpYyBmdW5jdGlvbiBCYXNlQ2xpZW50LmRlY2xhcmVUeXBlKClcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRlY2xhcmUgKG1vZHVsZU5hbWU6IHN0cmluZywgYWxpYXM6IHN0cmluZywgdXJpOiBzdHJpbmcsIHNjaGVtYTogdHY0Lkpzb25TY2hlbWEpOiB2b2lkIHtcbiAgICBjb25zdCBmdWxsQWxpYXMgPSBtb2R1bGVOYW1lICsgJy8nICsgYWxpYXM7XG5cbiAgICBpZiAoc2NoZW1hLmV4dGVuZHMpIHtcbiAgICAgIGNvbnN0IHBhcnRzID0gc2NoZW1hLmV4dGVuZHMuc3BsaXQoJy8nKTtcbiAgICAgIGNvbnN0IGV4dGVuZGVkQWxpYXMgPSAocGFydHMubGVuZ3RoID09PSAxKVxuICAgICAgICA/IG1vZHVsZU5hbWUgKyAnLycgKyBwYXJ0cy5zaGlmdCgpXG4gICAgICAgIDogcGFydHMuam9pbignLycpO1xuXG4gICAgICBjb25zdCBleHRlbmRlZFVyaSA9IHRoaXMudXJpc1tleHRlbmRlZEFsaWFzXTtcbiAgICAgIGlmICghZXh0ZW5kZWRVcmkpIHtcbiAgICAgICAgdGhyb3cgXCJUeXBlICdcIiArIGZ1bGxBbGlhcyArIFwiJyB0cmllcyB0byBleHRlbmQgdW5rbm93biBzY2hlbWEgJ1wiICsgZXh0ZW5kZWRBbGlhcyArIFwiJ1wiO1xuICAgICAgfVxuICAgICAgc2NoZW1hLmV4dGVuZHMgPSB0aGlzLnNjaGVtYXNbZXh0ZW5kZWRVcmldO1xuICAgIH1cblxuICAgIHRoaXMudXJpc1tmdWxsQWxpYXNdID0gdXJpO1xuICAgIHRoaXMuYWxpYXNlc1t1cmldID0gZnVsbEFsaWFzO1xuICAgIHRoaXMuc2NoZW1hc1t1cmldID0gc2NoZW1hO1xuICB9XG5cbiAgcmVzb2x2ZUFsaWFzIChhbGlhczogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy51cmlzW2FsaWFzXTtcbiAgfVxuXG4gIGdldFNjaGVtYSAodXJpOiBzdHJpbmcpOiB0djQuSnNvblNjaGVtYSB7XG4gICAgcmV0dXJuIHRoaXMuc2NoZW1hc1t1cmldO1xuICB9XG5cbiAgaW5TY29wZSAobW9kdWxlTmFtZTogc3RyaW5nKTogSnNvblNjaGVtYXMge1xuICAgIGNvbnN0IG1sID0gbW9kdWxlTmFtZS5sZW5ndGg7XG4gICAgY29uc3Qgc2NoZW1hcyA9IHt9O1xuICAgIGZvciAoY29uc3QgYWxpYXMgaW4gdGhpcy51cmlzKSB7XG4gICAgICBpZiAoYWxpYXMuc3Vic3RyKDAsIG1sICsgMSkgPT09IG1vZHVsZU5hbWUgKyAnLycpIHtcbiAgICAgICAgY29uc3QgdXJpID0gdGhpcy51cmlzW2FsaWFzXTtcbiAgICAgICAgc2NoZW1hc1t1cmldID0gdGhpcy5zY2hlbWFzW3VyaV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzY2hlbWFzO1xuICB9XG59XG5cbmNvbnN0IFR5cGVzID0gbmV3IEJhc2VDbGllbnRUeXBlcygpO1xuZXhwb3J0IGRlZmF1bHQgVHlwZXM7XG4iLCJjbGFzcyBTY2hlbWFOb3RGb3VuZCBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IodXJpOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFwiU2NoZW1hIG5vdCBmb3VuZDogXCIgKyB1cmkpO1xuICAgIGVycm9yLm5hbWUgPSBcIlNjaGVtYU5vdEZvdW5kXCI7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCA9IFNjaGVtYU5vdEZvdW5kO1xuIiwiLyoqXG4gKiBBIGNhY2hlIHdoaWNoIGNhbiBwcm9wYWdhdGUgY2hhbmdlcyB1cCB0byBwYXJlbnQgZm9sZGVycyBhbmQgZ2VuZXJhdGUgbmV3XG4gKiByZXZpc2lvbiBpZHMgZm9yIHRoZW0uIFRoZSBnZW5lcmF0ZWQgcmV2aXNpb24gaWQgaXMgY29uc2lzdGVudCBhY3Jvc3NcbiAqIGRpZmZlcmVudCBzZXNzaW9ucy4gIFRoZSBrZXlzIGZvciB0aGUgY2FjaGUgYXJlIGNhc2UtaW5zZW5zaXRpdmUuXG4gKlxuICogQHBhcmFtIGRlZmF1bHRWYWx1ZSB7c3RyaW5nfSB0aGUgdmFsdWUgdGhhdCBpcyByZXR1cm5lZCBmb3IgYWxsIGtleXMgdGhhdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb24ndCBleGlzdCBpbiB0aGUgY2FjaGVcbiAqIEBjbGFzc1xuICovXG5cbmNsYXNzIFJldmlzaW9uQ2FjaGUge1xuICBkZWZhdWx0VmFsdWU6IHN0cmluZztcblxuICBwcml2YXRlIF9pdGVtc1JldjogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xuICBwcml2YXRlIF9zdG9yYWdlOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG4gIHByaXZhdGUgX2NhblByb3BhZ2F0ZSA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKGRlZmF1bHRWYWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgdGhpcy5hY3RpdmF0ZVByb3BhZ2F0aW9uKCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBHZXQgYSB2YWx1ZSBmcm9tIHRoZSBjYWNoZSBvciBkZWZhdWx0VmFsdWUsIGlmIHRoZSBrZXkgaXMgbm90IGluIHRoZVxuICAgKiBjYWNoZVxuICAgKi9cbiAgZ2V0KGtleTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBrZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICBsZXQgc3RvcmVkID0gdGhpcy5fc3RvcmFnZVtrZXldO1xuICAgIGlmICh0eXBlb2Ygc3RvcmVkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgc3RvcmVkID0gdGhpcy5kZWZhdWx0VmFsdWU7XG4gICAgICB0aGlzLl9zdG9yYWdlW2tleV0gPSBzdG9yZWQ7XG4gICAgfVxuICAgIHJldHVybiBzdG9yZWQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGEgdmFsdWVcbiAgICovXG4gIHNldChrZXk6IHN0cmluZywgdmFsdWUpOiB1bmtub3duIHtcbiAgICBrZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAodGhpcy5fc3RvcmFnZVtrZXldID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICB0aGlzLl9zdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICBkZWxldGUgdGhpcy5faXRlbXNSZXZba2V5XTtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlUGFyZW50Rm9sZGVySXRlbVJldihrZXksIHZhbHVlKTtcbiAgICBpZiAodGhpcy5fY2FuUHJvcGFnYXRlKSB7XG4gICAgICB0aGlzLl9wcm9wYWdhdGUoa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIHZhbHVlXG4gICAqL1xuICBkZWxldGUoa2V5OiBzdHJpbmcpOiB1bmtub3duIHtcbiAgICByZXR1cm4gdGhpcy5zZXQoa2V5LCBudWxsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlcyBhdXRvbWF0aWMgdXBkYXRlIG9mIGZvbGRlciByZXZpc2lvbnMgd2hlbiBhIGtleSB2YWx1ZSBpcyB1cGRhdGVkXG4gICAqL1xuICBkZWFjdGl2YXRlUHJvcGFnYXRpb24oKTogdHJ1ZSB7XG4gICAgdGhpcy5fY2FuUHJvcGFnYXRlID0gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlcyBhdXRvbWF0aWMgdXBkYXRlIG9mIGZvbGRlciByZXZpc2lvbnMgd2hlbiBhIGtleSB2YWx1ZSBpcyB1cGRhdGVkXG4gICAqIGFuZCByZWZyZXNoZXMgdGhlIGZvbGRlciByZXZpc2lvbiBpZHMgZm9yIGVudGlyZSB0cmVlLlxuICAgKi9cbiAgYWN0aXZhdGVQcm9wYWdhdGlvbigpOiB0cnVlIHtcbiAgICBpZiAodGhpcy5fY2FuUHJvcGFnYXRlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5fZ2VuZXJhdGVGb2xkZXJSZXYoXCIvXCIpO1xuICAgIHRoaXMuX2NhblByb3BhZ2F0ZSA9IHRydWU7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGhhc2ggY29kZSBmb3IgYSBzdHJpbmcuXG4gICAqL1xuICBwcml2YXRlIF9oYXNoQ29kZShzdHI6IHN0cmluZyk6IG51bWJlciB7XG4gICAgbGV0IGhhc2ggPSAwO1xuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gaGFzaDtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNociA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIGNocjtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICAgIH1cbiAgICByZXR1cm4gaGFzaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUYWtlcyBhbiBhcnJheSBvZiBzdHJpbmdzIGFuZCByZXR1cm5zIGEgaGFzaCBvZiB0aGUgaXRlbXNcbiAgICovXG4gIHByaXZhdGUgX2dlbmVyYXRlSGFzaChpdGVtczogc3RyaW5nW10pOiBzdHJpbmcge1xuICAgIC8vIFdlIHNvcnQgdGhlIGl0ZW1zIGJlZm9yZSBqb2luaW5nIHRoZW0gdG8gZW5zdXJlIGNvcnJlY3QgaGFzaCBnZW5lcmF0aW9uXG4gICAgLy8gZXZlcnkgdGltZVxuICAgIGNvbnN0IGZpbGVzID0gaXRlbXMuc29ydCgpLmpvaW4oJ3wnKTtcbiAgICBjb25zdCBoYXNoID0gXCJcIiArIHRoaXMuX2hhc2hDb2RlKGZpbGVzKTtcbiAgICByZXR1cm4gaGFzaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHJldmlzaW9uIG9mIGEga2V5IGluIGl0J3MgcGFyZW50IGZvbGRlciBkYXRhXG4gICAqL1xuICBwcml2YXRlIF91cGRhdGVQYXJlbnRGb2xkZXJJdGVtUmV2KGtleTogc3RyaW5nLCByZXYpOiB2b2lkIHtcbiAgICBpZiAoa2V5ICE9PSAnLycpIHtcbiAgICAgIGNvbnN0IHBhcmVudEZvbGRlciA9IHRoaXMuX2dldFBhcmVudEZvbGRlcihrZXkpO1xuICAgICAgaWYgKCF0aGlzLl9pdGVtc1JldltwYXJlbnRGb2xkZXJdKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zUmV2W3BhcmVudEZvbGRlcl0gPSB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcmVudEZvbGRlckl0ZW1zUmV2ID0gdGhpcy5faXRlbXNSZXZbcGFyZW50Rm9sZGVyXTtcbiAgICAgIGlmICghcmV2KSB7XG4gICAgICAgIGRlbGV0ZSBwYXJlbnRGb2xkZXJJdGVtc1JldltrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50Rm9sZGVySXRlbXNSZXZba2V5XSA9IHJldjtcbiAgICAgIH1cbiAgICAgIC8vcmVzZXQgcmV2aXNpb24gdW50aWwgcm9vdFxuICAgICAgdGhpcy5fdXBkYXRlUGFyZW50Rm9sZGVySXRlbVJldihwYXJlbnRGb2xkZXIsIHRoaXMuZGVmYXVsdFZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9nZXRQYXJlbnRGb2xkZXIoa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBrZXkuc3Vic3RyKDAsIGtleS5sYXN0SW5kZXhPZignLycsIGtleS5sZW5ndGggLSAyKSArIDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3BhZ2F0ZSB0aGUgY2hhbmdlcyB0byB0aGUgcGFyZW50IGZvbGRlcnMgYW5kIGdlbmVyYXRlIG5ldyByZXZpc2lvbiBpZHNcbiAgICogZm9yIHRoZW1cbiAgICovXG4gIHByaXZhdGUgX3Byb3BhZ2F0ZShrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmIChrZXkgIT09ICcvJykge1xuICAgICAgY29uc3QgcGFyZW50Rm9sZGVyID0gdGhpcy5fZ2V0UGFyZW50Rm9sZGVyKGtleSk7XG4gICAgICBjb25zdCBwYXJlbnRGb2xkZXJJdGVtc1JldiA9IHRoaXMuX2l0ZW1zUmV2W3BhcmVudEZvbGRlcl07XG4gICAgICBjb25zdCBoYXNoSXRlbXMgPSBbXTtcbiAgICAgIGZvciAoY29uc3QgcGF0aCBpbiBwYXJlbnRGb2xkZXJJdGVtc1Jldikge1xuICAgICAgICBoYXNoSXRlbXMucHVzaChwYXJlbnRGb2xkZXJJdGVtc1JldltwYXRoXSk7XG4gICAgICB9XG4gICAgICBjb25zdCBuZXdSZXYgPSB0aGlzLl9nZW5lcmF0ZUhhc2goaGFzaEl0ZW1zKTtcbiAgICAgIHRoaXMuc2V0KHBhcmVudEZvbGRlciwgbmV3UmV2KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgcmV2aXNpb24gaWQgZm9yIGEgZm9sZGVyIGFuZCBpdCdzIHN1YmZvbGRlcnMsIGJ5IGhhc2hpbmcgaXQnc1xuICAgKiBsaXN0aW5nXG4gICAqL1xuICBwcml2YXRlIF9nZW5lcmF0ZUZvbGRlclJldihmb2xkZXI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgaXRlbXNSZXYgPSB0aGlzLl9pdGVtc1Jldltmb2xkZXJdO1xuICAgIGxldCBoYXNoID0gdGhpcy5kZWZhdWx0VmFsdWU7XG4gICAgaWYgKGl0ZW1zUmV2KSB7XG4gICAgICBjb25zdCBoYXNoSXRlbXMgPSBbXTtcbiAgICAgIGZvciAoY29uc3QgcGF0aCBpbiBpdGVtc1Jldikge1xuICAgICAgICBjb25zdCBpc0RpcjogYm9vbGVhbiA9IChwYXRoLnN1YnN0cigtMSkgPT09ICcvJyk7XG4gICAgICAgIGxldCBoYXNoSXRlbTtcbiAgICAgICAgaWYgKGlzRGlyKSB7XG4gICAgICAgICAgaGFzaEl0ZW0gPSB0aGlzLl9nZW5lcmF0ZUZvbGRlclJldihwYXRoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYXNoSXRlbSA9IGl0ZW1zUmV2W3BhdGhdO1xuICAgICAgICB9XG4gICAgICAgIGhhc2hJdGVtcy5wdXNoKGhhc2hJdGVtKTtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNoSXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICBoYXNoID0gdGhpcy5fZ2VuZXJhdGVIYXNoKGhhc2hJdGVtcyk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc2V0KGZvbGRlciwgaGFzaCk7XG4gICAgcmV0dXJuIGhhc2g7XG4gIH1cbn1cblxuZXhwb3J0ID0gUmV2aXNpb25DYWNoZTtcbiIsIi8qIGdsb2JhbCBkZWZpbmUgKi9cbi8qIVxuICogd2ViZmluZ2VyLmpzXG4gKiAgIHZlcnNpb24gMi43LjBcbiAqICAgaHR0cDovL2dpdGh1Yi5jb20vc2lsdmVyYnVja2V0L3dlYmZpbmdlci5qc1xuICpcbiAqIERldmVsb3BlZCBhbmQgTWFpbnRhaW5lZCBieTpcbiAqICAgTmljayBKZW5uaW5ncyA8bmlja0BzaWx2ZXJidWNrZXQubmV0PiAyMDEyXG4gKlxuICogd2ViZmluZ2VyLmpzIGlzIHJlbGVhc2VkIHVuZGVyIHRoZSBBR1BMIChzZWUgTElDRU5TRSkuXG4gKlxuICogWW91IGRvbid0IGhhdmUgdG8gZG8gYW55dGhpbmcgc3BlY2lhbCB0byBjaG9vc2Ugb25lIGxpY2Vuc2Ugb3IgdGhlIG90aGVyIGFuZCB5b3UgZG9uJ3RcbiAqIGhhdmUgdG8gbm90aWZ5IGFueW9uZSB3aGljaCBsaWNlbnNlIHlvdSBhcmUgdXNpbmcuXG4gKiBQbGVhc2Ugc2VlIHRoZSBjb3JyZXNwb25kaW5nIGxpY2Vuc2UgZmlsZSBmb3IgZGV0YWlscyBvZiB0aGVzZSBsaWNlbnNlcy5cbiAqIFlvdSBhcmUgZnJlZSB0byB1c2UsIG1vZGlmeSBhbmQgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlLCBidXQgYWxsIGNvcHlyaWdodFxuICogaW5mb3JtYXRpb24gbXVzdCByZW1haW4uXG4gKlxuICovXG5cbmlmICh0eXBlb2YgZmV0Y2ggIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gIC8vIFhNTEh0dHBSZXF1ZXN0ID0gcmVxdWlyZSgneG1saHR0cHJlcXVlc3QnKS5YTUxIdHRwUmVxdWVzdDtcbiAgWE1MSHR0cFJlcXVlc3QgPSByZXF1aXJlKCd4aHIyJyk7XG59XG5cbihmdW5jdGlvbiAoZ2xvYmFsKSB7XG5cbiAgLy8gVVJJIHRvIHByb3BlcnR5IG5hbWUgbWFwXG4gIHZhciBMSU5LX1VSSV9NQVBTID0ge1xuICAgICdodHRwOi8vd2ViZmlzdC5vcmcvc3BlYy9yZWwnOiAnd2ViZmlzdCcsXG4gICAgJ2h0dHA6Ly93ZWJmaW5nZXIubmV0L3JlbC9hdmF0YXInOiAnYXZhdGFyJyxcbiAgICAncmVtb3Rlc3RvcmFnZSc6ICdyZW1vdGVzdG9yYWdlJyxcbiAgICAnaHR0cDovL3Rvb2xzLmlldGYub3JnL2lkL2RyYWZ0LWRlam9uZy1yZW1vdGVzdG9yYWdlJzogJ3JlbW90ZXN0b3JhZ2UnLFxuICAgICdyZW1vdGVTdG9yYWdlJzogJ3JlbW90ZXN0b3JhZ2UnLFxuICAgICdodHRwOi8vd3d3LnBhY2tldGl6ZXIuY29tL3JlbC9zaGFyZSc6ICdzaGFyZScsXG4gICAgJ2h0dHA6Ly93ZWJmaW5nZXIubmV0L3JlbC9wcm9maWxlLXBhZ2UnOiAncHJvZmlsZScsXG4gICAgJ21lJzogJ3Byb2ZpbGUnLFxuICAgICd2Y2FyZCc6ICd2Y2FyZCcsXG4gICAgJ2Jsb2cnOiAnYmxvZycsXG4gICAgJ2h0dHA6Ly9wYWNrZXRpemVyLmNvbS9yZWwvYmxvZyc6ICdibG9nJyxcbiAgICAnaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9nLzIwMTAjdXBkYXRlcy1mcm9tJzogJ3VwZGF0ZXMnLFxuICAgICdodHRwczovL2NhbWxpc3RvcmUub3JnL3JlbC9zZXJ2ZXInOiAnY2FtaWxzdG9yZSdcbiAgfTtcblxuICB2YXIgTElOS19QUk9QRVJUSUVTID0ge1xuICAgICdhdmF0YXInOiBbXSxcbiAgICAncmVtb3Rlc3RvcmFnZSc6IFtdLFxuICAgICdibG9nJzogW10sXG4gICAgJ3ZjYXJkJzogW10sXG4gICAgJ3VwZGF0ZXMnOiBbXSxcbiAgICAnc2hhcmUnOiBbXSxcbiAgICAncHJvZmlsZSc6IFtdLFxuICAgICd3ZWJmaXN0JzogW10sXG4gICAgJ2NhbWxpc3RvcmUnOiBbXVxuICB9O1xuXG4gIC8vIGxpc3Qgb2YgZW5kcG9pbnRzIHRvIHRyeSwgZmFsbGJhY2sgZnJvbSBiZWdpbm5pbmcgdG8gZW5kLlxuICB2YXIgVVJJUyA9IFsnd2ViZmluZ2VyJywgJ2hvc3QtbWV0YScsICdob3N0LW1ldGEuanNvbiddO1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlRXJyb3JPYmplY3Qob2JqKSB7XG4gICAgb2JqLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZTtcbiAgICB9O1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICAvLyBnaXZlbiBhIFVSTCBlbnN1cmVzIGl0J3MgSFRUUFMuXG4gIC8vIHJldHVybnMgZmFsc2UgZm9yIG51bGwgc3RyaW5nIG9yIG5vbi1IVFRQUyBVUkwuXG4gIGZ1bmN0aW9uIGlzU2VjdXJlKHVybCkge1xuICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgcGFydHMgPSB1cmwuc3BsaXQoJzovLycpO1xuICAgIGlmIChwYXJ0c1swXSA9PT0gJ2h0dHBzJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGdW5jdGlvbjogV2ViRmluZ2VyXG4gICAqXG4gICAqIFdlYkZpbmdlciBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBSZXR1cm5zOlxuICAgKlxuICAgKiAgIHJldHVybiBXZWJGaW5nZXIgb2JqZWN0XG4gICAqL1xuICBmdW5jdGlvbiBXZWJGaW5nZXIoY29uZmlnKSB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcgIT09ICdvYmplY3QnKSB7XG4gICAgICBjb25maWcgPSB7fTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIHRsc19vbmx5OiAgICAgICAgICh0eXBlb2YgY29uZmlnLnRsc19vbmx5ICE9PSAndW5kZWZpbmVkJykgPyBjb25maWcudGxzX29ubHkgOiB0cnVlLFxuICAgICAgd2ViZmlzdF9mYWxsYmFjazogKHR5cGVvZiBjb25maWcud2ViZmlzdF9mYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcpID8gY29uZmlnLndlYmZpc3RfZmFsbGJhY2sgOiBmYWxzZSxcbiAgICAgIHVyaV9mYWxsYmFjazogICAgICh0eXBlb2YgY29uZmlnLnVyaV9mYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcpID8gY29uZmlnLnVyaV9mYWxsYmFjayA6IGZhbHNlLFxuICAgICAgcmVxdWVzdF90aW1lb3V0OiAgKHR5cGVvZiBjb25maWcucmVxdWVzdF90aW1lb3V0ICE9PSAndW5kZWZpbmVkJykgPyBjb25maWcucmVxdWVzdF90aW1lb3V0IDogMTAwMDBcbiAgICB9O1xuICB9XG5cbiAgLy8gbWFrZSBhbiBodHRwIHJlcXVlc3QgYW5kIGxvb2sgZm9yIEpSRCByZXNwb25zZSwgZmFpbHMgaWYgcmVxdWVzdCBmYWlsc1xuICAvLyBvciByZXNwb25zZSBub3QganNvbi5cbiAgV2ViRmluZ2VyLnByb3RvdHlwZS5fX2ZldGNoSlJEID0gZnVuY3Rpb24gKHVybCwgZXJyb3JIYW5kbGVyLCBzdWNlc3NIYW5kbGVyKSB7XG4gICAgaWYgKHR5cGVvZiBmZXRjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2ZldGNoSlJEX2ZldGNoKHVybCwgZXJyb3JIYW5kbGVyLCBzdWNlc3NIYW5kbGVyKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHRoaXMuX19mZXRjaEpSRF9YSFIodXJsLCBlcnJvckhhbmRsZXIsIHN1Y2Vzc0hhbmRsZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhZGQgYSBwb2x5ZmlsbCBmb3IgZmV0Y2ggb3IgWE1MSHR0cFJlcXVlc3RcIik7XG4gICAgfVxuICB9O1xuICBXZWJGaW5nZXIucHJvdG90eXBlLl9fZmV0Y2hKUkRfZmV0Y2ggPSBmdW5jdGlvbiAodXJsLCBlcnJvckhhbmRsZXIsIHN1Y2Vzc0hhbmRsZXIpIHtcbiAgICB2YXIgd2ViZmluZ2VyID0gdGhpcztcbiAgICB2YXIgYWJvcnRDb250cm9sbGVyO1xuICAgIGlmICh0eXBlb2YgQWJvcnRDb250cm9sbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgfVxuICAgIHZhciBuZXR3b3JrUHJvbWlzZSA9IGZldGNoKHVybCwge1xuICAgICAgaGVhZGVyczogeydBY2NlcHQnOiAnYXBwbGljYXRpb24vanJkK2pzb24sIGFwcGxpY2F0aW9uL2pzb24nfSxcbiAgICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyID8gYWJvcnRDb250cm9sbGVyLnNpZ25hbCA6IHVuZGVmaW5lZFxuICAgIH0pLlxuICAgIHRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgdGhyb3cgZ2VuZXJhdGVFcnJvck9iamVjdCh7XG4gICAgICAgICAgbWVzc2FnZTogJ3Jlc291cmNlIG5vdCBmb3VuZCcsXG4gICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXNcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgeyAgIC8vIG90aGVyIEhUVFAgc3RhdHVzIChyZWRpcmVjdHMgYXJlIGhhbmRsZWQgdHJhbnNwYXJlbnRseSlcbiAgICAgICAgdGhyb3cgZ2VuZXJhdGVFcnJvck9iamVjdCh7XG4gICAgICAgICAgbWVzc2FnZTogJ2Vycm9yIGR1cmluZyByZXF1ZXN0JyxcbiAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1c1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGZ1bmN0aW9uIChlcnIpIHsgICAvLyBjb25uZWN0aW9uIHJlZnVzZWQsIGV0Yy5cbiAgICAgIHRocm93IGdlbmVyYXRlRXJyb3JPYmplY3Qoe1xuICAgICAgICBtZXNzYWdlOiAnZXJyb3IgZHVyaW5nIHJlcXVlc3QnLFxuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgc3RhdHVzOiB1bmRlZmluZWQsXG4gICAgICAgIGVycjogZXJyXG4gICAgICB9KVxuICAgIH0pLlxuICAgIHRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlVGV4dCkge1xuICAgICAgaWYgKHdlYmZpbmdlci5fX2lzVmFsaWRKU09OKHJlc3BvbnNlVGV4dCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlVGV4dDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGdlbmVyYXRlRXJyb3JPYmplY3Qoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdpbnZhbGlkIGpzb24nLFxuICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgIHN0YXR1czogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlamVjdChnZW5lcmF0ZUVycm9yT2JqZWN0KHtcbiAgICAgICAgICBtZXNzYWdlOiAncmVxdWVzdCB0aW1lZCBvdXQnLFxuICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgIHN0YXR1czogdW5kZWZpbmVkXG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKGFib3J0Q29udHJvbGxlcikge1xuICAgICAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICB9LCB3ZWJmaW5nZXIuY29uZmlnLnJlcXVlc3RfdGltZW91dCk7XG4gICAgfSk7XG5cbiAgICBQcm9taXNlLnJhY2UoW25ldHdvcmtQcm9taXNlLCB0aW1lb3V0UHJvbWlzZV0pLlxuICAgIHRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlVGV4dCkge1xuICAgICAgc3VjZXNzSGFuZGxlcihyZXNwb25zZVRleHQpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGVycm9ySGFuZGxlcihlcnIpO1xuICAgIH0pO1xuICB9O1xuICBXZWJGaW5nZXIucHJvdG90eXBlLl9fZmV0Y2hKUkRfWEhSID0gZnVuY3Rpb24gKHVybCwgZXJyb3JIYW5kbGVyLCBzdWNlc3NIYW5kbGVyKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBoYW5kbGVyU3BlbnQgPSBmYWxzZTtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICBmdW5jdGlvbiBfX3Byb2Nlc3NTdGF0ZSgpIHtcbiAgICAgIGlmIChoYW5kbGVyU3BlbnQpe1xuICAgICAgICByZXR1cm47XG4gICAgICB9ZWxzZXtcbiAgICAgICAgaGFuZGxlclNwZW50ID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICBpZiAoc2VsZi5fX2lzVmFsaWRKU09OKHhoci5yZXNwb25zZVRleHQpKSB7XG4gICAgICAgICAgcmV0dXJuIHN1Y2Vzc0hhbmRsZXIoeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9ySGFuZGxlcihnZW5lcmF0ZUVycm9yT2JqZWN0KHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdpbnZhbGlkIGpzb24nLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXNcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoeGhyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIHJldHVybiBlcnJvckhhbmRsZXIoZ2VuZXJhdGVFcnJvck9iamVjdCh7XG4gICAgICAgICAgbWVzc2FnZTogJ3Jlc291cmNlIG5vdCBmb3VuZCcsXG4gICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzXG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSBpZiAoKHhoci5zdGF0dXMgPj0gMzAxKSAmJiAoeGhyLnN0YXR1cyA8PSAzMDIpKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbiA9IHhoci5nZXRSZXNwb25zZUhlYWRlcignTG9jYXRpb24nKTtcbiAgICAgICAgaWYgKGlzU2VjdXJlKGxvY2F0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBfX21ha2VSZXF1ZXN0KGxvY2F0aW9uKTsgLy8gZm9sbG93IHJlZGlyZWN0XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9ySGFuZGxlcihnZW5lcmF0ZUVycm9yT2JqZWN0KHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdubyByZWRpcmVjdCBVUkwgZm91bmQnLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXNcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBlcnJvckhhbmRsZXIoZ2VuZXJhdGVFcnJvck9iamVjdCh7XG4gICAgICAgICAgbWVzc2FnZTogJ2Vycm9yIGR1cmluZyByZXF1ZXN0JyxcbiAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXNcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9fbWFrZVJlcXVlc3QoKSB7XG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICBfX3Byb2Nlc3NTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfX3Byb2Nlc3NTdGF0ZSgpO1xuICAgICAgfTtcblxuICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGVycm9ySGFuZGxlcihnZW5lcmF0ZUVycm9yT2JqZWN0KHtcbiAgICAgICAgICBtZXNzYWdlOiAncmVxdWVzdCB0aW1lZCBvdXQnLFxuICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1c1xuICAgICAgICB9KSk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub3BlbignR0VUJywgdXJsLCB0cnVlKTtcbiAgICAgIHhoci50aW1lb3V0ID0gc2VsZi5jb25maWcucmVxdWVzdF90aW1lb3V0O1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qcmQranNvbiwgYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgeGhyLnNlbmQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX19tYWtlUmVxdWVzdCgpO1xuICB9O1xuXG4gIFdlYkZpbmdlci5wcm90b3R5cGUuX19pc1ZhbGlkSlNPTiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICB0cnkge1xuICAgICAgSlNPTi5wYXJzZShzdHIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgV2ViRmluZ2VyLnByb3RvdHlwZS5fX2lzTG9jYWxob3N0ID0gZnVuY3Rpb24gKGhvc3QpIHtcbiAgICB2YXIgbG9jYWwgPSAvXmxvY2FsaG9zdChcXC5sb2NhbGRvbWFpbik/KFxcOlswLTldKyk/JC87XG4gICAgcmV0dXJuIGxvY2FsLnRlc3QoaG9zdCk7XG4gIH07XG5cbiAgLy8gcHJvY2Vzc2VzIEpSRCBvYmplY3QgYXMgaWYgaXQncyBhIHdlYmZpbmdlciByZXNwb25zZSBvYmplY3RcbiAgLy8gbG9va3MgZm9yIGtub3duIHByb3BlcnRpZXMgYW5kIGFkZHMgdGhlbSB0byBwcm9maWxlIGRhdGF0IHN0cnVjdC5cbiAgV2ViRmluZ2VyLnByb3RvdHlwZS5fX3Byb2Nlc3NKUkQgPSBmdW5jdGlvbiAoVVJMLCBKUkQsIGVycm9ySGFuZGxlciwgc3VjY2Vzc0hhbmRsZXIpIHtcbiAgICB2YXIgcGFyc2VkSlJEID0gSlNPTi5wYXJzZShKUkQpO1xuICAgIGlmICgodHlwZW9mIHBhcnNlZEpSRCAhPT0gJ29iamVjdCcpIHx8XG4gICAgICAgICh0eXBlb2YgcGFyc2VkSlJELmxpbmtzICE9PSAnb2JqZWN0JykpIHtcbiAgICAgIGlmICh0eXBlb2YgcGFyc2VkSlJELmVycm9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKGdlbmVyYXRlRXJyb3JPYmplY3QoeyBtZXNzYWdlOiBwYXJzZWRKUkQuZXJyb3IsIHJlcXVlc3Q6IFVSTCB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKGdlbmVyYXRlRXJyb3JPYmplY3QoeyBtZXNzYWdlOiAndW5rbm93biByZXNwb25zZSBmcm9tIHNlcnZlcicsIHJlcXVlc3Q6IFVSTCB9KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxpbmtzID0gcGFyc2VkSlJELmxpbmtzO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShsaW5rcykpIHtcbiAgICAgIGxpbmtzID0gW107XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSB7ICAvLyB3ZWJmaW5nZXIgSlJEIC0gb2JqZWN0LCBqc29uLCBhbmQgb3VyIG93biBpbmRleGluZ1xuICAgICAgb2JqZWN0OiBwYXJzZWRKUkQsXG4gICAgICBqc29uOiBKUkQsXG4gICAgICBpZHg6IHt9XG4gICAgfTtcblxuICAgIHJlc3VsdC5pZHgucHJvcGVydGllcyA9IHtcbiAgICAgICduYW1lJzogdW5kZWZpbmVkXG4gICAgfTtcbiAgICByZXN1bHQuaWR4LmxpbmtzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShMSU5LX1BST1BFUlRJRVMpKTtcblxuICAgIC8vIHByb2Nlc3MgbGlua3NcbiAgICBsaW5rcy5tYXAoZnVuY3Rpb24gKGxpbmssIGkpIHtcbiAgICAgIGlmIChMSU5LX1VSSV9NQVBTLmhhc093blByb3BlcnR5KGxpbmsucmVsKSkge1xuICAgICAgICBpZiAocmVzdWx0LmlkeC5saW5rc1tMSU5LX1VSSV9NQVBTW2xpbmsucmVsXV0pIHtcbiAgICAgICAgICB2YXIgZW50cnkgPSB7fTtcbiAgICAgICAgICBPYmplY3Qua2V5cyhsaW5rKS5tYXAoZnVuY3Rpb24gKGl0ZW0sIG4pIHtcbiAgICAgICAgICAgIGVudHJ5W2l0ZW1dID0gbGlua1tpdGVtXTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXN1bHQuaWR4LmxpbmtzW0xJTktfVVJJX01BUFNbbGluay5yZWxdXS5wdXNoKGVudHJ5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gcHJvY2VzcyBwcm9wZXJ0aWVzXG4gICAgdmFyIHByb3BzID0gSlNPTi5wYXJzZShKUkQpLnByb3BlcnRpZXM7XG4gICAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XG4gICAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBpZiAoa2V5ID09PSAnaHR0cDovL3BhY2tldGl6ZXIuY29tL25zL25hbWUnKSB7XG4gICAgICAgICAgcmVzdWx0LmlkeC5wcm9wZXJ0aWVzLm5hbWUgPSBwcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdWNjZXNzSGFuZGxlcihyZXN1bHQpO1xuICB9O1xuXG4gIFdlYkZpbmdlci5wcm90b3R5cGUubG9va3VwID0gZnVuY3Rpb24gKGFkZHJlc3MsIGNiKSB7XG4gICAgaWYgKHR5cGVvZiBhZGRyZXNzICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdmaXJzdCBwYXJhbWV0ZXIgbXVzdCBiZSBhIHVzZXIgYWRkcmVzcycpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlY29uZCBwYXJhbWV0ZXIgbXVzdCBiZSBhIGNhbGxiYWNrJyk7XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBob3N0ID0gJyc7XG4gICAgaWYgKGFkZHJlc3MuaW5kZXhPZignOi8vJykgPiAtMSkge1xuICAgICAgLy8gb3RoZXIgdXJpIGZvcm1hdFxuICAgICAgaG9zdCA9IGFkZHJlc3MucmVwbGFjZSgvIC9nLCcnKS5zcGxpdCgnLycpWzJdO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1c2VyYWRkcmVzc1xuICAgICAgaG9zdCA9IGFkZHJlc3MucmVwbGFjZSgvIC9nLCcnKS5zcGxpdCgnQCcpWzFdO1xuICAgIH1cbiAgICB2YXIgdXJpX2luZGV4ID0gMDsgICAgICAvLyB0cmFjayB3aGljaCBVUklTIHdlJ3ZlIHRyaWVkIGFscmVhZHlcbiAgICB2YXIgcHJvdG9jb2wgPSAnaHR0cHMnOyAvLyB3ZSB1c2UgaHR0cHMgYnkgZGVmYXVsdFxuXG4gICAgaWYgKHNlbGYuX19pc0xvY2FsaG9zdChob3N0KSkge1xuICAgICAgcHJvdG9jb2wgPSAnaHR0cCc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX19idWlsZFVSTCgpIHtcbiAgICAgIHZhciB1cmkgPSAnJztcbiAgICAgIGlmICghIGFkZHJlc3Muc3BsaXQoJzovLycpWzFdKSB7XG4gICAgICAgIC8vIHRoZSBVUkkgaGFzIG5vdCBiZWVuIGRlZmluZWQsIGRlZmF1bHQgdG8gYWNjdFxuICAgICAgICB1cmkgPSAnYWNjdDonO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3RvY29sICsgJzovLycgKyBob3N0ICsgJy8ud2VsbC1rbm93bi8nICtcbiAgICAgICAgICAgICBVUklTW3VyaV9pbmRleF0gKyAnP3Jlc291cmNlPScgKyB1cmkgKyBhZGRyZXNzO1xuICAgIH1cblxuICAgIC8vIGNvbnRyb2wgZmxvdyBmb3IgZmFpbHVyZXMsIHdoYXQgdG8gZG8gaW4gdmFyaW91cyBjYXNlcywgZXRjLlxuICAgIGZ1bmN0aW9uIF9fZmFsbGJhY2tDaGVja3MoZXJyKSB7XG4gICAgICBpZiAoKHNlbGYuY29uZmlnLnVyaV9mYWxsYmFjaykgJiYgKGhvc3QgIT09ICd3ZWJmaXN0Lm9yZycpICYmICh1cmlfaW5kZXggIT09IFVSSVMubGVuZ3RoIC0gMSkpIHsgLy8gd2UgaGF2ZSB1cmlzIGxlZnQgdG8gdHJ5XG4gICAgICAgIHVyaV9pbmRleCA9IHVyaV9pbmRleCArIDE7XG4gICAgICAgIHJldHVybiBfX2NhbGwoKTtcbiAgICAgIH0gZWxzZSBpZiAoKCFzZWxmLmNvbmZpZy50bHNfb25seSkgJiYgKHByb3RvY29sID09PSAnaHR0cHMnKSkgeyAvLyB0cnkgbm9ybWFsIGh0dHBcbiAgICAgICAgdXJpX2luZGV4ID0gMDtcbiAgICAgICAgcHJvdG9jb2wgPSAnaHR0cCc7XG4gICAgICAgIHJldHVybiBfX2NhbGwoKTtcbiAgICAgIH0gZWxzZSBpZiAoKHNlbGYuY29uZmlnLndlYmZpc3RfZmFsbGJhY2spICYmIChob3N0ICE9PSAnd2ViZmlzdC5vcmcnKSkgeyAvLyB3ZWJmaXN0IGF0dGVtcHRcbiAgICAgICAgdXJpX2luZGV4ID0gMDtcbiAgICAgICAgcHJvdG9jb2wgPSAnaHR0cCc7XG4gICAgICAgIGhvc3QgPSAnd2ViZmlzdC5vcmcnO1xuICAgICAgICAvLyB3ZWJmaXN0IHdpbGxcbiAgICAgICAgLy8gMS4gbWFrZSBhIHF1ZXJ5IHRvIHRoZSB3ZWJmaXN0IHNlcnZlciBmb3IgdGhlIHVzZXJzIGFjY291bnRcbiAgICAgICAgLy8gMi4gZnJvbSB0aGUgcmVzcG9uc2UsIGdldCBhIGxpbmsgdG8gdGhlIGFjdHVhbCB3ZWJmaW5nZXIganNvbiBkYXRhXG4gICAgICAgIC8vICAgIChzdG9yZWQgc29tZXdoZXJlIGluIGNvbnRyb2wgb2YgdGhlIHVzZXIpXG4gICAgICAgIC8vIDMuIG1ha2UgYSByZXF1ZXN0IHRvIHRoYXQgdXJsIGFuZCBnZXQgdGhlIGpzb25cbiAgICAgICAgLy8gNC4gcHJvY2VzcyBpdCBsaWtlIGEgbm9ybWFsIHdlYmZpbmdlciByZXNwb25zZVxuICAgICAgICB2YXIgVVJMID0gX19idWlsZFVSTCgpO1xuICAgICAgICBzZWxmLl9fZmV0Y2hKUkQoVVJMLCBjYiwgZnVuY3Rpb24gKGRhdGEpIHsgLy8gZ2V0IGxpbmsgdG8gdXNlcnMgSlJEXG4gICAgICAgICAgc2VsZi5fX3Byb2Nlc3NKUkQoVVJMLCBkYXRhLCBjYiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKCh0eXBlb2YgcmVzdWx0LmlkeC5saW5rcy53ZWJmaXN0ID09PSAnb2JqZWN0JykgJiZcbiAgICAgICAgICAgICAgICAodHlwZW9mIHJlc3VsdC5pZHgubGlua3Mud2ViZmlzdFswXS5ocmVmID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICAgICAgc2VsZi5fX2ZldGNoSlJEKHJlc3VsdC5pZHgubGlua3Mud2ViZmlzdFswXS5ocmVmLCBjYiwgZnVuY3Rpb24gKEpSRCkge1xuICAgICAgICAgICAgICAgIHNlbGYuX19wcm9jZXNzSlJEKFVSTCwgSlJELCBjYiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKG51bGwsIGNiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX19jYWxsKCkge1xuICAgICAgLy8gbWFrZSByZXF1ZXN0XG4gICAgICB2YXIgVVJMID0gX19idWlsZFVSTCgpO1xuICAgICAgc2VsZi5fX2ZldGNoSlJEKFVSTCwgX19mYWxsYmFja0NoZWNrcywgZnVuY3Rpb24gKEpSRCkge1xuICAgICAgICBzZWxmLl9fcHJvY2Vzc0pSRChVUkwsIEpSRCwgY2IsIGZ1bmN0aW9uIChyZXN1bHQpIHsgY2IobnVsbCwgcmVzdWx0KTsgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2V0VGltZW91dChfX2NhbGwsIDApO1xuICB9O1xuXG4gIFdlYkZpbmdlci5wcm90b3R5cGUubG9va3VwTGluayA9IGZ1bmN0aW9uIChhZGRyZXNzLCByZWwsIGNiKSB7XG4gICAgaWYgKExJTktfUFJPUEVSVElFUy5oYXNPd25Qcm9wZXJ0eShyZWwpKSB7XG4gICAgICB0aGlzLmxvb2t1cChhZGRyZXNzLCBmdW5jdGlvbiAoZXJyLCBwKSB7XG4gICAgICAgIHZhciBsaW5rcyAgPSBwLmlkeC5saW5rc1tyZWxdO1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgICAgIH0gZWxzZSBpZiAobGlua3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKCdubyBsaW5rcyBmb3VuZCB3aXRoIHJlbD1cIicgKyByZWwgKyAnXCInKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY2IobnVsbCwgbGlua3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNiKCd1bnN1cHBvcnRlZCByZWwgJyArIHJlbCk7XG4gICAgfVxuICB9O1xuXG5cblxuICAvLyBBTUQgc3VwcG9ydFxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICBkZWZpbmUoW10sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFdlYkZpbmdlcjsgfSk7XG4gIC8vIENvbW1vbkpTIGFuZCBOb2RlLmpzIG1vZHVsZSBzdXBwb3J0LlxuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIFN1cHBvcnQgTm9kZS5qcyBzcGVjaWZpYyBgbW9kdWxlLmV4cG9ydHNgICh3aGljaCBjYW4gYmUgYSBmdW5jdGlvbilcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gV2ViRmluZ2VyO1xuICAgIH1cbiAgICAvLyBCdXQgYWx3YXlzIHN1cHBvcnQgQ29tbW9uSlMgbW9kdWxlIDEuMS4xIHNwZWMgKGBleHBvcnRzYCBjYW5ub3QgYmUgYSBmdW5jdGlvbilcbiAgICBleHBvcnRzLldlYkZpbmdlciA9IFdlYkZpbmdlcjtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIDxzY3JpcHQ+IHN1cHBvcnRcbiAgICBnbG9iYWwuV2ViRmluZ2VyID0gV2ViRmluZ2VyO1xuICB9XG59KSh0aGlzKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gWE1MSHR0cFJlcXVlc3Q7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IEVudiBmcm9tICcuL2Vudic7XG5pbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcbmltcG9ydCB7IGV4dGVuZCwgbG9nRXJyb3IgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IFNHUEQgZnJvbSAnLi9zeW5jZWRnZXRwdXRkZWxldGUnO1xuXG5pbXBvcnQgQWNjZXNzIGZyb20gJy4vYWNjZXNzJztcbmltcG9ydCBBdXRob3JpemUgZnJvbSAnLi9hdXRob3JpemUnO1xuaW1wb3J0IERpc2NvdmVyIGZyb20gJy4vZGlzY292ZXInO1xuaW1wb3J0IEJhc2VDbGllbnQgZnJvbSAnLi9iYXNlY2xpZW50JztcbmltcG9ydCBHb29nbGVEcml2ZSBmcm9tICcuL2dvb2dsZWRyaXZlJztcbmltcG9ydCBEcm9wYm94IGZyb20gJy4vZHJvcGJveCc7XG5pbXBvcnQgV2lyZUNsaWVudCBmcm9tICcuL3dpcmVjbGllbnQnO1xuaW1wb3J0IFN5bmMgZnJvbSAnLi9zeW5jJztcblxuLy8gQ2FjaGluZ1xuaW1wb3J0IENhY2hpbmcgZnJvbSAnLi9jYWNoaW5nJztcbmltcG9ydCBJbmRleGVkREIgZnJvbSAnLi9pbmRleGVkZGInO1xuaW1wb3J0IExvY2FsU3RvcmFnZSBmcm9tICcuL2xvY2Fsc3RvcmFnZSc7XG5pbXBvcnQgSW5NZW1vcnlTdG9yYWdlIGZyb20gJy4vaW5tZW1vcnlzdG9yYWdlJztcblxuY29uc3QgRmVhdHVyZXMgPSB7XG4gIGZlYXR1cmVzOiBbXSxcbiAgZmVhdHVyZXNEb25lOiAwLFxuICByZWFkeUZpcmVkOiBmYWxzZSxcblxuICBsb2FkRmVhdHVyZXMgKCk6IHZvaWQge1xuICAgIHRoaXMuZmVhdHVyZXMgPSBbXTtcbiAgICB0aGlzLmZlYXR1cmVzRG9uZSA9IDA7XG4gICAgdGhpcy5yZWFkeUZpcmVkID0gZmFsc2U7XG5cbiAgICB0aGlzLmZlYXR1cmVNb2R1bGVzID0ge1xuICAgICAgJ1dpcmVDbGllbnQnOiBXaXJlQ2xpZW50LFxuICAgICAgJ0Ryb3Bib3gnOiBEcm9wYm94LFxuICAgICAgJ0dvb2dsZURyaXZlJzogR29vZ2xlRHJpdmUsXG4gICAgICAnQWNjZXNzJzogQWNjZXNzLFxuICAgICAgJ0Rpc2NvdmVyJzogRGlzY292ZXIsXG4gICAgICAnQXV0aG9yaXplJzogQXV0aG9yaXplLFxuICAgICAgJ0Jhc2VDbGllbnQnOiBCYXNlQ2xpZW50LFxuICAgICAgJ0Vudic6IEVudlxuICAgIH07XG5cbiAgICAvLyBlbmFibGUgY2FjaGluZyByZWxhdGVkIG1vZHVsZXMgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy5jYWNoZSkge1xuICAgICAgLy8gVE9ETyByZXBsYWNlIHV0aWwuZXh0ZW5kIHdpdGggbW9kZXJuIEpTIHsuLi5vYmplY3QsIC4uLm9iamVjdH1cbiAgICAgIGV4dGVuZCh0aGlzLmZlYXR1cmVNb2R1bGVzLCB7XG4gICAgICAgICdDYWNoaW5nJzogQ2FjaGluZyxcbiAgICAgICAgJ0luZGV4ZWREQic6IEluZGV4ZWREQixcbiAgICAgICAgJ0xvY2FsU3RvcmFnZSc6IExvY2FsU3RvcmFnZSxcbiAgICAgICAgJ0luTWVtb3J5U3RvcmFnZSc6IEluTWVtb3J5U3RvcmFnZSxcbiAgICAgICAgJ1N5bmMnOiBTeW5jXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBkaXNhYmxlIGZlYXR1cmVzIHNldCBpbiB0aGUgY29uZmlnIG9iamVjdCBwYXNzZWQgdG8gdGhlIFJlbW90ZVN0b3JhZ2VcbiAgICAvLyBjb25zdHJ1Y3RvclxuICAgIC8vIEZvciBleGFtcGxlOiBbJ0luZGV4ZWREQiddXG4gICAgY29uZmlnLmRpc2FibGVGZWF0dXJlcy5mb3JFYWNoKGZlYXR1cmUgPT4ge1xuICAgICAgaWYgKHRoaXMuZmVhdHVyZU1vZHVsZXNbZmVhdHVyZV0pIHtcbiAgICAgICAgLy8gdGhpcy5mZWF0dXJlTW9kdWxlc1tmZWF0dXJlXSA9IHVuZGVmaW5lZFxuICAgICAgICBkZWxldGUgdGhpcy5mZWF0dXJlTW9kdWxlc1tmZWF0dXJlXTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX2FsbExvYWRlZCA9IGZhbHNlO1xuXG4gICAgZm9yIChjb25zdCBmZWF0dXJlTmFtZSBpbiB0aGlzLmZlYXR1cmVNb2R1bGVzKSB7XG4gICAgICAvLyBGSVhNRTogdGhpcyBoYXMgdG8gcHVzaCB0aGUgcHJvbWlzZWQgcmV0dXJuIHZhbHVlIGludG8gYW5cbiAgICAgIC8vIGFycmF5IG9mIHByb21pc2VzIGFuZCB1c2UgUHJvbWlzZS5hbGwgdG8gZW1pdCBgcmVhZHlgXG4gICAgICAvLyBpbnN0ZWFkIG9mIGluY3JlbWVudCBhIGNvdW50ZXIgb2YgbG9hZGVkIGZlYXR1cmVzLiAtbGVzXG4gICAgICB0aGlzLmxvYWRGZWF0dXJlKGZlYXR1cmVOYW1lKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1ldGhvZDogaGFzRmVhdHVyZVxuICAgKlxuICAgKiBDaGVja3Mgd2hldGhlciBhIGZlYXR1cmUgaXMgZW5hYmxlZCBvciBub3Qgd2l0aGluIHJlbW90ZVN0b3JhZ2UuXG4gICAqIFJldHVybnMgYSBib29sZWFuLlxuICAgKlxuICAgKiBQYXJhbWV0ZXJzOlxuICAgKiAgIG5hbWUgLSBDYXBpdGFsaXplZCBuYW1lIG9mIHRoZSBmZWF0dXJlLiBlLmcuIEF1dGhvcml6ZSwgb3IgSW5kZXhlZERCXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqICAgKHN0YXJ0IGNvZGUpXG4gICAqICAgaWYgKHJlbW90ZVN0b3JhZ2UuaGFzRmVhdHVyZSgnTG9jYWxTdG9yYWdlJykpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdMb2NhbFN0b3JhZ2UgaXMgZW5hYmxlZCEnKTtcbiAgICogICB9XG4gICAqICAgKGVuZCBjb2RlKVxuICAgKlxuICAgKi9cbiAgaGFzRmVhdHVyZSAoZmVhdHVyZSkge1xuICAgIGZvciAobGV0IGkgPSB0aGlzLmZlYXR1cmVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBpZiAodGhpcy5mZWF0dXJlc1tpXS5uYW1lID09PSBmZWF0dXJlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVzW2ldLnN1cHBvcnRlZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIGxvYWRGZWF0dXJlIChmZWF0dXJlTmFtZSkge1xuICAgIGNvbnN0IGZlYXR1cmUgPSB0aGlzLmZlYXR1cmVNb2R1bGVzW2ZlYXR1cmVOYW1lXTtcbiAgICBjb25zdCBzdXBwb3J0ZWQgPSAhZmVhdHVyZS5fcnNfc3VwcG9ydGVkIHx8IGZlYXR1cmUuX3JzX3N1cHBvcnRlZCgpO1xuXG4gICAgbG9nKGBbUmVtb3RlU3RvcmFnZV0gW0ZFQVRVUkUgJHtmZWF0dXJlTmFtZX1dIGluaXRpYWxpemluZyAuLi5gKTtcblxuICAgIGlmICh0eXBlb2Ygc3VwcG9ydGVkID09PSAnb2JqZWN0Jykge1xuICAgICAgc3VwcG9ydGVkLnRoZW4oICgpID0+IHtcbiAgICAgICAgdGhpcy5mZWF0dXJlU3VwcG9ydGVkKGZlYXR1cmVOYW1lLCB0cnVlKTtcbiAgICAgICAgdGhpcy5pbml0RmVhdHVyZShmZWF0dXJlTmFtZSk7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZmVhdHVyZVN1cHBvcnRlZChmZWF0dXJlTmFtZSwgZmFsc2UpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3VwcG9ydGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXMuZmVhdHVyZVN1cHBvcnRlZChmZWF0dXJlTmFtZSwgc3VwcG9ydGVkKTtcbiAgICAgIGlmIChzdXBwb3J0ZWQpIHtcbiAgICAgICAgdGhpcy5pbml0RmVhdHVyZShmZWF0dXJlTmFtZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZmVhdHVyZVN1cHBvcnRlZChmZWF0dXJlTmFtZSwgZmFsc2UpO1xuICAgIH1cbiAgfSxcblxuICBpbml0RmVhdHVyZSAoZmVhdHVyZU5hbWUpIHtcbiAgICBjb25zdCBmZWF0dXJlID0gdGhpcy5mZWF0dXJlTW9kdWxlc1tmZWF0dXJlTmFtZV07XG4gICAgbGV0IGluaXRSZXN1bHQ7XG4gICAgdHJ5IHtcbiAgICAgIGluaXRSZXN1bHQgPSBmZWF0dXJlLl9yc19pbml0KHRoaXMpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgdGhpcy5mZWF0dXJlRmFpbGVkKGZlYXR1cmVOYW1lLCBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mKGluaXRSZXN1bHQpID09PSAnb2JqZWN0JyAmJiB0eXBlb2YoaW5pdFJlc3VsdC50aGVuKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaW5pdFJlc3VsdC50aGVuKFxuICAgICAgICAoKSA9PiB7IHRoaXMuZmVhdHVyZUluaXRpYWxpemVkKGZlYXR1cmVOYW1lKTsgfSxcbiAgICAgICAgKGVycikgPT4geyB0aGlzLmZlYXR1cmVGYWlsZWQoZmVhdHVyZU5hbWUsIGVycik7IH1cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZmVhdHVyZUluaXRpYWxpemVkKGZlYXR1cmVOYW1lKTtcbiAgICB9XG4gIH0sXG5cbiAgZmVhdHVyZUZhaWxlZCAoZmVhdHVyZU5hbWUsIGVycikge1xuICAgIGxvZyhgW1JlbW90ZVN0b3JhZ2VdIFtGRUFUVVJFICR7ZmVhdHVyZU5hbWV9XSBpbml0aWFsaXphdGlvbiBmYWlsZWQgKCR7ZXJyfSlgKTtcbiAgICB0aGlzLmZlYXR1cmVEb25lKCk7XG4gIH0sXG5cbiAgZmVhdHVyZVN1cHBvcnRlZCAoZmVhdHVyZU5hbWUsIHN1Y2Nlc3MpIHtcbiAgICBsb2coYFtSZW1vdGVTdG9yYWdlXSBbRkVBVFVSRSAke2ZlYXR1cmVOYW1lfV0ke3N1Y2Nlc3MgPyAnJyA6ICdub3QgJ30gc3VwcG9ydGVkYCk7XG4gICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICB0aGlzLmZlYXR1cmVEb25lKCk7XG4gICAgfVxuICB9LFxuXG4gIGZlYXR1cmVJbml0aWFsaXplZCAoZmVhdHVyZU5hbWUpIHtcbiAgICBsb2coYFtSZW1vdGVTdG9yYWdlXSBbRkVBVFVSRSAke2ZlYXR1cmVOYW1lfV0gaW5pdGlhbGl6ZWRgKTtcbiAgICB0aGlzLmZlYXR1cmVzLnB1c2goe1xuICAgICAgbmFtZSA6IGZlYXR1cmVOYW1lLFxuICAgICAgaW5pdCA6ICB0aGlzLmZlYXR1cmVNb2R1bGVzW2ZlYXR1cmVOYW1lXS5fcnNfaW5pdCxcbiAgICAgIHN1cHBvcnRlZCA6IHRydWUsXG4gICAgICBjbGVhbnVwIDogdGhpcy5mZWF0dXJlTW9kdWxlc1tmZWF0dXJlTmFtZV0uX3JzX2NsZWFudXBcbiAgICB9KTtcbiAgICB0aGlzLmZlYXR1cmVEb25lKCk7XG4gIH0sXG5cbiAgZmVhdHVyZURvbmUgKCkge1xuICAgIHRoaXMuZmVhdHVyZXNEb25lKys7XG4gICAgaWYgKHRoaXMuZmVhdHVyZXNEb25lID09PSBPYmplY3Qua2V5cyh0aGlzLmZlYXR1cmVNb2R1bGVzKS5sZW5ndGgpIHtcbiAgICAgIHNldFRpbWVvdXQodGhpcy5mZWF0dXJlc0xvYWRlZC5iaW5kKHRoaXMpLCAwKTtcbiAgICB9XG4gIH0sXG5cbiAgX3NldENhY2hpbmdNb2R1bGUgKCkge1xuICAgIGNvbnN0IGNhY2hpbmdNb2R1bGVzID0gWydJbmRleGVkREInLCAnTG9jYWxTdG9yYWdlJywgJ0luTWVtb3J5U3RvcmFnZSddO1xuXG4gICAgY2FjaGluZ01vZHVsZXMuc29tZSggY2FjaGluZ0xheWVyID0+IHtcbiAgICAgIGlmICh0aGlzLmZlYXR1cmVzLnNvbWUoZmVhdHVyZSA9PiBmZWF0dXJlLm5hbWUgPT09IGNhY2hpbmdMYXllcikpIHtcbiAgICAgICAgdGhpcy5mZWF0dXJlcy5sb2NhbCA9IHRoaXMuZmVhdHVyZU1vZHVsZXNbY2FjaGluZ0xheWVyXTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgX2ZpcmVSZWFkeSgpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLnJlYWR5RmlyZWQpIHtcbiAgICAgICAgdGhpcy5fZW1pdCgncmVhZHknKTtcbiAgICAgICAgdGhpcy5yZWFkeUZpcmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCIncmVhZHknIGZhaWxlZDogXCIsIGUsIGUuc3RhY2spO1xuICAgICAgdGhpcy5fZW1pdCgnZXJyb3InLCBlKTtcbiAgICB9XG4gIH0sXG5cbiAgZmVhdHVyZXNMb2FkZWQgKCkge1xuICAgIGxvZyhgW1JlbW90ZVN0b3JhZ2VdIEFsbCBmZWF0dXJlcyBsb2FkZWRgKTtcblxuICAgIHRoaXMuX3NldENhY2hpbmdNb2R1bGUoKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbmV3LWNhcFxuICAgIHRoaXMubG9jYWwgPSBjb25maWcuY2FjaGUgJiYgdGhpcy5mZWF0dXJlcy5sb2NhbCAmJiBuZXcgdGhpcy5mZWF0dXJlcy5sb2NhbCgpO1xuXG4gICAgLy8gdGhpcy5yZW1vdGUgc2V0IGJ5IFdpcmVDbGllbnQuX3JzX2luaXQgYXMgbGF6eSBwcm9wZXJ0eSBvblxuICAgIC8vIFJTLnByb3RvdHlwZVxuXG4gICAgaWYgKHRoaXMubG9jYWwgJiYgdGhpcy5yZW1vdGUpIHtcbiAgICAgIHRoaXMuX3NldEdQRChTR1BELCB0aGlzKTtcbiAgICAgIHRoaXMuX2JpbmRDaGFuZ2UodGhpcy5sb2NhbCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnJlbW90ZSkge1xuICAgICAgdGhpcy5fc2V0R1BEKHRoaXMucmVtb3RlLCB0aGlzLnJlbW90ZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnJlbW90ZSkge1xuICAgICAgdGhpcy5yZW1vdGUub24oJ2Nvbm5lY3RlZCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5fZmlyZVJlYWR5KCk7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3RlZCcpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnJlbW90ZS5vbignbm90LWNvbm5lY3RlZCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5fZmlyZVJlYWR5KCk7XG4gICAgICAgIHRoaXMuX2VtaXQoJ25vdC1jb25uZWN0ZWQnKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMucmVtb3RlLmNvbm5lY3RlZCkge1xuICAgICAgICB0aGlzLl9maXJlUmVhZHkoKTtcbiAgICAgICAgdGhpcy5fZW1pdCgnY29ubmVjdGVkJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5oYXNGZWF0dXJlKCdBdXRob3JpemUnKSkge1xuICAgICAgICB0aGlzLnJlbW90ZS5zdG9wV2FpdGluZ0ZvclRva2VuKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fY29sbGVjdENsZWFudXBGdW5jdGlvbnMoKTtcblxuICAgIHRyeSB7XG4gICAgICB0aGlzLl9hbGxMb2FkZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fZW1pdCgnZmVhdHVyZXMtbG9hZGVkJyk7XG4gICAgfSBjYXRjaChleGMpIHtcbiAgICAgIGxvZ0Vycm9yKGV4Yyk7XG4gICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIGV4Yyk7XG4gICAgfVxuICAgIHRoaXMuX3Byb2Nlc3NQZW5kaW5nKCk7XG4gIH0sXG5cbiAgX2NvbGxlY3RDbGVhbnVwRnVuY3Rpb25zICgpOiB2b2lkIHtcbiAgICB0aGlzLl9jbGVhbnVwcyA9IFtdO1xuICAgIGZvciAobGV0IGk9MDsgaSA8IHRoaXMuZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNsZWFudXAgPSB0aGlzLmZlYXR1cmVzW2ldLmNsZWFudXA7XG4gICAgICBpZiAodHlwZW9mKGNsZWFudXApID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuX2NsZWFudXBzLnB1c2goY2xlYW51cCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgPSBGZWF0dXJlcztcbiIsImltcG9ydCBsb2cgZnJvbSAnLi9sb2cnO1xuXG5mdW5jdGlvbiBzaGFyZUZpcnN0KHBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gKCB0aGlzLmJhY2tlbmQgPT09ICdkcm9wYm94JyAmJlxuICAgICAgICAgICAhIXBhdGgubWF0Y2goL15cXC9wdWJsaWNcXC8uKlteXFwvXSQvKSApO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0TWF4QWdlKGNvbnRleHQpOiBmYWxzZSB8IG51bWJlciB7XG4gIGlmICgodHlwZW9mIGNvbnRleHQucmVtb3RlID09PSAnb2JqZWN0JykgJiZcbiAgICAgIGNvbnRleHQucmVtb3RlLmNvbm5lY3RlZCAmJiBjb250ZXh0LnJlbW90ZS5vbmxpbmUpIHtcbiAgICByZXR1cm4gMiAqIGNvbnRleHQuZ2V0U3luY0ludGVydmFsKCk7XG4gIH0gZWxzZSB7XG4gICAgbG9nKCdOb3Qgc2V0dGluZyBkZWZhdWx0IG1heEFnZSwgYmVjYXVzZSByZW1vdGUgaXMgb2ZmbGluZSBvciBub3QgY29ubmVjdGVkJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmNvbnN0IFN5bmNlZEdldFB1dERlbGV0ZSA9IHtcbiAgZ2V0OiBmdW5jdGlvbiAocGF0aDogc3RyaW5nLCBtYXhBZ2U6IHVuZGVmaW5lZCB8IGZhbHNlIHwgbnVtYmVyKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKCF0aGlzLmxvY2FsKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW1vdGUuZ2V0KHBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIG1heEFnZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbWF4QWdlID0gZGVmYXVsdE1heEFnZSh0aGlzKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1heEFnZSAhPT0gJ251bWJlcicgJiYgbWF4QWdlICE9PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEFyZ3VtZW50ICdtYXhBZ2UnIG11c3QgYmUgJ2ZhbHNlJyBvciBhIG51bWJlcmApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMubG9jYWwuZ2V0KHBhdGgsIG1heEFnZSwgdGhpcy5zeW5jLnF1ZXVlR2V0UmVxdWVzdC5iaW5kKHRoaXMuc3luYykpO1xuICAgIH1cbiAgfSxcblxuICBwdXQ6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcsIGJvZHk6IHVua25vd24sIGNvbnRlbnRUeXBlOiBzdHJpbmcpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICBpZiAoc2hhcmVGaXJzdC5iaW5kKHRoaXMpKHBhdGgpKSB7XG4gICAgICByZXR1cm4gU3luY2VkR2V0UHV0RGVsZXRlLl93cmFwQnVzeURvbmUuY2FsbCh0aGlzLCB0aGlzLnJlbW90ZS5wdXQocGF0aCwgYm9keSwgY29udGVudFR5cGUpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5sb2NhbCkge1xuICAgICAgcmV0dXJuIHRoaXMubG9jYWwucHV0KHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFN5bmNlZEdldFB1dERlbGV0ZS5fd3JhcEJ1c3lEb25lLmNhbGwodGhpcywgdGhpcy5yZW1vdGUucHV0KHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlKSk7XG4gICAgfVxuICB9LFxuXG4gICdkZWxldGUnOiBmdW5jdGlvbiAocGF0aDogc3RyaW5nKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKHRoaXMubG9jYWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvY2FsLmRlbGV0ZShwYXRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFN5bmNlZEdldFB1dERlbGV0ZS5fd3JhcEJ1c3lEb25lLmNhbGwodGhpcywgdGhpcy5yZW1vdGUuZGVsZXRlKHBhdGgpKTtcbiAgICB9XG4gIH0sXG5cbiAgX3dyYXBCdXN5RG9uZTogYXN5bmMgZnVuY3Rpb24gKHJlc3VsdDogUHJvbWlzZTx1bmtub3duPik6IFByb21pc2U8dW5rbm93bj4ge1xuICAgIHRoaXMuX2VtaXQoJ3dpcmUtYnVzeScpO1xuICAgIHJldHVybiByZXN1bHQudGhlbigocikgPT4ge1xuICAgICAgdGhpcy5fZW1pdCgnd2lyZS1kb25lJywgeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyKTtcbiAgICB9LCAoZXJyOiBFcnJvcikgPT4ge1xuICAgICAgdGhpcy5fZW1pdCgnd2lyZS1kb25lJywgeyBzdWNjZXNzOiBmYWxzZSB9KTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgIH0pO1xuICB9XG59O1xuXG5leHBvcnQgPSBTeW5jZWRHZXRQdXREZWxldGU7XG4iLCJpbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBFbnYgZnJvbSAnLi9lbnYnO1xuaW1wb3J0IEV2ZW50SGFuZGxpbmcgZnJvbSAnLi9ldmVudGhhbmRsaW5nJztcbmltcG9ydCBsb2cgZnJvbSAnLi9sb2cnO1xuaW1wb3J0IEF1dGhvcml6ZSBmcm9tICcuL2F1dGhvcml6ZSc7XG5pbXBvcnQgU3luY0Vycm9yIGZyb20gJy4vc3luYy1lcnJvcic7XG5pbXBvcnQgVW5hdXRob3JpemVkRXJyb3IgZnJvbSAnLi91bmF1dGhvcml6ZWQtZXJyb3InO1xuaW1wb3J0IHtcbiAgYXBwbHlNaXhpbnMsXG4gIGRlZXBDbG9uZSxcbiAgZXF1YWwsXG4gIGlzRm9sZGVyLFxuICBpc0RvY3VtZW50LFxuICBwYXRoc0Zyb21Sb290XG59IGZyb20gJy4vdXRpbCc7XG5cbmxldCBzeW5jQ3ljbGVDYiwgc3luY09uQ29ubmVjdDtcblxuaW50ZXJmYWNlIFJlc3BvbnNlU3RhdHVzIHtcbiAgc3RhdHVzQ29kZTogc3RyaW5nIHwgbnVtYmVyO1xuICBzdWNjZXNzZnVsOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBjb25mbGljdDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgdW5BdXRoOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBub3RGb3VuZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgY2hhbmdlZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgbmV0d29ya1Byb2JsZW1zOiBib29sZWFuIHwgdW5kZWZpbmVkO1xufVxuXG5pbnRlcmZhY2UgU3luY1Rhc2sge1xuICBhY3Rpb246IGFueTtcbiAgcGF0aDogc3RyaW5nO1xuICBwcm9taXNlOiBQcm9taXNlPGFueT47XG59XG5cbmZ1bmN0aW9uIHRhc2tGb3IgKGFjdGlvbiwgcGF0aDogc3RyaW5nLCBwcm9taXNlOiBQcm9taXNlPGFueT4pOiBTeW5jVGFzayB7XG4gIHJldHVybiB7IGFjdGlvbiwgcGF0aCwgcHJvbWlzZSB9O1xufVxuXG5mdW5jdGlvbiBub2RlQ2hhbmdlZCAobm9kZTogUlNOb2RlLCBldGFnOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIG5vZGUuY29tbW9uLnJldmlzaW9uICE9PSBldGFnICYmXG4gICAgICAgICAoIW5vZGUucmVtb3RlIHx8IG5vZGUucmVtb3RlLnJldmlzaW9uICE9PSBldGFnKTtcbn1cblxuZnVuY3Rpb24gaXNTdGFsZUNoaWxkIChub2RlOiBSU05vZGUpOiBib29sZWFuIHtcbiAgcmV0dXJuIG5vZGUucmVtb3RlICYmIG5vZGUucmVtb3RlLnJldmlzaW9uICYmICFub2RlLnJlbW90ZS5pdGVtc01hcCAmJiAhbm9kZS5yZW1vdGUuYm9keTtcbn1cblxuZnVuY3Rpb24gaGFzQ29tbW9uUmV2aXNpb24gKG5vZGU6IFJTTm9kZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gbm9kZS5jb21tb24gJiYgbm9kZS5jb21tb24ucmV2aXNpb247XG59XG5cbmZ1bmN0aW9uIGhhc05vUmVtb3RlQ2hhbmdlcyAobm9kZTogUlNOb2RlKTogYm9vbGVhbiB7XG4gIGlmIChub2RlLnJlbW90ZSAmJiBub2RlLnJlbW90ZS5yZXZpc2lvbiAmJlxuICAgICAgbm9kZS5yZW1vdGUucmV2aXNpb24gIT09IG5vZGUuY29tbW9uLnJldmlzaW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAobm9kZS5jb21tb24uYm9keSA9PT0gdW5kZWZpbmVkICYmIG5vZGUucmVtb3RlLmJvZHkgPT09IGZhbHNlKSB8fFxuICAgIChub2RlLnJlbW90ZS5ib2R5ID09PSBub2RlLmNvbW1vbi5ib2R5ICYmXG4gICAgIG5vZGUucmVtb3RlLmNvbnRlbnRUeXBlID09PSBub2RlLmNvbW1vbi5jb250ZW50VHlwZSk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlTXV0dWFsRGVsZXRpb24gKG5vZGU6IFJTTm9kZSk6IFJTTm9kZSB7XG4gIGlmIChub2RlLnJlbW90ZSAmJiBub2RlLnJlbW90ZS5ib2R5ID09PSBmYWxzZSAmJlxuICAgICAgbm9kZS5sb2NhbCAmJiBub2RlLmxvY2FsLmJvZHkgPT09IGZhbHNlKSB7XG4gICAgZGVsZXRlIG5vZGUubG9jYWw7XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVZpc2liaWxpdHkgKGVudiwgcnMpOiB2b2lkIHtcbiAgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlIChpc0ZvcmVncm91bmQpOiB2b2lkIHtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHJzLmdldEN1cnJlbnRTeW5jSW50ZXJ2YWwoKTtcbiAgICBjb25maWcuaXNCYWNrZ3JvdW5kID0gIWlzRm9yZWdyb3VuZDtcbiAgICBjb25zdCBuZXdWYWx1ZSA9IHJzLmdldEN1cnJlbnRTeW5jSW50ZXJ2YWwoKTtcbiAgICBycy5fZW1pdCgnc3luYy1pbnRlcnZhbC1jaGFuZ2UnLCB7b2xkVmFsdWU6IG9sZFZhbHVlLCBuZXdWYWx1ZTogbmV3VmFsdWV9KTtcbiAgfVxuICBlbnYub24oJ2JhY2tncm91bmQnLCAoKSA9PiBoYW5kbGVDaGFuZ2UoZmFsc2UpKTtcbiAgZW52Lm9uKCdmb3JlZ3JvdW5kJywgKCkgPT4gaGFuZGxlQ2hhbmdlKHRydWUpKTtcbn1cblxuLyoqXG4gKiBDbGFzczogUmVtb3RlU3RvcmFnZS5TeW5jXG4gKlxuICogVGhpcyBjbGFzcyBiYXNpY2FsbHkgZG9lcyBzaXggdGhpbmdzOlxuICpcbiAqIC0gcmV0cmlldmUgdGhlIHJlbW90ZSB2ZXJzaW9uIG9mIHJlbGV2YW50IGRvY3VtZW50cyBhbmQgZm9sZGVyc1xuICogLSBhZGQgYWxsIGxvY2FsIGFuZCByZW1vdGUgZG9jdW1lbnRzIHRvZ2V0aGVyIGludG8gb25lIHRyZWVcbiAqIC0gcHVzaCBsb2NhbCBkb2N1bWVudHMgb3V0IGlmIHRoZXkgZG9uJ3QgZXhpc3QgcmVtb3RlbHlcbiAqIC0gcHVzaCBsb2NhbCBjaGFuZ2VzIG91dCB0byByZW1vdGUgZG9jdW1lbnRzIChjb25kaXRpb25hbGx5LCB0byBhdm9pZCByYWNlXG4gKiAgIGNvbmRpdGlvbnMgd2hlcmUgYm90aCBoYXZlIGNoYW5nZWQpXG4gKiAtIGFkb3B0IHRoZSBsb2NhbCB2ZXJzaW9uIG9mIGEgZG9jdW1lbnQgdG8gaXRzIHJlbW90ZSB2ZXJzaW9uIGlmIGJvdGggZXhpc3RcbiAqICAgYW5kIHRoZXkgZGlmZmVyXG4gKiAtIGRlbGV0ZSB0aGUgbG9jYWwgdmVyc2lvbiBvZiBhIGRvY3VtZW50IGlmIGl0IHdhcyBkZWxldGVkIHJlbW90ZWx5XG4gKiAtIGlmIGFueSBHRVQgcmVxdWVzdHMgd2VyZSB3YWl0aW5nIGZvciByZW1vdGUgZGF0YSwgcmVzb2x2ZSB0aGVtIG9uY2UgdGhpc1xuICogICBkYXRhIGNvbWVzIGluLlxuICpcbiAqIEl0IGRvZXMgdGhpcyB1c2luZyByZXF1ZXN0cyB0byBkb2N1bWVudHMgYW5kIGZvbGRlcnMuIFdoZW5ldmVyIGEgZm9sZGVyIEdFVFxuICogY29tZXMgaW4sIGl0IGdpdmVzIGluZm9ybWF0aW9uIGFib3V0IGFsbCB0aGUgZG9jdW1lbnRzIGl0IGNvbnRhaW5zICh0aGlzIGlzXG4gKiB0aGUgYG1hcmtDaGlsZHJlbmAgZnVuY3Rpb24pLlxuICoqL1xuY2xhc3MgU3luYyB7XG4gIC8vIFRPRE8gcmVtb3ZlIHdoZW4gUlMgaXMgZGVmaW5lZCwgb3IgaWYgdW5uZWNlc3NhcnlcbiAgcnM6IHsgW3Byb3BOYW1lOiBzdHJpbmddOiBhbnkgfVxuXG4gIG51bVRocmVhZHM6IG51bWJlclxuICBkb25lOiBib29sZWFuXG4gIHN0b3BwZWQ6IGJvb2xlYW5cblxuICAvLyBUT0RPIGRlZmluZSBpbiBtb3JlIGRldGFpbFxuICBfdGFza3M6IG9iamVjdFxuICBfcnVubmluZzogb2JqZWN0XG4gIF90aW1lU3RhcnRlZDogb2JqZWN0XG5cbiAgY29uc3RydWN0b3IgKHJlbW90ZVN0b3JhZ2U6IG9iamVjdCkge1xuICAgIHRoaXMucnMgPSByZW1vdGVTdG9yYWdlO1xuXG4gICAgdGhpcy5fdGFza3MgICAgICAgPSB7fTtcbiAgICB0aGlzLl9ydW5uaW5nICAgICA9IHt9O1xuICAgIHRoaXMuX3RpbWVTdGFydGVkID0ge307XG5cbiAgICB0aGlzLm51bVRocmVhZHMgPSAxMDtcblxuICAgIHRoaXMucnMubG9jYWwub25EaWZmKHBhdGggPT4ge1xuICAgICAgdGhpcy5hZGRUYXNrKHBhdGgpO1xuICAgICAgdGhpcy5kb1Rhc2tzKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnJzLmNhY2hpbmcub25BY3RpdmF0ZSgocGF0aDogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICB0aGlzLmFkZFRhc2socGF0aCk7XG4gICAgICB0aGlzLmRvVGFza3MoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkRXZlbnRzKFsnZG9uZScsICdyZXEtZG9uZSddKTtcbiAgfVxuXG4gIHB1YmxpYyBub3cgKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICB9XG5cbiAgcHVibGljIHF1ZXVlR2V0UmVxdWVzdCAocGF0aDogc3RyaW5nKTogb2JqZWN0IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnJzLnJlbW90ZS5jb25uZWN0ZWQpIHtcbiAgICAgICAgcmVqZWN0KCdjYW5ub3QgZnVsZmlsbCBtYXhBZ2UgcmVxdWlyZW1lbnQgLSByZW1vdGUgaXMgbm90IGNvbm5lY3RlZCcpO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5ycy5yZW1vdGUub25saW5lKSB7XG4gICAgICAgIHJlamVjdCgnY2Fubm90IGZ1bGZpbGwgbWF4QWdlIHJlcXVpcmVtZW50IC0gcmVtb3RlIGlzIG5vdCBvbmxpbmUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYWRkVGFzayhwYXRoLCBmdW5jdGlvbiAoKTogdm9pZCB7XG4gICAgICAgICAgdGhpcy5ycy5sb2NhbC5nZXQocGF0aCkudGhlbihyID0+IHJlc29sdmUocikpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAgIHRoaXMuZG9UYXNrcygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gRklYTUUgZm9yY2UwMiBzb3VuZHMgbGlrZSBycyBzcGVjIDAyLCB0aHVzIGNvdWxkIGJlIHJlbW92ZWRcbiAgcHVibGljIGNvcnJ1cHRTZXJ2ZXJJdGVtc01hcCAoaXRlbXNNYXAsIGZvcmNlMDI/OiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgaWYgKCh0eXBlb2YoaXRlbXNNYXApICE9PSAnb2JqZWN0JykgfHwgKEFycmF5LmlzQXJyYXkoaXRlbXNNYXApKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBpdGVtTmFtZSBpbiBpdGVtc01hcCkge1xuICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zTWFwW2l0ZW1OYW1lXTtcblxuICAgICAgaWYgKHR5cGVvZihpdGVtKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mKGl0ZW0uRVRhZykgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzRm9sZGVyKGl0ZW1OYW1lKSkge1xuICAgICAgICBpZiAoaXRlbU5hbWUuc3Vic3RyaW5nKDAsIGl0ZW1OYW1lLmxlbmd0aC0xKS5pbmRleE9mKCcvJykgIT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpdGVtTmFtZS5pbmRleE9mKCcvJykgIT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcmNlMDIpIHtcbiAgICAgICAgICBpZiAodHlwZW9mKGl0ZW1bJ0NvbnRlbnQtVHlwZSddKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mKGl0ZW1bJ0NvbnRlbnQtTGVuZ3RoJ10pICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHVibGljIGNvcnJ1cHRJdGVtc01hcCAoaXRlbXNNYXApOiBib29sZWFuIHtcbiAgICBpZiAoKHR5cGVvZihpdGVtc01hcCkgIT09ICdvYmplY3QnKSB8fCAoQXJyYXkuaXNBcnJheShpdGVtc01hcCkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHBhdGggaW4gaXRlbXNNYXApIHtcbiAgICAgIGlmICh0eXBlb2YgaXRlbXNNYXBbcGF0aF0gIT09ICdib29sZWFuJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgY29ycnVwdFJldmlzaW9uIChyZXYpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKCh0eXBlb2YocmV2KSAhPT0gJ29iamVjdCcpIHx8XG4gICAgICAgICAgICAoQXJyYXkuaXNBcnJheShyZXYpKSB8fFxuICAgICAgICAgICAgKHJldi5yZXZpc2lvbiAmJiB0eXBlb2YocmV2LnJldmlzaW9uKSAhPT0gJ3N0cmluZycpIHx8XG4gICAgICAgICAgICAocmV2LmJvZHkgJiYgdHlwZW9mKHJldi5ib2R5KSAhPT0gJ3N0cmluZycgJiYgdHlwZW9mKHJldi5ib2R5KSAhPT0gJ29iamVjdCcpIHx8XG4gICAgICAgICAgICAocmV2LmNvbnRlbnRUeXBlICYmIHR5cGVvZihyZXYuY29udGVudFR5cGUpICE9PSAnc3RyaW5nJykgfHxcbiAgICAgICAgICAgIChyZXYuY29udGVudExlbmd0aCAmJiB0eXBlb2YocmV2LmNvbnRlbnRMZW5ndGgpICE9PSAnbnVtYmVyJykgfHxcbiAgICAgICAgICAgIChyZXYudGltZXN0YW1wICYmIHR5cGVvZihyZXYudGltZXN0YW1wKSAhPT0gJ251bWJlcicpIHx8XG4gICAgICAgICAgICAocmV2Lml0ZW1zTWFwICYmIHRoaXMuY29ycnVwdEl0ZW1zTWFwKHJldi5pdGVtc01hcCkpKTtcbiAgfVxuXG4gIHB1YmxpYyBpc0NvcnJ1cHQgKG5vZGU6IFJTTm9kZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoKHR5cGVvZihub2RlKSAhPT0gJ29iamVjdCcpIHx8XG4gICAgICAgICAgICAoQXJyYXkuaXNBcnJheShub2RlKSkgfHxcbiAgICAgICAgICAgICh0eXBlb2Yobm9kZS5wYXRoKSAhPT0gJ3N0cmluZycpIHx8XG4gICAgICAgICAgICAodGhpcy5jb3JydXB0UmV2aXNpb24obm9kZS5jb21tb24pKSB8fFxuICAgICAgICAgICAgKG5vZGUubG9jYWwgJiYgdGhpcy5jb3JydXB0UmV2aXNpb24obm9kZS5sb2NhbCkpIHx8XG4gICAgICAgICAgICAobm9kZS5yZW1vdGUgJiYgdGhpcy5jb3JydXB0UmV2aXNpb24obm9kZS5yZW1vdGUpKSB8fFxuICAgICAgICAgICAgKG5vZGUucHVzaCAmJiB0aGlzLmNvcnJ1cHRSZXZpc2lvbihub2RlLnB1c2gpKSk7XG4gIH1cblxuICBwdWJsaWMgaGFzVGFza3MgKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLl90YXNrcykubGVuZ3RoID4gMDtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBjb2xsZWN0RGlmZlRhc2tzICgpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIGxldCBudW0gPSAwO1xuXG4gICAgcmV0dXJuIHRoaXMucnMubG9jYWwuZm9yQWxsTm9kZXMoKG5vZGU6IFJTTm9kZSkgPT4ge1xuICAgICAgaWYgKG51bSA+IDEwMCkgeyByZXR1cm47IH1cblxuICAgICAgaWYgKHRoaXMuaXNDb3JydXB0KG5vZGUpKSB7XG4gICAgICAgIGxvZygnW1N5bmNdIFdBUk5JTkc6IGNvcnJ1cHQgbm9kZSBpbiBsb2NhbCBjYWNoZScsIG5vZGUpO1xuICAgICAgICBpZiAodHlwZW9mKG5vZGUpID09PSAnb2JqZWN0JyAmJiBub2RlLnBhdGgpIHtcbiAgICAgICAgICB0aGlzLmFkZFRhc2sobm9kZS5wYXRoKTtcbiAgICAgICAgICBudW0rKztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLm5lZWRzRmV0Y2gobm9kZSkgJiYgdGhpcy5ycy5hY2Nlc3MuY2hlY2tQYXRoUGVybWlzc2lvbihub2RlLnBhdGgsICdyJykpIHtcbiAgICAgICAgdGhpcy5hZGRUYXNrKG5vZGUucGF0aCk7XG4gICAgICAgIG51bSsrO1xuICAgICAgfSBlbHNlIGlmIChpc0RvY3VtZW50KG5vZGUucGF0aCkgJiYgdGhpcy5uZWVkc1B1c2gobm9kZSkgJiZcbiAgICAgICAgICAgICAgICAgdGhpcy5ycy5hY2Nlc3MuY2hlY2tQYXRoUGVybWlzc2lvbihub2RlLnBhdGgsICdydycpKSB7XG4gICAgICAgIHRoaXMuYWRkVGFzayhub2RlLnBhdGgpO1xuICAgICAgICBudW0rKztcbiAgICAgIH1cbiAgICB9KVxuICAgIC50aGVuKCgpOiBudW1iZXIgPT4gbnVtKVxuICAgIC5jYXRjaChlID0+IHsgdGhyb3cgZTsgfSk7XG4gIH1cblxuICBwdWJsaWMgaW5Db25mbGljdCAobm9kZTogUlNOb2RlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChub2RlLmxvY2FsICYmIG5vZGUucmVtb3RlICYmXG4gICAgICAgICAgICAobm9kZS5yZW1vdGUuYm9keSAhPT0gdW5kZWZpbmVkIHx8IG5vZGUucmVtb3RlLml0ZW1zTWFwKSk7XG4gIH1cblxuICBwdWJsaWMgbmVlZHNSZWZyZXNoIChub2RlOiBSU05vZGUpOiBib29sZWFuIHtcbiAgICBpZiAobm9kZS5jb21tb24pIHtcbiAgICAgIGlmICghbm9kZS5jb21tb24udGltZXN0YW1wKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuICh0aGlzLm5vdygpIC0gbm9kZS5jb21tb24udGltZXN0YW1wID4gY29uZmlnLnN5bmNJbnRlcnZhbCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBuZWVkc0ZldGNoIChub2RlOiBSU05vZGUpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5pbkNvbmZsaWN0KG5vZGUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG5vZGUuY29tbW9uICYmXG4gICAgICAgIG5vZGUuY29tbW9uLml0ZW1zTWFwID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgbm9kZS5jb21tb24uYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG5vZGUucmVtb3RlICYmXG4gICAgICAgIG5vZGUucmVtb3RlLml0ZW1zTWFwID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgbm9kZS5yZW1vdGUuYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHVibGljIG5lZWRzUHVzaCAobm9kZTogUlNOb2RlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaW5Db25mbGljdChub2RlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobm9kZS5sb2NhbCAmJiAhbm9kZS5wdXNoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbmVlZHNSZW1vdGVQdXQgKG5vZGU6IFJTTm9kZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBub2RlLmxvY2FsICYmIG5vZGUubG9jYWwuYm9keTtcbiAgfVxuXG4gIHB1YmxpYyBuZWVkc1JlbW90ZURlbGV0ZSAobm9kZTogUlNOb2RlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIG5vZGUubG9jYWwgJiYgbm9kZS5sb2NhbC5ib2R5ID09PSBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQYXJlbnRQYXRoIChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHBhcnRzID0gcGF0aC5tYXRjaCgvXiguKlxcLykoW15cXC9dK1xcLz8pJC8pO1xuXG4gICAgaWYgKHBhcnRzKSB7XG4gICAgICByZXR1cm4gcGFydHNbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGEgdmFsaWQgcGF0aDogXCInK3BhdGgrJ1wiJyk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGRlbGV0ZUNoaWxkUGF0aHNGcm9tVGFza3MgKCk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgcGF0aCBpbiB0aGlzLl90YXNrcykge1xuICAgICAgY29uc3QgcGF0aHMgPSBwYXRoc0Zyb21Sb290KHBhdGgpO1xuXG4gICAgICBmb3IgKGxldCBpPTE7IGk8cGF0aHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuX3Rhc2tzW3BhdGhzW2ldXSkge1xuICAgICAgICAgIC8vIG1vdmUgcGVuZGluZyBwcm9taXNlcyB0byBwYXJlbnQgdGFza1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX3Rhc2tzW3BhdGhdKSAmJiB0aGlzLl90YXNrc1twYXRoXS5sZW5ndGgpIHtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KFxuICAgICAgICAgICAgICB0aGlzLl90YXNrc1twYXRoc1tpXV0sXG4gICAgICAgICAgICAgIHRoaXMuX3Rhc2tzW3BhdGhdXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWxldGUgdGhpcy5fdGFza3NbcGF0aF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgY29sbGVjdFJlZnJlc2hUYXNrcyAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMucnMubG9jYWwuZm9yQWxsTm9kZXMoKG5vZGU6IFJTTm9kZSkgPT4ge1xuICAgICAgbGV0IHBhcmVudFBhdGg6IHN0cmluZztcbiAgICAgIGlmICh0aGlzLm5lZWRzUmVmcmVzaChub2RlKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHBhcmVudFBhdGggPSB0aGlzLmdldFBhcmVudFBhdGgobm9kZS5wYXRoKTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgLy8gbm9kZS5wYXRoIGlzIGFscmVhZHkgJy8nLCBjYW4ndCB0YWtlIHBhcmVudFBhdGhcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50UGF0aCAmJiB0aGlzLnJzLmFjY2Vzcy5jaGVja1BhdGhQZXJtaXNzaW9uKHBhcmVudFBhdGgsICdyJykpIHtcbiAgICAgICAgICB0aGlzLmFkZFRhc2socGFyZW50UGF0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ycy5hY2Nlc3MuY2hlY2tQYXRoUGVybWlzc2lvbihub2RlLnBhdGgsICdyJykpIHtcbiAgICAgICAgICB0aGlzLmFkZFRhc2sobm9kZS5wYXRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4gdGhpcy5kZWxldGVDaGlsZFBhdGhzRnJvbVRhc2tzKCkpXG4gICAgLmNhdGNoKChlOiBFcnJvcikgPT4geyB0aHJvdyBlOyB9KTtcbiAgfVxuXG4gIHB1YmxpYyBmbHVzaCAobm9kZXM6IFJTTm9kZXMpOiBSU05vZGVzIHtcbiAgICBmb3IgKGNvbnN0IHBhdGggaW4gbm9kZXMpIHtcbiAgICAgIC8vIFN0cmF0ZWd5IGlzICdGTFVTSCcgYW5kIG5vIGxvY2FsIGNoYW5nZXMgZXhpc3RcbiAgICAgIGlmICh0aGlzLnJzLmNhY2hpbmcuY2hlY2tQYXRoKHBhdGgpID09PSAnRkxVU0gnICYmXG4gICAgICAgICAgbm9kZXNbcGF0aF0gJiYgIW5vZGVzW3BhdGhdLmxvY2FsKSB7XG4gICAgICAgIGxvZygnW1N5bmNdIEZsdXNoaW5nJywgcGF0aCk7XG4gICAgICAgIG5vZGVzW3BhdGhdID0gdW5kZWZpbmVkOyAvLyBDYXVzZSBub2RlIHRvIGJlIGZsdXNoZWQgZnJvbSBjYWNoZVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZXM7XG4gIH1cblxuICBwdWJsaWMgZG9UYXNrIChwYXRoOiBzdHJpbmcpOiBvYmplY3Qge1xuICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLmdldE5vZGVzKFtwYXRoXSkudGhlbigobm9kZXM6IFJTTm9kZXMpID0+IHtcbiAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1twYXRoXTtcbiAgICAgIC8vIEZpcnN0IGZldGNoOlxuICAgICAgaWYgKHR5cGVvZihub2RlKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHRhc2tGb3IoJ2dldCcsIHBhdGgsIHRoaXMucnMucmVtb3RlLmdldChwYXRoKSk7XG4gICAgICB9XG4gICAgICAvLyBGZXRjaCBrbm93bi1zdGFsZSBjaGlsZDpcbiAgICAgIGVsc2UgaWYgKGlzU3RhbGVDaGlsZChub2RlKSkge1xuICAgICAgICByZXR1cm4gdGFza0ZvcignZ2V0JywgcGF0aCwgdGhpcy5ycy5yZW1vdGUuZ2V0KHBhdGgpKTtcbiAgICAgIH1cbiAgICAgIC8vIFB1c2ggUFVUOlxuICAgICAgZWxzZSBpZiAodGhpcy5uZWVkc1JlbW90ZVB1dChub2RlKSkge1xuICAgICAgICBub2RlLnB1c2ggPSBkZWVwQ2xvbmUobm9kZS5sb2NhbCk7XG4gICAgICAgIG5vZGUucHVzaC50aW1lc3RhbXAgPSB0aGlzLm5vdygpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLnNldE5vZGVzKHRoaXMuZmx1c2gobm9kZXMpKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBsZXQgb3B0aW9ucztcbiAgICAgICAgICBpZiAoaGFzQ29tbW9uUmV2aXNpb24obm9kZSkpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGlmTWF0Y2g6IG5vZGUuY29tbW9uLnJldmlzaW9uIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEluaXRpYWwgUFVUIChmYWlsIGlmIHNvbWV0aGluZyBpcyBhbHJlYWR5IHRoZXJlKVxuICAgICAgICAgICAgb3B0aW9ucyA9IHsgaWZOb25lTWF0Y2g6ICcqJyB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB0YXNrRm9yKCdwdXQnLCBwYXRoLFxuICAgICAgICAgICAgdGhpcy5ycy5yZW1vdGUucHV0KHBhdGgsIG5vZGUucHVzaC5ib2R5LCBub2RlLnB1c2guY29udGVudFR5cGUsIG9wdGlvbnMpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBQdXNoIERFTEVURTpcbiAgICAgIGVsc2UgaWYgKHRoaXMubmVlZHNSZW1vdGVEZWxldGUobm9kZSkpIHtcbiAgICAgICAgbm9kZS5wdXNoID0geyBib2R5OiBmYWxzZSwgdGltZXN0YW1wOiB0aGlzLm5vdygpIH07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucnMubG9jYWwuc2V0Tm9kZXModGhpcy5mbHVzaChub2RlcykpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlmIChoYXNDb21tb25SZXZpc2lvbihub2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRhc2tGb3IoJ2RlbGV0ZScsIHBhdGgsXG4gICAgICAgICAgICAgIHRoaXMucnMucmVtb3RlLmRlbGV0ZShwYXRoLCB7IGlmTWF0Y2g6IG5vZGUuY29tbW9uLnJldmlzaW9uIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7IC8vIEFzY2VydGFpbiBjdXJyZW50IGNvbW1vbiBvciByZW1vdGUgcmV2aXNpb24gZmlyc3RcbiAgICAgICAgICAgIHJldHVybiB0YXNrRm9yKCdnZXQnLCBwYXRoLCB0aGlzLnJzLnJlbW90ZS5nZXQocGF0aCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBDb25kaXRpb25hbCByZWZyZXNoOlxuICAgICAgZWxzZSBpZiAoaGFzQ29tbW9uUmV2aXNpb24obm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIHRhc2tGb3IoJ2dldCcsIHBhdGgsXG4gICAgICAgICAgdGhpcy5ycy5yZW1vdGUuZ2V0KHBhdGgsIHsgaWZOb25lTWF0Y2g6IG5vZGUuY29tbW9uLnJldmlzaW9uIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRhc2tGb3IoJ2dldCcsIHBhdGgsIHRoaXMucnMucmVtb3RlLmdldChwYXRoKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgYXV0b01lcmdlRm9sZGVyIChub2RlOiBSU05vZGUpOiBSU05vZGUge1xuICAgIGlmIChub2RlLnJlbW90ZS5pdGVtc01hcCkge1xuICAgICAgbm9kZS5jb21tb24gPSBub2RlLnJlbW90ZTtcbiAgICAgIGRlbGV0ZSBub2RlLnJlbW90ZTtcblxuICAgICAgaWYgKG5vZGUuY29tbW9uLml0ZW1zTWFwKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbU5hbWUgaW4gbm9kZS5jb21tb24uaXRlbXNNYXApIHtcbiAgICAgICAgICBpZiAoIW5vZGUubG9jYWwuaXRlbXNNYXBbaXRlbU5hbWVdKSB7XG4gICAgICAgICAgICAvLyBJbmRpY2F0ZXMgdGhlIG5vZGUgaXMgZWl0aGVyIG5ld2x5IGJlaW5nIGZldGNoZWRcbiAgICAgICAgICAgIC8vIGhhcyBiZWVuIGRlbGV0ZWQgbG9jYWxseSAod2hldGhlciBvciBub3QgbGVhZGluZyB0byBjb25mbGljdCk7XG4gICAgICAgICAgICAvLyBiZWZvcmUgbGlzdGluZyBpdCBpbiBsb2NhbCBsaXN0aW5ncywgY2hlY2sgaWYgYSBsb2NhbCBkZWxldGlvblxuICAgICAgICAgICAgLy8gZXhpc3RzLlxuICAgICAgICAgICAgbm9kZS5sb2NhbC5pdGVtc01hcFtpdGVtTmFtZV0gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXF1YWwobm9kZS5sb2NhbC5pdGVtc01hcCwgbm9kZS5jb21tb24uaXRlbXNNYXApKSB7XG4gICAgICAgICAgZGVsZXRlIG5vZGUubG9jYWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICBwdWJsaWMgYXV0b01lcmdlRG9jdW1lbnQgKG5vZGU6IFJTTm9kZSk6IFJTTm9kZSB7XG4gICAgaWYgKGhhc05vUmVtb3RlQ2hhbmdlcyhub2RlKSkge1xuICAgICAgbm9kZSA9IG1lcmdlTXV0dWFsRGVsZXRpb24obm9kZSk7XG4gICAgICBkZWxldGUgbm9kZS5yZW1vdGU7XG4gICAgfSBlbHNlIGlmIChub2RlLnJlbW90ZS5ib2R5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIGtlZXAvcmV2ZXJ0OlxuICAgICAgbG9nKCdbU3luY10gRW1pdHRpbmcga2VlcC9yZXZlcnQnKTtcblxuICAgICAgdGhpcy5ycy5sb2NhbC5fZW1pdENoYW5nZSh7XG4gICAgICAgIG9yaWdpbjogICAgICAgICAnY29uZmxpY3QnLFxuICAgICAgICBwYXRoOiAgICAgICAgICAgbm9kZS5wYXRoLFxuICAgICAgICBvbGRWYWx1ZTogICAgICAgbm9kZS5sb2NhbC5ib2R5LFxuICAgICAgICBuZXdWYWx1ZTogICAgICAgbm9kZS5yZW1vdGUuYm9keSxcbiAgICAgICAgbGFzdENvbW1vblZhbHVlOiBub2RlLmNvbW1vbi5ib2R5LFxuICAgICAgICBvbGRDb250ZW50VHlwZTogbm9kZS5sb2NhbC5jb250ZW50VHlwZSxcbiAgICAgICAgbmV3Q29udGVudFR5cGU6IG5vZGUucmVtb3RlLmNvbnRlbnRUeXBlLFxuICAgICAgICBsYXN0Q29tbW9uQ29udGVudFR5cGU6IG5vZGUuY29tbW9uLmNvbnRlbnRUeXBlXG4gICAgICB9KTtcblxuICAgICAgaWYgKG5vZGUucmVtb3RlLmJvZHkpIHtcbiAgICAgICAgbm9kZS5jb21tb24gPSBub2RlLnJlbW90ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUuY29tbW9uID0ge307XG4gICAgICB9XG4gICAgICBkZWxldGUgbm9kZS5yZW1vdGU7XG4gICAgICBkZWxldGUgbm9kZS5sb2NhbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIHB1YmxpYyBhdXRvTWVyZ2UgKG5vZGU6IFJTTm9kZSk6IFJTTm9kZSB7XG4gICAgaWYgKG5vZGUucmVtb3RlKSB7XG4gICAgICBpZiAobm9kZS5sb2NhbCkge1xuICAgICAgICBpZiAoaXNGb2xkZXIobm9kZS5wYXRoKSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmF1dG9NZXJnZUZvbGRlcihub2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5hdXRvTWVyZ2VEb2N1bWVudChub2RlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHsgLy8gbm8gbG9jYWwgY2hhbmdlc1xuICAgICAgICBpZiAoaXNGb2xkZXIobm9kZS5wYXRoKSkge1xuICAgICAgICAgIGlmIChub2RlLnJlbW90ZS5pdGVtc01hcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBub2RlLmNvbW1vbiA9IG5vZGUucmVtb3RlO1xuICAgICAgICAgICAgZGVsZXRlIG5vZGUucmVtb3RlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobm9kZS5yZW1vdGUuYm9keSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFuZ2UgPSB7XG4gICAgICAgICAgICAgIG9yaWdpbjogICAncmVtb3RlJyxcbiAgICAgICAgICAgICAgcGF0aDogICAgIG5vZGUucGF0aCxcbiAgICAgICAgICAgICAgb2xkVmFsdWU6IChub2RlLmNvbW1vbi5ib2R5ID09PSBmYWxzZSA/IHVuZGVmaW5lZCA6IG5vZGUuY29tbW9uLmJvZHkpLFxuICAgICAgICAgICAgICBuZXdWYWx1ZTogKG5vZGUucmVtb3RlLmJvZHkgPT09IGZhbHNlID8gdW5kZWZpbmVkIDogbm9kZS5yZW1vdGUuYm9keSksXG4gICAgICAgICAgICAgIG9sZENvbnRlbnRUeXBlOiBub2RlLmNvbW1vbi5jb250ZW50VHlwZSxcbiAgICAgICAgICAgICAgbmV3Q29udGVudFR5cGU6IG5vZGUucmVtb3RlLmNvbnRlbnRUeXBlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGNoYW5nZS5vbGRWYWx1ZSB8fCBjaGFuZ2UubmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgdGhpcy5ycy5sb2NhbC5fZW1pdENoYW5nZShjaGFuZ2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIW5vZGUucmVtb3RlLmJvZHkpIHsgLy8gbm8gcmVtb3RlLCBzbyBkZWxldGUvZG9uJ3QgY3JlYXRlXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbm9kZS5jb21tb24gPSBub2RlLnJlbW90ZTtcbiAgICAgICAgICAgIGRlbGV0ZSBub2RlLnJlbW90ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG5vZGUuY29tbW9uLmJvZHkpIHtcbiAgICAgICAgdGhpcy5ycy5sb2NhbC5fZW1pdENoYW5nZSh7XG4gICAgICAgICAgb3JpZ2luOiAgICdyZW1vdGUnLFxuICAgICAgICAgIHBhdGg6ICAgICBub2RlLnBhdGgsXG4gICAgICAgICAgb2xkVmFsdWU6IG5vZGUuY29tbW9uLmJvZHksXG4gICAgICAgICAgbmV3VmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICBvbGRDb250ZW50VHlwZTogbm9kZS5jb21tb24uY29udGVudFR5cGUsXG4gICAgICAgICAgbmV3Q29udGVudFR5cGU6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyB1cGRhdGVDb21tb25UaW1lc3RhbXAgKHBhdGg6IHN0cmluZywgcmV2aXNpb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLmdldE5vZGVzKFtwYXRoXSkudGhlbigobm9kZXM6IFJTTm9kZXMpID0+IHtcbiAgICAgIGlmIChub2Rlc1twYXRoXSAmJlxuICAgICAgICAgIG5vZGVzW3BhdGhdLmNvbW1vbiAmJlxuICAgICAgICAgIG5vZGVzW3BhdGhdLmNvbW1vbi5yZXZpc2lvbiA9PT0gcmV2aXNpb24pIHtcbiAgICAgICAgbm9kZXNbcGF0aF0uY29tbW9uLnRpbWVzdGFtcCA9IHRoaXMubm93KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5zZXROb2Rlcyh0aGlzLmZsdXNoKG5vZGVzKSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgbWFya0NoaWxkcmVuIChwYXRoLCBpdGVtc01hcCwgY2hhbmdlZE5vZGVzOiBSU05vZGVzLCBtaXNzaW5nQ2hpbGRyZW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBwYXRocyA9IFtdO1xuICAgIGNvbnN0IG1ldGEgPSB7fTtcbiAgICBjb25zdCByZWN1cnNlID0ge307XG5cbiAgICBmb3IgKGNvbnN0IGl0ZW0gaW4gaXRlbXNNYXApIHtcbiAgICAgIHBhdGhzLnB1c2gocGF0aCtpdGVtKTtcbiAgICAgIG1ldGFbcGF0aCtpdGVtXSA9IGl0ZW1zTWFwW2l0ZW1dO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGNoaWxkTmFtZSBpbiBtaXNzaW5nQ2hpbGRyZW4pIHtcbiAgICAgIHBhdGhzLnB1c2gocGF0aCtjaGlsZE5hbWUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLmdldE5vZGVzKHBhdGhzKS50aGVuKChub2RlczogUlNOb2RlcykgPT4ge1xuICAgICAgbGV0IGNhY2hpbmdTdHJhdGVneTtcbiAgICAgIGxldCBub2RlO1xuXG4gICAgICBmb3IgKGNvbnN0IG5vZGVQYXRoIGluIG5vZGVzKSB7XG4gICAgICAgIG5vZGUgPSBub2Rlc1tub2RlUGF0aF07XG5cbiAgICAgICAgaWYgKG1ldGFbbm9kZVBhdGhdKSB7XG4gICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5jb21tb24pIHtcbiAgICAgICAgICAgIGlmIChub2RlQ2hhbmdlZChub2RlLCBtZXRhW25vZGVQYXRoXS5FVGFnKSkge1xuICAgICAgICAgICAgICBjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdID0gZGVlcENsb25lKG5vZGUpO1xuICAgICAgICAgICAgICBjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdLnJlbW90ZSA9IHtcbiAgICAgICAgICAgICAgICByZXZpc2lvbjogIG1ldGFbbm9kZVBhdGhdLkVUYWcsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aGlzLm5vdygpXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0gPSB0aGlzLmF1dG9NZXJnZShjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGluZ1N0cmF0ZWd5ID0gdGhpcy5ycy5jYWNoaW5nLmNoZWNrUGF0aChub2RlUGF0aCk7XG4gICAgICAgICAgICBpZiAoY2FjaGluZ1N0cmF0ZWd5ID09PSAnQUxMJykge1xuICAgICAgICAgICAgICBjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdID0ge1xuICAgICAgICAgICAgICAgIHBhdGg6IG5vZGVQYXRoLFxuICAgICAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aGlzLm5vdygpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZW1vdGU6IHtcbiAgICAgICAgICAgICAgICAgIHJldmlzaW9uOiBtZXRhW25vZGVQYXRoXS5FVGFnLFxuICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aGlzLm5vdygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdICYmIG1ldGFbbm9kZVBhdGhdWydDb250ZW50LVR5cGUnXSkge1xuICAgICAgICAgICAgY2hhbmdlZE5vZGVzW25vZGVQYXRoXS5yZW1vdGUuY29udGVudFR5cGUgPSBtZXRhW25vZGVQYXRoXVsnQ29udGVudC1UeXBlJ107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNoYW5nZWROb2Rlc1tub2RlUGF0aF0gJiYgbWV0YVtub2RlUGF0aF1bJ0NvbnRlbnQtTGVuZ3RoJ10pIHtcbiAgICAgICAgICAgIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0ucmVtb3RlLmNvbnRlbnRMZW5ndGggPSBtZXRhW25vZGVQYXRoXVsnQ29udGVudC1MZW5ndGgnXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobWlzc2luZ0NoaWxkcmVuW25vZGVQYXRoLnN1YnN0cmluZyhwYXRoLmxlbmd0aCldICYmIG5vZGUgJiYgbm9kZS5jb21tb24pIHtcbiAgICAgICAgICBpZiAobm9kZS5jb21tb24uaXRlbXNNYXApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29tbW9uSXRlbSBpbiBub2RlLmNvbW1vbi5pdGVtc01hcCkge1xuICAgICAgICAgICAgICByZWN1cnNlW25vZGVQYXRoK2NvbW1vbkl0ZW1dID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobm9kZS5sb2NhbCAmJiBub2RlLmxvY2FsLml0ZW1zTWFwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxvY2FsSXRlbSBpbiBub2RlLmxvY2FsLml0ZW1zTWFwKSB7XG4gICAgICAgICAgICAgIHJlY3Vyc2Vbbm9kZVBhdGgrbG9jYWxJdGVtXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG5vZGUucmVtb3RlIHx8IGlzRm9sZGVyKG5vZGVQYXRoKSkge1xuICAgICAgICAgICAgY2hhbmdlZE5vZGVzW25vZGVQYXRoXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlZE5vZGVzW25vZGVQYXRoXSA9IHRoaXMuYXV0b01lcmdlKG5vZGUpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBhcmVudFBhdGggPSB0aGlzLmdldFBhcmVudFBhdGgobm9kZVBhdGgpO1xuICAgICAgICAgICAgICBjb25zdCBwYXJlbnROb2RlID0gY2hhbmdlZE5vZGVzW3BhcmVudFBhdGhdO1xuICAgICAgICAgICAgICBjb25zdCBpdGVtTmFtZSA9IG5vZGVQYXRoLnN1YnN0cmluZyhwYXRoLmxlbmd0aCk7XG4gICAgICAgICAgICAgIGlmIChwYXJlbnROb2RlICYmIHBhcmVudE5vZGUubG9jYWwpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgcGFyZW50Tm9kZS5sb2NhbC5pdGVtc01hcFtpdGVtTmFtZV07XG5cbiAgICAgICAgICAgICAgICBpZiAoZXF1YWwocGFyZW50Tm9kZS5sb2NhbC5pdGVtc01hcCwgcGFyZW50Tm9kZS5jb21tb24uaXRlbXNNYXApKSB7XG4gICAgICAgICAgICAgICAgICBkZWxldGUgcGFyZW50Tm9kZS5sb2NhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlUmVtb3RlVHJlZXMoT2JqZWN0LmtleXMocmVjdXJzZSksIGNoYW5nZWROb2RlcylcbiAgICAgICAgLnRoZW4oY2hhbmdlZE9ianMyID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5zZXROb2Rlcyh0aGlzLmZsdXNoKGNoYW5nZWRPYmpzMikpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBkZWxldGVSZW1vdGVUcmVlcyAocGF0aHM6IEFycmF5PHN0cmluZz4sIGNoYW5nZWROb2RlczogUlNOb2Rlcyk6IFByb21pc2U8UlNOb2Rlcz4ge1xuICAgIGlmIChwYXRocy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY2hhbmdlZE5vZGVzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5nZXROb2RlcyhwYXRocykudGhlbihhc3luYyAobm9kZXM6IFJTTm9kZXMpID0+IHtcbiAgICAgIGNvbnN0IHN1YlBhdGhzID0ge307XG5cbiAgICAgIGZ1bmN0aW9uIGNvbGxlY3RTdWJQYXRocyAoZm9sZGVyLCBwYXRoOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKGZvbGRlciAmJiBmb2xkZXIuaXRlbXNNYXApIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW1OYW1lIGluIGZvbGRlci5pdGVtc01hcCkge1xuICAgICAgICAgICAgc3ViUGF0aHNbcGF0aCtpdGVtTmFtZV0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZm9yIChjb25zdCBwYXRoIGluIG5vZGVzKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1twYXRoXTtcblxuICAgICAgICAvLyBUT0RPIFdoeSBjaGVjayBmb3IgdGhlIG5vZGUgaGVyZT8gSSBkb24ndCB0aGluayB0aGlzIGNoZWNrIGV2ZXIgYXBwbGllc1xuICAgICAgICBpZiAoIW5vZGUpIHsgY29udGludWU7IH1cblxuICAgICAgICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgICAgICBjb2xsZWN0U3ViUGF0aHMobm9kZS5jb21tb24sIHBhdGgpO1xuICAgICAgICAgIGNvbGxlY3RTdWJQYXRocyhub2RlLmxvY2FsLCBwYXRoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobm9kZS5jb21tb24gJiYgdHlwZW9mKG5vZGUuY29tbW9uLmJvZHkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNoYW5nZWROb2Rlc1twYXRoXSA9IGRlZXBDbG9uZShub2RlKTtcbiAgICAgICAgICAgIGNoYW5nZWROb2Rlc1twYXRoXS5yZW1vdGUgPSB7XG4gICAgICAgICAgICAgIGJvZHk6ICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5ub3coKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNoYW5nZWROb2Rlc1twYXRoXSA9IHRoaXMuYXV0b01lcmdlKGNoYW5nZWROb2Rlc1twYXRoXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJlY3Vyc2Ugd2hvbGUgdHJlZSBkZXB0aCBsZXZlbHMgYXQgb25jZTpcbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZVJlbW90ZVRyZWVzKE9iamVjdC5rZXlzKHN1YlBhdGhzKSwgY2hhbmdlZE5vZGVzKVxuICAgICAgICAudGhlbihjaGFuZ2VkTm9kZXMyID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5zZXROb2Rlcyh0aGlzLmZsdXNoKGNoYW5nZWROb2RlczIpKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgY29tcGxldGVGZXRjaCAocGF0aDogc3RyaW5nLCBib2R5T3JJdGVtc01hcDogb2JqZWN0LCBjb250ZW50VHlwZTogc3RyaW5nLCByZXZpc2lvbjogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICBsZXQgcGF0aHM6IEFycmF5PHN0cmluZz47XG4gICAgbGV0IHBhcmVudFBhdGg6IHN0cmluZztcbiAgICBjb25zdCBwYXRoc0Zyb21Sb290QXJyID0gcGF0aHNGcm9tUm9vdChwYXRoKTtcblxuICAgIGlmIChpc0ZvbGRlcihwYXRoKSkge1xuICAgICAgcGF0aHMgPSBbcGF0aF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmVudFBhdGggPSBwYXRoc0Zyb21Sb290QXJyWzFdO1xuICAgICAgcGF0aHMgPSBbcGF0aCwgcGFyZW50UGF0aF07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucnMubG9jYWwuZ2V0Tm9kZXMocGF0aHMpLnRoZW4oKG5vZGVzOiBSU05vZGVzKSA9PiB7XG4gICAgICBsZXQgaXRlbU5hbWU6IHN0cmluZztcbiAgICAgIGxldCBub2RlOiBSU05vZGUgPSBub2Rlc1twYXRoXTtcbiAgICAgIGxldCBwYXJlbnROb2RlOiBSU05vZGU7XG4gICAgICBjb25zdCBtaXNzaW5nQ2hpbGRyZW4gPSB7fTtcblxuICAgICAgZnVuY3Rpb24gY29sbGVjdE1pc3NpbmdDaGlsZHJlbiAoZm9sZGVyKTogdm9pZCB7XG4gICAgICAgIGlmIChmb2xkZXIgJiYgZm9sZGVyLml0ZW1zTWFwKSB7XG4gICAgICAgICAgZm9yIChpdGVtTmFtZSBpbiBmb2xkZXIuaXRlbXNNYXApIHtcbiAgICAgICAgICAgIGlmICghYm9keU9ySXRlbXNNYXBbaXRlbU5hbWVdKSB7XG4gICAgICAgICAgICAgIG1pc3NpbmdDaGlsZHJlbltpdGVtTmFtZV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKHR5cGVvZihub2RlKSAhPT0gJ29iamVjdCcgIHx8XG4gICAgICAgICAgbm9kZS5wYXRoICE9PSBwYXRoIHx8XG4gICAgICAgICAgdHlwZW9mKG5vZGUuY29tbW9uKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgbm9kZSA9IHsgcGF0aDogcGF0aCwgY29tbW9uOiB7fSB9O1xuICAgICAgICBub2Rlc1twYXRoXSA9IG5vZGU7XG4gICAgICB9XG5cbiAgICAgIG5vZGUucmVtb3RlID0ge1xuICAgICAgICByZXZpc2lvbjogcmV2aXNpb24sXG4gICAgICAgIHRpbWVzdGFtcDogdGhpcy5ub3coKVxuICAgICAgfTtcblxuICAgICAgaWYgKGlzRm9sZGVyKHBhdGgpKSB7XG4gICAgICAgIGNvbGxlY3RNaXNzaW5nQ2hpbGRyZW4obm9kZS5jb21tb24pO1xuICAgICAgICBjb2xsZWN0TWlzc2luZ0NoaWxkcmVuKG5vZGUucmVtb3RlKTtcblxuICAgICAgICBub2RlLnJlbW90ZS5pdGVtc01hcCA9IHt9O1xuICAgICAgICBmb3IgKGl0ZW1OYW1lIGluIGJvZHlPckl0ZW1zTWFwKSB7XG4gICAgICAgICAgbm9kZS5yZW1vdGUuaXRlbXNNYXBbaXRlbU5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5yZW1vdGUuYm9keSA9IGJvZHlPckl0ZW1zTWFwO1xuICAgICAgICBub2RlLnJlbW90ZS5jb250ZW50VHlwZSA9IGNvbnRlbnRUeXBlO1xuXG4gICAgICAgIHBhcmVudE5vZGUgPSBub2Rlc1twYXJlbnRQYXRoXTtcbiAgICAgICAgaWYgKHBhcmVudE5vZGUgJiYgcGFyZW50Tm9kZS5sb2NhbCAmJiBwYXJlbnROb2RlLmxvY2FsLml0ZW1zTWFwKSB7XG4gICAgICAgICAgaXRlbU5hbWUgPSBwYXRoLnN1YnN0cmluZyhwYXJlbnRQYXRoLmxlbmd0aCk7XG4gICAgICAgICAgcGFyZW50Tm9kZS5sb2NhbC5pdGVtc01hcFtpdGVtTmFtZV0gPSB0cnVlO1xuICAgICAgICAgIGlmIChlcXVhbChwYXJlbnROb2RlLmxvY2FsLml0ZW1zTWFwLCBwYXJlbnROb2RlLmNvbW1vbi5pdGVtc01hcCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBwYXJlbnROb2RlLmxvY2FsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBub2Rlc1twYXRoXSA9IHRoaXMuYXV0b01lcmdlKG5vZGUpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b0JlU2F2ZWQ6ICAgICAgIG5vZGVzLFxuICAgICAgICBtaXNzaW5nQ2hpbGRyZW46IG1pc3NpbmdDaGlsZHJlblxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBjb21wbGV0ZVB1c2ggKHBhdGg6IHN0cmluZywgYWN0aW9uLCBjb25mbGljdCwgcmV2aXNpb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLmdldE5vZGVzKFtwYXRoXSkudGhlbigobm9kZXM6IFJTTm9kZXMpID0+IHtcbiAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1twYXRoXTtcblxuICAgICAgaWYgKCFub2RlLnB1c2gpIHtcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb21wbGV0ZVB1c2ggY2FsbGVkIGJ1dCBubyBwdXNoIHZlcnNpb24hJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb25mbGljdCkge1xuICAgICAgICBsb2coJ1tTeW5jXSBXZSBoYXZlIGEgY29uZmxpY3QnKTtcblxuICAgICAgICBpZiAoIW5vZGUucmVtb3RlIHx8IG5vZGUucmVtb3RlLnJldmlzaW9uICE9PSByZXZpc2lvbikge1xuICAgICAgICAgIG5vZGUucmVtb3RlID0ge1xuICAgICAgICAgICAgcmV2aXNpb246ICByZXZpc2lvbiB8fCAnY29uZmxpY3QnLFxuICAgICAgICAgICAgdGltZXN0YW1wOiB0aGlzLm5vdygpXG4gICAgICAgICAgfTtcbiAgICAgICAgICBkZWxldGUgbm9kZS5wdXNoO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZXNbcGF0aF0gPSB0aGlzLmF1dG9NZXJnZShub2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUuY29tbW9uID0ge1xuICAgICAgICAgIHJldmlzaW9uOiAgcmV2aXNpb24sXG4gICAgICAgICAgdGltZXN0YW1wOiB0aGlzLm5vdygpXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ3B1dCcpIHtcbiAgICAgICAgICBub2RlLmNvbW1vbi5ib2R5ID0gbm9kZS5wdXNoLmJvZHk7XG4gICAgICAgICAgbm9kZS5jb21tb24uY29udGVudFR5cGUgPSBub2RlLnB1c2guY29udGVudFR5cGU7XG5cbiAgICAgICAgICBpZiAoZXF1YWwobm9kZS5sb2NhbC5ib2R5LCBub2RlLnB1c2guYm9keSkgJiZcbiAgICAgICAgICAgICAgbm9kZS5sb2NhbC5jb250ZW50VHlwZSA9PT0gbm9kZS5wdXNoLmNvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgICBkZWxldGUgbm9kZS5sb2NhbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWxldGUgbm9kZS5wdXNoO1xuICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ2RlbGV0ZScpIHtcbiAgICAgICAgICBpZiAobm9kZS5sb2NhbC5ib2R5ID09PSBmYWxzZSkgeyAvLyBObyBuZXcgbG9jYWwgY2hhbmdlcyBzaW5jZSBwdXNoOyBmbHVzaCBpdC5cbiAgICAgICAgICAgIG5vZGVzW3BhdGhdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgbm9kZS5wdXNoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5zZXROb2Rlcyh0aGlzLmZsdXNoKG5vZGVzKSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgZGVhbFdpdGhGYWlsdXJlIChwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5nZXROb2RlcyhbcGF0aF0pLnRoZW4oKG5vZGVzOiBSU05vZGVzKSA9PiB7XG4gICAgICBpZiAobm9kZXNbcGF0aF0pIHtcbiAgICAgICAgZGVsZXRlIG5vZGVzW3BhdGhdLnB1c2g7XG4gICAgICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLnNldE5vZGVzKHRoaXMuZmx1c2gobm9kZXMpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBpbnRlcnByZXRTdGF0dXMgKHN0YXR1c0NvZGU6IHN0cmluZyB8IG51bWJlcik6IFJlc3BvbnNlU3RhdHVzIHtcbiAgICBjb25zdCBzdGF0dXM6IFJlc3BvbnNlU3RhdHVzID0ge1xuICAgICAgc3RhdHVzQ29kZTogICAgICBzdGF0dXNDb2RlLFxuICAgICAgc3VjY2Vzc2Z1bDogICAgICB1bmRlZmluZWQsXG4gICAgICBjb25mbGljdDogICAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHVuQXV0aDogICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgbm90Rm91bmQ6ICAgICAgICB1bmRlZmluZWQsXG4gICAgICBjaGFuZ2VkOiAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgIG5ldHdvcmtQcm9ibGVtczogdW5kZWZpbmVkXG4gICAgfTtcblxuICAgIGlmICh0eXBlb2Ygc3RhdHVzQ29kZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgKHN0YXR1c0NvZGUgPT09ICdvZmZsaW5lJyB8fCBzdGF0dXNDb2RlID09PSAndGltZW91dCcpKSB7XG4gICAgICBzdGF0dXMuc3VjY2Vzc2Z1bCA9IGZhbHNlO1xuICAgICAgc3RhdHVzLm5ldHdvcmtQcm9ibGVtcyA9IHRydWU7XG4gICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0YXR1c0NvZGUgPT09ICdudW1iZXInKSB7XG4gICAgICBjb25zdCBzZXJpZXMgPSBNYXRoLmZsb29yKHN0YXR1c0NvZGUgLyAxMDApO1xuXG4gICAgICBzdGF0dXMuc3VjY2Vzc2Z1bCA9IChzZXJpZXMgPT09IDIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGUgPT09IDMwNCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZSA9PT0gNDEyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlID09PSA0MDQpLFxuICAgICAgc3RhdHVzLmNvbmZsaWN0ICAgPSAoc3RhdHVzQ29kZSA9PT0gNDEyKTtcbiAgICAgIHN0YXR1cy51bkF1dGggICAgID0gKChzdGF0dXNDb2RlID09PSA0MDEgJiYgdGhpcy5ycy5yZW1vdGUudG9rZW4gIT09IEF1dGhvcml6ZS5JTVBMSUVEX0ZBS0VfVE9LRU4pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlID09PSA0MDIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGUgPT09IDQwMyk7XG4gICAgICBzdGF0dXMubm90Rm91bmQgICA9IChzdGF0dXNDb2RlID09PSA0MDQpO1xuICAgICAgc3RhdHVzLmNoYW5nZWQgICAgPSAoc3RhdHVzQ29kZSAhPT0gMzA0KTtcblxuICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgaGFuZGxlR2V0UmVzcG9uc2UgKHBhdGg6IHN0cmluZywgc3RhdHVzOiBSZXNwb25zZVN0YXR1cywgYm9keU9ySXRlbXNNYXAsIGNvbnRlbnRUeXBlOiBzdHJpbmcsIHJldmlzaW9uOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAoc3RhdHVzLm5vdEZvdW5kKSB7XG4gICAgICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgICAgYm9keU9ySXRlbXNNYXAgPSB7fTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJvZHlPckl0ZW1zTWFwID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cy5jaGFuZ2VkKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZUZldGNoKHBhdGgsIGJvZHlPckl0ZW1zTWFwLCBjb250ZW50VHlwZSwgcmV2aXNpb24pXG4gICAgICAgIC50aGVuKGRhdGFGcm9tRmV0Y2ggPT4ge1xuICAgICAgICAgIGlmIChpc0ZvbGRlcihwYXRoKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29ycnVwdFNlcnZlckl0ZW1zTWFwKGJvZHlPckl0ZW1zTWFwKSkge1xuICAgICAgICAgICAgICBsb2coJ1tTeW5jXSBXQVJOSU5HOiBEaXNjYXJkaW5nIGNvcnJ1cHQgZm9sZGVyIGRlc2NyaXB0aW9uIGZyb20gc2VydmVyIGZvciAnICsgcGF0aCk7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcmtDaGlsZHJlbihwYXRoLCBib2R5T3JJdGVtc01hcCwgZGF0YUZyb21GZXRjaC50b0JlU2F2ZWQsIGRhdGFGcm9tRmV0Y2gubWlzc2luZ0NoaWxkcmVuKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsgcmV0dXJuIHRydWU7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5zZXROb2Rlcyh0aGlzLmZsdXNoKGRhdGFGcm9tRmV0Y2gudG9CZVNhdmVkKSlcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4geyByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlQ29tbW9uVGltZXN0YW1wKHBhdGgsIHJldmlzaW9uKVxuICAgICAgICAudGhlbigoKSA9PiB7IHJldHVybiB0cnVlOyB9KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlUmVzcG9uc2UgKHBhdGg6IHN0cmluZywgYWN0aW9uLCByKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3Qgc3RhdHVzID0gdGhpcy5pbnRlcnByZXRTdGF0dXMoci5zdGF0dXNDb2RlKTtcblxuICAgIGlmIChzdGF0dXMuc3VjY2Vzc2Z1bCkge1xuICAgICAgaWYgKGFjdGlvbiA9PT0gJ2dldCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlR2V0UmVzcG9uc2UocGF0aCwgc3RhdHVzLCByLmJvZHksIHIuY29udGVudFR5cGUsIHIucmV2aXNpb24pO1xuICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdwdXQnIHx8IGFjdGlvbiA9PT0gJ2RlbGV0ZScpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGVQdXNoKHBhdGgsIGFjdGlvbiwgc3RhdHVzLmNvbmZsaWN0LCByLnJldmlzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBoYW5kbGUgcmVzcG9uc2UgZm9yIHVua25vd24gYWN0aW9uICR7YWN0aW9ufWApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVbnN1Y2Nlc3NmdWxcbiAgICAgIGxldCBlcnJvcjogRXJyb3I7XG4gICAgICBpZiAoc3RhdHVzLnVuQXV0aCkge1xuICAgICAgICBlcnJvciA9IG5ldyBVbmF1dGhvcml6ZWRFcnJvcigpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0dXMubmV0d29ya1Byb2JsZW1zKSB7XG4gICAgICAgIGVycm9yID0gbmV3IFN5bmNFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZC4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yID0gbmV3IEVycm9yKCdIVFRQIHJlc3BvbnNlIGNvZGUgJyArIHN0YXR1cy5zdGF0dXNDb2RlICsgJyByZWNlaXZlZC4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZGVhbFdpdGhGYWlsdXJlKHBhdGgpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLnJzLl9lbWl0KCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZmluaXNoVGFzayAodGFzazogU3luY1Rhc2spOiB2b2lkIHwgUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRhc2suYWN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ydW5uaW5nW3Rhc2sucGF0aF07XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhc2sucHJvbWlzZVxuICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlUmVzcG9uc2UodGFzay5wYXRoLCB0YXNrLmFjdGlvbiwgcmVzKTtcbiAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgIGxvZygnW1N5bmNdIHdpcmVjbGllbnQgcmVqZWN0cyBpdHMgcHJvbWlzZSEnLCB0YXNrLnBhdGgsIHRhc2suYWN0aW9uLCBlcnIpO1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVSZXNwb25zZSh0YXNrLnBhdGgsIHRhc2suYWN0aW9uLCB7IHN0YXR1c0NvZGU6ICdvZmZsaW5lJyB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbihjb21wbGV0ZWQgPT4ge1xuICAgICAgICBkZWxldGUgdGhpcy5fdGltZVN0YXJ0ZWRbdGFzay5wYXRoXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3J1bm5pbmdbdGFzay5wYXRoXTtcblxuICAgICAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX3Rhc2tzW3Rhc2sucGF0aF0pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGk9MDsgaSA8IHRoaXMuX3Rhc2tzW3Rhc2sucGF0aF0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdGhpcy5fdGFza3NbdGFzay5wYXRoXVtpXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3Rhc2tzW3Rhc2sucGF0aF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ycy5fZW1pdCgnc3luYy1yZXEtZG9uZScpO1xuXG4gICAgICAgIHRoaXMuY29sbGVjdFRhc2tzKGZhbHNlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAvLyBTZWUgaWYgdGhlcmUgYXJlIGFueSBtb3JlIHRhc2tzIHRoYXQgYXJlIG5vdCByZWZyZXNoIHRhc2tzXG4gICAgICAgICAgaWYgKCF0aGlzLmhhc1Rhc2tzKCkgfHwgdGhpcy5zdG9wcGVkKSB7XG4gICAgICAgICAgICBsb2coJ1tTeW5jXSBTeW5jIGlzIGRvbmUhIFJlc2NoZWR1bGU/JywgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5fdGFza3MpLmxlbmd0aCwgdGhpcy5zdG9wcGVkKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5kb25lKSB7XG4gICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMucnMuX2VtaXQoJ3N5bmMtZG9uZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBVc2UgYSAxMG1zIHRpbWVvdXQgdG8gbGV0IHRoZSBKYXZhU2NyaXB0IHJ1bnRpbWUgY2F0Y2ggaXRzIGJyZWF0aFxuICAgICAgICAgICAgLy8gKGFuZCBob3BlZnVsbHkgZm9yY2UgYW4gSW5kZXhlZERCIGF1dG8tY29tbWl0PyksIGFuZCBhbHNvIHRvIGNhdXNlXG4gICAgICAgICAgICAvLyB0aGUgdGhyZWFkcyB0byBnZXQgc3RhZ2dlcmVkIGFuZCBnZXQgYSBnb29kIHNwcmVhZCBvdmVyIHRpbWU6XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5kb1Rhc2tzKCk7IH0sIDEwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgbG9nKCdbU3luY10gRXJyb3InLCBlcnIpO1xuICAgICAgICBkZWxldGUgdGhpcy5fdGltZVN0YXJ0ZWRbdGFzay5wYXRoXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3J1bm5pbmdbdGFzay5wYXRoXTtcbiAgICAgICAgdGhpcy5ycy5fZW1pdCgnc3luYy1yZXEtZG9uZScpO1xuICAgICAgICBpZiAoIXRoaXMuZG9uZSkge1xuICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5ycy5fZW1pdCgnc3luYy1kb25lJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGRvVGFza3MgKCk6IGJvb2xlYW4ge1xuICAgIGxldCBudW1Ub0hhdmU6IG51bWJlciwgbnVtQWRkZWQgPSAwLCBwYXRoOiBzdHJpbmc7XG4gICAgaWYgKHRoaXMucnMucmVtb3RlLmNvbm5lY3RlZCkge1xuICAgICAgaWYgKHRoaXMucnMucmVtb3RlLm9ubGluZSkge1xuICAgICAgICBudW1Ub0hhdmUgPSB0aGlzLm51bVRocmVhZHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBudW1Ub0hhdmUgPSAxO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBudW1Ub0hhdmUgPSAwO1xuICAgIH1cbiAgICBjb25zdCBudW1Ub0FkZCA9IG51bVRvSGF2ZSAtIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMuX3J1bm5pbmcpLmxlbmd0aDtcbiAgICBpZiAobnVtVG9BZGQgPD0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZvciAocGF0aCBpbiB0aGlzLl90YXNrcykge1xuICAgICAgaWYgKCF0aGlzLl9ydW5uaW5nW3BhdGhdKSB7XG4gICAgICAgIHRoaXMuX3RpbWVTdGFydGVkW3BhdGhdID0gdGhpcy5ub3coKTtcbiAgICAgICAgdGhpcy5fcnVubmluZ1twYXRoXSA9IHRoaXMuZG9UYXNrKHBhdGgpO1xuICAgICAgICB0aGlzLl9ydW5uaW5nW3BhdGhdLnRoZW4odGhpcy5maW5pc2hUYXNrLmJpbmQodGhpcykpO1xuICAgICAgICBudW1BZGRlZCsrO1xuICAgICAgICBpZiAobnVtQWRkZWQgPj0gbnVtVG9BZGQpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKG51bUFkZGVkID49IG51bVRvQWRkKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBjb2xsZWN0VGFza3MgKGFsc29DaGVja1JlZnJlc2g/OiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuaGFzVGFza3MoKSB8fCB0aGlzLnN0b3BwZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jb2xsZWN0RGlmZlRhc2tzKCkudGhlbihudW1EaWZmcyA9PiB7XG4gICAgICBpZiAobnVtRGlmZnMgfHwgYWxzb0NoZWNrUmVmcmVzaCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdFJlZnJlc2hUYXNrcygpO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsgdGhyb3cgZXJyOyB9KTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRUYXNrIChwYXRoOiBzdHJpbmcsIGNiPzogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX3Rhc2tzW3BhdGhdKSB7XG4gICAgICB0aGlzLl90YXNrc1twYXRoXSA9IFtdO1xuICAgIH1cbiAgICBpZiAodHlwZW9mKGNiKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fdGFza3NbcGF0aF0ucHVzaChjYik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1ldGhvZDogc3luY1xuICAgKiovXG4gIHB1YmxpYyBzeW5jICgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmRvbmUgPSBmYWxzZTtcblxuICAgIGlmICghdGhpcy5kb1Rhc2tzKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbGxlY3RUYXNrcygpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMuZG9UYXNrcygpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICBsb2coJ1tTeW5jXSBkb1Rhc2tzIGVycm9yJywgZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGxvZygnW1N5bmNdIFN5bmMgZXJyb3InLCBlKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2NhbCBjYWNoZSB1bmF2YWlsYWJsZScpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX3JzX2luaXQgKHJlbW90ZVN0b3JhZ2UpOiB2b2lkIHtcbiAgICBzeW5jQ3ljbGVDYiA9IGZ1bmN0aW9uICgpOiB2b2lkIHtcbiAgICAgIC8vIGlmICghY29uZmlnLmNhY2hlKSByZXR1cm4gZmFsc2VcbiAgICAgIGxvZygnW1N5bmNdIHN5bmNDeWNsZUNiIGNhbGxpbmcgc3luY0N5Y2xlJyk7XG5cbiAgICAgIGNvbnN0IGVudiA9IG5ldyBFbnYoKTtcbiAgICAgIGlmIChlbnYuaXNCcm93c2VyKCkpIHsgaGFuZGxlVmlzaWJpbGl0eShlbnYsIHJlbW90ZVN0b3JhZ2UpOyB9XG5cbiAgICAgIGlmICghcmVtb3RlU3RvcmFnZS5zeW5jKSB7XG4gICAgICAgIC8vIENhbGwgdGhpcyBub3cgdGhhdCBhbGwgb3RoZXIgbW9kdWxlcyBhcmUgYWxzbyByZWFkeTpcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5zeW5jID0gbmV3IFN5bmMocmVtb3RlU3RvcmFnZSk7XG5cbiAgICAgICAgaWYgKHJlbW90ZVN0b3JhZ2Uuc3luY1N0b3BwZWQpIHtcbiAgICAgICAgICBsb2coJ1tTeW5jXSBJbnN0YW50aWF0aW5nIHN5bmMgc3RvcHBlZCcpO1xuICAgICAgICAgIHJlbW90ZVN0b3JhZ2Uuc3luYy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICBkZWxldGUgcmVtb3RlU3RvcmFnZS5zeW5jU3RvcHBlZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsb2coJ1tTeW5jXSBzeW5jQ3ljbGVDYiBjYWxsaW5nIHN5bmNDeWNsZScpO1xuICAgICAgcmVtb3RlU3RvcmFnZS5zeW5jQ3ljbGUoKTtcbiAgICB9O1xuXG4gICAgc3luY09uQ29ubmVjdCA9IGZ1bmN0aW9uICgpOiB2b2lkIHtcbiAgICAgIHJlbW90ZVN0b3JhZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29ubmVjdGVkJywgc3luY09uQ29ubmVjdCk7XG4gICAgICByZW1vdGVTdG9yYWdlLnN0YXJ0U3luYygpO1xuICAgIH07XG5cbiAgICByZW1vdGVTdG9yYWdlLm9uKCdyZWFkeScsIHN5bmNDeWNsZUNiKTtcbiAgICByZW1vdGVTdG9yYWdlLm9uKCdjb25uZWN0ZWQnLCBzeW5jT25Db25uZWN0KTtcbiAgfVxuXG4gIHN0YXRpYyBfcnNfY2xlYW51cCAocmVtb3RlU3RvcmFnZSk6IHZvaWQge1xuICAgIHJlbW90ZVN0b3JhZ2Uuc3RvcFN5bmMoKTtcbiAgICByZW1vdGVTdG9yYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3JlYWR5Jywgc3luY0N5Y2xlQ2IpO1xuICAgIHJlbW90ZVN0b3JhZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29ubmVjdGVkJywgc3luY09uQ29ubmVjdCk7XG5cbiAgICByZW1vdGVTdG9yYWdlLnN5bmMgPSB1bmRlZmluZWQ7XG4gICAgZGVsZXRlIHJlbW90ZVN0b3JhZ2Uuc3luYztcbiAgfVxufTtcblxuaW50ZXJmYWNlIFN5bmMgZXh0ZW5kcyBFdmVudEhhbmRsaW5nIHt9O1xuYXBwbHlNaXhpbnMoU3luYywgW0V2ZW50SGFuZGxpbmddKTtcblxuZXhwb3J0ID0gU3luYztcbiIsIi8qKlxuICogVE9ETyByZXdyaXRlLCBkb2Vzbid0IGV4cG9zZSBHUEQgYW55bW9yZSwgaXQncyBpbiBjYWNoaW5nbGF5ZXIgbm93XG4gKlxuICogVGhpcyBmaWxlIGV4cG9zZXMgYSBnZXQvcHV0L2RlbGV0ZSBpbnRlcmZhY2UsIGFjY2Vzc2luZyBkYXRhIGluIGFuIEluZGV4ZWREQi5cbiAqXG4gKiBUaGVyZSBhcmUgbXVsdGlwbGUgcGFydHMgdG8gdGhpcyBpbnRlcmZhY2U6XG4gKlxuICogICBUaGUgUmVtb3RlU3RvcmFnZSBpbnRlZ3JhdGlvbjpcbiAqICAgICAtIEluZGV4ZWREQi5fcnNfc3VwcG9ydGVkKCkgZGV0ZXJtaW5lcyBpZiBJbmRleGVkREIgc3VwcG9ydFxuICogICAgICAgaXMgYXZhaWxhYmxlLiBJZiBpdCBpc24ndCwgUmVtb3RlU3RvcmFnZSB3b24ndCBpbml0aWFsaXplIHRoZSBmZWF0dXJlLlxuICogICAgIC0gSW5kZXhlZERCLl9yc19pbml0KCkgaW5pdGlhbGl6ZXMgdGhlIGZlYXR1cmUuIEl0IHJldHVybnNcbiAqICAgICAgIGEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCBhcyBzb29uIGFzIHRoZSBkYXRhYmFzZSBoYXMgYmVlbiBvcGVuZWQgYW5kXG4gKiAgICAgICBtaWdyYXRlZC5cbiAqXG4gKiAgIFRoZSBzdG9yYWdlIGludGVyZmFjZSAoSW5kZXhlZERCIG9iamVjdCk6XG4gKiAgICAgLSBVc3VhbGx5IHRoaXMgaXMgYWNjZXNzaWJsZSB2aWEgXCJyZW1vdGVTdG9yYWdlLmxvY2FsXCJcbiAqICAgICAtICNnZXQoKSB0YWtlcyBhIHBhdGggYW5kIHJldHVybnMgYSBwcm9taXNlLlxuICogICAgIC0gI3B1dCgpIHRha2VzIGEgcGF0aCwgYm9keSBhbmQgY29udGVudFR5cGUgYW5kIGFsc28gcmV0dXJucyBhIHByb21pc2UuXG4gKiAgICAgLSAjZGVsZXRlKCkgdGFrZXMgYSBwYXRoIGFuZCBhbHNvIHJldHVybnMgYSBwcm9taXNlLlxuICogICAgIC0gI29uKCdjaGFuZ2UnLCAuLi4pIGV2ZW50cywgYmVpbmcgZmlyZWQgd2hlbmV2ZXIgc29tZXRoaW5nIGNoYW5nZXMgaW5cbiAqICAgICAgIHRoZSBzdG9yYWdlLiBDaGFuZ2UgZXZlbnRzIHJvdWdobHkgZm9sbG93IHRoZSBTdG9yYWdlRXZlbnQgcGF0dGVybi5cbiAqICAgICAgIFRoZXkgaGF2ZSBcIm9sZFZhbHVlXCIgYW5kIFwibmV3VmFsdWVcIiBwcm9wZXJ0aWVzLCB3aGljaCBjYW4gYmUgdXNlZCB0b1xuICogICAgICAgZGlzdGluZ3Vpc2ggY3JlYXRlL3VwZGF0ZS9kZWxldGUgb3BlcmF0aW9ucyBhbmQgYW5hbHl6ZSBjaGFuZ2VzIGluXG4gKiAgICAgICBjaGFuZ2UgaGFuZGxlcnMuIEluIGFkZGl0aW9uIHRoZXkgY2FycnkgYSBcIm9yaWdpblwiIHByb3BlcnR5LCB3aGljaFxuICogICAgICAgaXMgZWl0aGVyIFwid2luZG93XCIsIFwibG9jYWxcIiwgb3IgXCJyZW1vdGVcIi4gXCJyZW1vdGVcIiBldmVudHMgYXJlIGZpcmVkXG4gKiAgICAgICB3aGVuZXZlciBhIGNoYW5nZSBjb21lcyBpbiBmcm9tIFN5bmMuXG4gKlxuICogICBUaGUgc3luYyBpbnRlcmZhY2UgKGFsc28gb24gSW5kZXhlZERCIG9iamVjdCk6XG4gKiAgICAgLSAjZ2V0Tm9kZXMoW3BhdGhzXSkgcmV0dXJucyB0aGUgcmVxdWVzdGVkIG5vZGVzIGluIGEgcHJvbWlzZS5cbiAqICAgICAtICNzZXROb2RlcyhtYXApIHN0b3JlcyBhbGwgdGhlIG5vZGVzIGdpdmVuIGluIHRoZSAocGF0aCAtPiBub2RlKSBtYXAuXG4gKlxuICogQGludGVyZmFjZVxuICovXG5cbmltcG9ydCBFdmVudEhhbmRsaW5nIGZyb20gJy4vZXZlbnRoYW5kbGluZyc7XG5pbXBvcnQgQ2FjaGluZ0xheWVyIGZyb20gJy4vY2FjaGluZ2xheWVyJztcbmltcG9ydCBsb2cgZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHtcbiAgYXBwbHlNaXhpbnMsXG4gIGRlZXBDbG9uZSxcbiAgZ2V0R2xvYmFsQ29udGV4dFxufSBmcm9tICcuL3V0aWwnO1xuXG5jb25zdCBEQl9WRVJTSU9OID0gMjtcblxuY29uc3QgREVGQVVMVF9EQl9OQU1FID0gJ3JlbW90ZXN0b3JhZ2UnO1xuXG4vLyBUT0RPIHZlcnkgd2VpcmQgdGhhdCB0aGlzIGlzIHJlLWFzc2lnbmVkXG5sZXQgREVGQVVMVF9EQjtcblxuY2xhc3MgSW5kZXhlZERCIGV4dGVuZHMgQ2FjaGluZ0xheWVyIHtcbiAgZGI6IGFueTtcbiAgZ2V0c1J1bm5pbmc6IG51bWJlcjtcbiAgcHV0c1J1bm5pbmc6IG51bWJlcjtcbiAgY2hhbmdlc1F1ZXVlZDogeyBba2V5OiBzdHJpbmddOiB1bmtub3duIH07XG4gIGNoYW5nZXNSdW5uaW5nOiB7IFtrZXk6IHN0cmluZ106IHVua25vd24gfTtcbiAgY29tbWl0U2xvd25lc3NXYXJuaW5nOiBhbnk7IC8vIFRPRE8gbnVsbCB8IG51bWJlciAoYnV0IG5vZGUncyBzZXRJbnRlcnZhbCByZXR1cm5zIGFuIHVua25vd24gdHlwZSlcblxuICBjb25zdHJ1Y3RvcihkYXRhYmFzZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hZGRFdmVudHMoWydjaGFuZ2UnLCAnbG9jYWwtZXZlbnRzLWRvbmUnXSk7XG5cbiAgICB0aGlzLmRiID0gZGF0YWJhc2UgfHwgREVGQVVMVF9EQjtcblxuICAgIGlmICghdGhpcy5kYikge1xuICAgICAgLy8gVE9ETyBzaG91bGRuJ3QgdGhpcyB0aHJvdyBhbiBlcnJvcj9cbiAgICAgIGxvZyhcIltJbmRleGVkREJdIEZhaWxlZCB0byBvcGVuIERCXCIpO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB0aGlzLmdldHNSdW5uaW5nID0gMDtcbiAgICB0aGlzLnB1dHNSdW5uaW5nID0gMDtcblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgbm9kZSBmb3Igd2hpY2ggdW5jb21taXR0ZWQgY2hhbmdlcyBleGlzdCwgdGhpcyBjYWNoZVxuICAgICAqIHN0b3JlcyBlaXRoZXIgdGhlIGVudGlyZSB1bmNvbW1pdHRlZCBub2RlLCBvciBmYWxzZSBmb3IgYSBkZWxldGlvbi5cbiAgICAgKiBUaGUgbm9kZSdzIHBhdGggaXMgdXNlZCBhcyB0aGUga2V5LlxuICAgICAqXG4gICAgICogY2hhbmdlc1F1ZXVlZCBzdG9yZXMgY2hhbmdlcyBmb3Igd2hpY2ggbm8gSW5kZXhlZERCIHRyYW5zYWN0aW9uIGhhc1xuICAgICAqIGJlZW4gc3RhcnRlZCB5ZXQuXG4gICAgICovXG4gICAgdGhpcy5jaGFuZ2VzUXVldWVkID0ge307XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIG5vZGUgZm9yIHdoaWNoIHVuY29tbWl0dGVkIGNoYW5nZXMgZXhpc3QsIHRoaXMgY2FjaGVcbiAgICAgKiBzdG9yZXMgZWl0aGVyIHRoZSBlbnRpcmUgdW5jb21taXR0ZWQgbm9kZSwgb3IgZmFsc2UgZm9yIGEgZGVsZXRpb24uXG4gICAgICogVGhlIG5vZGUncyBwYXRoIGlzIHVzZWQgYXMgdGhlIGtleS5cbiAgICAgKlxuICAgICAqIEF0IGFueSB0aW1lIHRoZXJlIGlzIGF0IG1vc3Qgb25lIEluZGV4ZWREQiB0cmFuc2FjdGlvbiBydW5uaW5nLlxuICAgICAqIGNoYW5nZXNSdW5uaW5nIHN0b3JlcyB0aGUgY2hhbmdlcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiB0aGF0IGN1cnJlbnRseVxuICAgICAqIHJ1bm5pbmcgSW5kZXhlZERCIHRyYW5zYWN0aW9uLCBvciBpZiBub25lIGlzIHJ1bm5pbmcsIG9mIHRoZSBsYXN0IG9uZVxuICAgICAqIHRoYXQgcmFuLlxuICAgICAqL1xuICAgIHRoaXMuY2hhbmdlc1J1bm5pbmcgPSB7fTtcblxuICAgIC8vIFRPRE8gZG9jdW1lbnRcbiAgICB0aGlzLmNvbW1pdFNsb3duZXNzV2FybmluZyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogRG9jdW1lbnRcbiAgICovXG4gIGFzeW5jIGdldE5vZGVzIChwYXRoczogc3RyaW5nW10pOiBQcm9taXNlPFJTTm9kZXM+IHtcbiAgICBjb25zdCBtaXNzZXMgPSBbXSwgZnJvbUNhY2hlID0ge307XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5jaGFuZ2VzUXVldWVkW3BhdGhzW2ldXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZyb21DYWNoZVtwYXRoc1tpXV0gPSBkZWVwQ2xvbmUodGhpcy5jaGFuZ2VzUXVldWVkW3BhdGhzW2ldXSB8fCB1bmRlZmluZWQpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYW5nZXNSdW5uaW5nW3BhdGhzW2ldXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZyb21DYWNoZVtwYXRoc1tpXV0gPSBkZWVwQ2xvbmUodGhpcy5jaGFuZ2VzUnVubmluZ1twYXRoc1tpXV0gfHwgdW5kZWZpbmVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1pc3Nlcy5wdXNoKHBhdGhzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1pc3Nlcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXROb2Rlc0Zyb21EYihtaXNzZXMpLnRoZW4oZnVuY3Rpb24gKG5vZGVzKSB7XG4gICAgICAgIGZvciAoY29uc3QgaSBpbiBmcm9tQ2FjaGUpIHtcbiAgICAgICAgICBub2Rlc1tpXSA9IGZyb21DYWNoZVtpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZXM7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmcm9tQ2FjaGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBEb2N1bWVudFxuICAgKi9cbiAgYXN5bmMgc2V0Tm9kZXMgKG5vZGVzOiBSU05vZGVzKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgZm9yIChjb25zdCBpIGluIG5vZGVzKSB7XG4gICAgICB0aGlzLmNoYW5nZXNRdWV1ZWRbaV0gPSBub2Rlc1tpXSB8fCBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5tYXliZUZsdXNoKCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IERvY3VtZW50XG4gICAqL1xuICBtYXliZUZsdXNoICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wdXRzUnVubmluZyA9PT0gMCkge1xuICAgICAgdGhpcy5mbHVzaENoYW5nZXNRdWV1ZWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCF0aGlzLmNvbW1pdFNsb3duZXNzV2FybmluZykge1xuICAgICAgICB0aGlzLmNvbW1pdFNsb3duZXNzV2FybmluZyA9IGdsb2JhbC5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiB3YWl0ZWQgbW9yZSB0aGFuIDEwIHNlY29uZHMgZm9yIHByZXZpb3VzIGNvbW1pdCB0byBmaW5pc2gnKTtcbiAgICAgICAgfSwgMTAwMDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBEb2N1bWVudFxuICAgKi9cbiAgZmx1c2hDaGFuZ2VzUXVldWVkICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jb21taXRTbG93bmVzc1dhcm5pbmcpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jb21taXRTbG93bmVzc1dhcm5pbmcpO1xuICAgICAgdGhpcy5jb21taXRTbG93bmVzc1dhcm5pbmcgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5jaGFuZ2VzUXVldWVkKS5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmNoYW5nZXNSdW5uaW5nID0gdGhpcy5jaGFuZ2VzUXVldWVkO1xuICAgICAgdGhpcy5jaGFuZ2VzUXVldWVkID0ge307XG4gICAgICB0aGlzLnNldE5vZGVzSW5EYih0aGlzLmNoYW5nZXNSdW5uaW5nKS50aGVuKHRoaXMuZmx1c2hDaGFuZ2VzUXVldWVkLmJpbmQodGhpcykpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBEb2N1bWVudFxuICAgKi9cbiAgZ2V0Tm9kZXNGcm9tRGIgKHBhdGhzOiBzdHJpbmdbXSk6IFByb21pc2U8UlNOb2Rlcz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYi50cmFuc2FjdGlvbihbJ25vZGVzJ10sICdyZWFkb25seScpO1xuICAgICAgY29uc3Qgbm9kZXMgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSgnbm9kZXMnKTtcbiAgICAgIGNvbnN0IHJldHJpZXZlZE5vZGVzID0ge307XG5cbiAgICAgIHRoaXMuZ2V0c1J1bm5pbmcrKztcblxuICAgICAgcGF0aHMubWFwKChwYXRoOiBzdHJpbmcpID0+IHtcbiAgICAgICAgbm9kZXMuZ2V0KHBhdGgpLm9uc3VjY2VzcyA9IChldnQpID0+IHtcbiAgICAgICAgICByZXRyaWV2ZWROb2Rlc1twYXRoXSA9IGV2dC50YXJnZXQucmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUocmV0cmlldmVkTm9kZXMpO1xuICAgICAgICB0aGlzLmdldHNSdW5uaW5nLS07XG4gICAgICB9O1xuXG4gICAgICB0cmFuc2FjdGlvbi5vbmVycm9yID0gdHJhbnNhY3Rpb24ub25hYm9ydCA9ICgpID0+IHtcbiAgICAgICAgcmVqZWN0KCdnZXQgdHJhbnNhY3Rpb24gZXJyb3IvYWJvcnQnKTtcbiAgICAgICAgdGhpcy5nZXRzUnVubmluZy0tO1xuICAgICAgfTtcblxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IERvY3VtZW50XG4gICAqL1xuICBhc3luYyBzZXROb2Rlc0luRGIgKG5vZGVzOiB7IFtrZXk6IHN0cmluZ106IHVua25vd24gfSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYi50cmFuc2FjdGlvbihbJ25vZGVzJ10sICdyZWFkd3JpdGUnKTtcbiAgICAgIGNvbnN0IG5vZGVzU3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSgnbm9kZXMnKTtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgICB0aGlzLnB1dHNSdW5uaW5nKys7XG5cbiAgICAgIGxvZygnW0luZGV4ZWREQl0gU3RhcnRpbmcgcHV0Jywgbm9kZXMsIHRoaXMucHV0c1J1bm5pbmcpO1xuXG4gICAgICBmb3IgKGNvbnN0IHBhdGggaW4gbm9kZXMpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW3BhdGhdO1xuICAgICAgICBpZiAodHlwZW9mIChub2RlKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbm9kZXNTdG9yZS5wdXQobm9kZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nKCdbSW5kZXhlZERCXSBFcnJvciB3aGlsZSBwdXR0aW5nJywgbm9kZSwgZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbm9kZXNTdG9yZS5kZWxldGUocGF0aCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nKCdbSW5kZXhlZERCXSBFcnJvciB3aGlsZSByZW1vdmluZycsIG5vZGVzU3RvcmUsIG5vZGUsIGUpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5wdXRzUnVubmluZy0tO1xuICAgICAgICBsb2coJ1tJbmRleGVkREJdIEZpbmlzaGVkIHB1dCcsIG5vZGVzLCB0aGlzLnB1dHNSdW5uaW5nLCAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzdGFydFRpbWUpICsgJ21zJyk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH07XG5cbiAgICAgIHRyYW5zYWN0aW9uLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMucHV0c1J1bm5pbmctLTtcbiAgICAgICAgcmVqZWN0KCd0cmFuc2FjdGlvbiBlcnJvcicpO1xuICAgICAgfTtcblxuICAgICAgdHJhbnNhY3Rpb24ub25hYm9ydCA9ICgpID0+IHtcbiAgICAgICAgcmVqZWN0KCd0cmFuc2FjdGlvbiBhYm9ydCcpO1xuICAgICAgICB0aGlzLnB1dHNSdW5uaW5nLS07XG4gICAgICB9O1xuXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogRG9jdW1lbnRcbiAgICovXG4gIC8vIFRPRE8gYWRkIHJlYWwgdHlwZXMgb25jZSBrbm93blxuICByZXNldCAoY2FsbGJhY2s6IChwOiB1bmtub3duKSA9PiB1bmtub3duKTogdm9pZCB7XG4gICAgY29uc3QgZGJOYW1lID0gdGhpcy5kYi5uYW1lO1xuXG4gICAgdGhpcy5kYi5jbG9zZSgpO1xuXG4gICAgSW5kZXhlZERCLmNsZWFuKHRoaXMuZGIubmFtZSwgKCkgPT4ge1xuICAgICAgSW5kZXhlZERCLm9wZW4oZGJOYW1lLCAoZXJyLCBvdGhlcikgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgbG9nKCdbSW5kZXhlZERCXSBFcnJvciB3aGlsZSByZXNldHRpbmcgbG9jYWwgc3RvcmFnZScsIGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaGFja3khXG4gICAgICAgICAgdGhpcy5kYiA9IG90aGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjYWxsYmFjayhzZWxmKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogRG9jdW1lbnRcbiAgICovXG4gIC8vIFRPRE8gYWRkIHJlYWwgdHlwZXMgb25jZSBrbm93blxuICBhc3luYyBmb3JBbGxOb2RlcyAoY2I6IChwOiB1bmtub3duKSA9PiB1bmtub3duKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLyosIHJlamVjdCovKSA9PiB7XG5cbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYi50cmFuc2FjdGlvbihbJ25vZGVzJ10sICdyZWFkb25seScpO1xuICAgICAgY29uc3QgY3Vyc29yUmVxID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoJ25vZGVzJykub3BlbkN1cnNvcigpO1xuXG4gICAgICBjdXJzb3JSZXEub25zdWNjZXNzID0gKGV2dCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJzb3IgPSBldnQudGFyZ2V0LnJlc3VsdDtcblxuICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgY2IodGhpcy5taWdyYXRlKGN1cnNvci52YWx1ZSkpO1xuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsb3NlREIgKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnB1dHNSdW5uaW5nID09PSAwKSB7IC8vIGNoZWNrIGlmIHdlIGFyZSBjdXJyZW50bHkgd3JpdGluZyB0byB0aGUgREJcbiAgICAgIHRoaXMuZGIuY2xvc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dCh0aGlzLmNsb3NlREIuYmluZCh0aGlzKSwgMTAwKTsgLy8gdHJ5IGFnYWluIGEgbGl0dGxlIGxhdGVyXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IERvY3VtZW50XG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHR5cGVzIG9uY2Uga25vd25cbiAgc3RhdGljIG9wZW4gKG5hbWU6IHN0cmluZywgY2FsbGJhY2s6IChwOiB1bmtub3duLCBwMj86IHVua25vd24pID0+IHVua25vd24pIHtcbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2soXCJ0aW1lb3V0IHRyeWluZyB0byBvcGVuIGRiXCIpO1xuICAgIH0sIDEwMDAwKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXEgPSBpbmRleGVkREIub3BlbihuYW1lLCBEQl9WRVJTSU9OKTtcblxuICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZygnW0luZGV4ZWREQl0gT3BlbmluZyBEQiBmYWlsZWQnLCByZXEpO1xuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIGNhbGxiYWNrKHJlcS5lcnJvcik7XG4gICAgICB9O1xuXG4gICAgICByZXEub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGRiID0gcmVxLnJlc3VsdDtcblxuICAgICAgICBsb2coXCJbSW5kZXhlZERCXSBVcGdyYWRlOiBmcm9tIFwiLCBldmVudC5vbGRWZXJzaW9uLCBcIiB0byBcIiwgZXZlbnQubmV3VmVyc2lvbik7XG5cbiAgICAgICAgaWYgKGV2ZW50Lm9sZFZlcnNpb24gIT09IDEpIHtcbiAgICAgICAgICBsb2coXCJbSW5kZXhlZERCXSBDcmVhdGluZyBvYmplY3Qgc3RvcmU6IG5vZGVzXCIpO1xuICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdub2RlcycsIHtrZXlQYXRoOiAncGF0aCd9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvZyhcIltJbmRleGVkREJdIENyZWF0aW5nIG9iamVjdCBzdG9yZTogY2hhbmdlc1wiKTtcblxuICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgnY2hhbmdlcycsIHtrZXlQYXRoOiAncGF0aCd9KTtcbiAgICAgIH07XG5cbiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgYWxsIG9iamVjdCBzdG9yZXMgZXhpc3RcbiAgICAgICAgY29uc3QgZGIgPSByZXEucmVzdWx0O1xuICAgICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoJ25vZGVzJykgfHwgIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoJ2NoYW5nZXMnKSkge1xuICAgICAgICAgIGxvZyhcIltJbmRleGVkREJdIE1pc3Npbmcgb2JqZWN0IHN0b3JlLiBSZXNldHRpbmcgdGhlIGRhdGFiYXNlLlwiKTtcbiAgICAgICAgICBJbmRleGVkREIuY2xlYW4obmFtZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgSW5kZXhlZERCLm9wZW4obmFtZSwgY2FsbGJhY2spO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcS5yZXN1bHQpO1xuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nKFwiW0luZGV4ZWREQl0gRmFpbGVkIHRvIG9wZW4gZGF0YWJhc2U6IFwiICsgZXJyb3IpO1xuICAgICAgbG9nKFwiW0luZGV4ZWREQl0gUmVzZXR0aW5nIGRhdGFiYXNlIGFuZCB0cnlpbmcgYWdhaW4uXCIpO1xuXG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuXG4gICAgICBJbmRleGVkREIuY2xlYW4obmFtZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBJbmRleGVkREIub3BlbihuYW1lLCBjYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogRG9jdW1lbnRcbiAgICovXG4gIHN0YXRpYyBjbGVhbiAoZGF0YWJhc2VOYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgY29uc3QgcmVxID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKGRhdGFiYXNlTmFtZSk7XG5cbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgbG9nKCdbSW5kZXhlZERCXSBEb25lIHJlbW92aW5nIERCJyk7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH07XG5cbiAgICAvLyBUT0RPIGNoZWNrIGlmIHRoaXMgZG9lcyBhbnl0aGluZyBhcyBvbmFib3J0IGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgYWNjb3JkaW5nIHRvIHRzXG4gICAgcmVxLm9uZXJyb3IgPSAocmVxIGFzIGFueSkub25hYm9ydCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZW1vdmUgZGF0YWJhc2UgXCInICsgZGF0YWJhc2VOYW1lICsgJ1wiJywgZXZ0KTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIEluZGV4ZWREQiBiYWNrZW5kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVtb3RlU3RvcmFnZSAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgLy8gVE9ETyBhZGQgcmVhbCB0eXBlIG9uY2Uga25vd25cbiAgc3RhdGljIF9yc19pbml0IChyZW1vdGVTdG9yYWdlOiB1bmtub3duKTogUHJvbWlzZTx2b2lkPiB7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICBJbmRleGVkREIub3BlbihERUZBVUxUX0RCX05BTUUsIGZ1bmN0aW9uIChlcnIsIGRiKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBERUZBVUxUX0RCID0gZGI7XG4gICAgICAgICAgLy8gVE9ETyByZW1vdmUgb25jZSByZWFsIHR5cGUgb25jZSBrbm93blxuICAgICAgICAgIChkYiBhcyBhbnkpLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICAocmVtb3RlU3RvcmFnZSBhcyBhbnkpLl9lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSW5mb3JtIGFib3V0IHRoZSBhdmFpbGFiaWxpdHkgb2YgdGhlIEluZGV4ZWREQiBiYWNrZW5kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcnMgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzdGF0aWMgX3JzX3N1cHBvcnRlZCAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgY29uc3QgY29udGV4dCA9IGdldEdsb2JhbENvbnRleHQoKTtcblxuICAgICAgLy8gRklYTUU6IHRoaXMgaXMgY2F1c2luZyBhbiBlcnJvciBpbiBjaHJvbWVcbiAgICAgIC8vIGNvbnRleHQuaW5kZXhlZERCID0gY29udGV4dC5pbmRleGVkREIgICAgfHwgY29udGV4dC53ZWJraXRJbmRleGVkREIgfHxcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vekluZGV4ZWREQiB8fCBjb250ZXh0Lm9JbmRleGVkREIgICAgICB8fFxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubXNJbmRleGVkREI7XG5cbiAgICAgIC8vIERldGVjdCBicm93c2VycyB3aXRoIGtub3duIEluZGV4ZWREYiBpc3N1ZXMgKGUuZy4gQW5kcm9pZCBwcmUtNC40KVxuICAgICAgbGV0IHBvb3JJbmRleGVkRGJTdXBwb3J0ID0gZmFsc2U7XG4gICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZCAoMnwzfDRcXC5bMC0zXSkvKSkge1xuICAgICAgICAvLyBDaHJvbWUgYW5kIEZpcmVmb3ggc3VwcG9ydCBJbmRleGVkREJcbiAgICAgICAgaWYgKCFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWV8RmlyZWZveC8pKSB7XG4gICAgICAgICAgcG9vckluZGV4ZWREYlN1cHBvcnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICgnaW5kZXhlZERCJyBpbiBjb250ZXh0ICYmICFwb29ySW5kZXhlZERiU3VwcG9ydCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGNoZWNrID0gaW5kZXhlZERCLm9wZW4oXCJycy1jaGVja1wiKTtcbiAgICAgICAgICBjaGVjay5vbmVycm9yID0gZnVuY3Rpb24gKC8qIGV2ZW50ICovKSB7XG4gICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNoZWNrLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgvKiBldmVudCAqLykge1xuICAgICAgICAgICAgY2hlY2sucmVzdWx0LmNsb3NlKCk7XG4gICAgICAgICAgICBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoXCJycy1jaGVja1wiKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlamVjdCgpO1xuICAgICAgfVxuXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIEluZGV4ZWREQiBhcyBhIGJhY2tlbmQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZW1vdGVTdG9yYWdlIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHR5cGUgb25jZSBkZWZpbmVkXG4gIHN0YXRpYyBfcnNfY2xlYW51cCAocmVtb3RlU3RvcmFnZTogYW55KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLyosIHJlamVjdCovKSA9PiB7XG4gICAgICBpZiAocmVtb3RlU3RvcmFnZS5sb2NhbCkge1xuICAgICAgICByZW1vdGVTdG9yYWdlLmxvY2FsLmNsb3NlREIoKTtcbiAgICAgIH1cblxuICAgICAgSW5kZXhlZERCLmNsZWFuKERFRkFVTFRfREJfTkFNRSwgcmVzb2x2ZSk7XG4gICAgfSk7XG4gIH1cblxuICBkaWZmSGFuZGxlcigpIHtcbiAgICAvLyBlbXB0eVxuICB9XG59O1xuXG4vLyBUT0RPIG1vdmUgdG8gQ2FjaGluZ0xheWVyLCBzYW1lIGZvciBhbGwgbGF5ZXJzXG5pbnRlcmZhY2UgSW5kZXhlZERCIGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKEluZGV4ZWREQiwgW0V2ZW50SGFuZGxpbmddKTtcblxuZXhwb3J0ID0gSW5kZXhlZERCO1xuIiwiaW1wb3J0IENhY2hpbmdMYXllciBmcm9tICcuL2NhY2hpbmdsYXllcic7XG5pbXBvcnQgRXZlbnRIYW5kbGluZyBmcm9tICcuL2V2ZW50aGFuZGxpbmcnO1xuaW1wb3J0IGxvZyBmcm9tICcuL2xvZyc7XG5pbXBvcnQgeyBhcHBseU1peGlucywgbG9jYWxTdG9yYWdlQXZhaWxhYmxlIH0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBsb2NhbFN0b3JhZ2UgY2FjaGluZyBhZGFwdGVyLiBVc2VkIHdoZW4gbm8gSW5kZXhlZERCIGF2YWlsYWJsZS5cbiAqKi9cblxuY29uc3QgTk9ERVNfUFJFRklYID0gXCJyZW1vdGVzdG9yYWdlOmNhY2hlOm5vZGVzOlwiO1xuY29uc3QgQ0hBTkdFU19QUkVGSVggPSBcInJlbW90ZXN0b3JhZ2U6Y2FjaGU6Y2hhbmdlczpcIjtcblxuZnVuY3Rpb24gaXNSZW1vdGVTdG9yYWdlS2V5KGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBrZXkuc3Vic3RyKDAsIE5PREVTX1BSRUZJWC5sZW5ndGgpID09PSBOT0RFU19QUkVGSVggfHxcbiAgICBrZXkuc3Vic3RyKDAsIENIQU5HRVNfUFJFRklYLmxlbmd0aCkgPT09IENIQU5HRVNfUFJFRklYO1xufVxuXG5mdW5jdGlvbiBpc05vZGVLZXkoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIGtleS5zdWJzdHIoMCwgTk9ERVNfUFJFRklYLmxlbmd0aCkgPT09IE5PREVTX1BSRUZJWDtcbn1cblxuY2xhc3MgTG9jYWxTdG9yYWdlIGV4dGVuZHMgQ2FjaGluZ0xheWVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmFkZEV2ZW50cyhbJ2NoYW5nZScsICdsb2NhbC1ldmVudHMtZG9uZSddKTtcbiAgfVxuXG4gIC8vIFRPRE8gZml4IHRoaXNcbiAgZGlmZkhhbmRsZXIoLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBnZXROb2RlcyhwYXRoczogc3RyaW5nW10pOiBQcm9taXNlPFJTTm9kZXM+IHtcbiAgICBjb25zdCBub2RlcyA9IHt9O1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0cnkge1xuICAgICAgICBub2Rlc1twYXRoc1tpXV0gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVtOT0RFU19QUkVGSVggKyBwYXRoc1tpXV0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBub2Rlc1twYXRoc1tpXV0gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShub2Rlcyk7XG4gIH1cblxuICBzZXROb2Rlcyhub2RlczogUlNOb2Rlcyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGZvciAoY29uc3QgcGF0aCBpbiBub2Rlcykge1xuICAgICAgLy8gVE9ETyBzaG91bGRuJ3Qgd2UgdXNlIGdldEl0ZW0vc2V0SXRlbT9cbiAgICAgIGxvY2FsU3RvcmFnZVtOT0RFU19QUkVGSVggKyBwYXRoXSA9IEpTT04uc3RyaW5naWZ5KG5vZGVzW3BhdGhdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBmb3JBbGxOb2RlcyhjYjogKG5vZGUpID0+IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGxldCBub2RlO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGxvY2FsU3RvcmFnZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGlzTm9kZUtleShsb2NhbFN0b3JhZ2Uua2V5KGkpKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIE5PVEU6IHRoaXMgaXMgY29taW5nIGZyb20gY2FjaGluZyBsYXllciB0b2RvIGZpeCB2aWEgaW50ZXJmYWNlIG9yIHNpbWlsYXJcbiAgICAgICAgICBub2RlID0gdGhpcy5taWdyYXRlKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlW2xvY2FsU3RvcmFnZS5rZXkoaSldKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBub2RlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgY2Iobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIExvY2FsU3RvcmFnZSBiYWNrZW5kLlxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzdGF0aWMgX3JzX2luaXQoKTogdm9pZCB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEluZm9ybSBhYm91dCB0aGUgYXZhaWxhYmlsaXR5IG9mIHRoZSBMb2NhbFN0b3JhZ2UgYmFja2VuZC5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc3RhdGljIF9yc19zdXBwb3J0ZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZUF2YWlsYWJsZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgTG9jYWxTdG9yYWdlIGFzIGEgYmFja2VuZC5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKlxuICAgKiBUT0RPOiB0ZXN0cyBtaXNzaW5nIVxuICAgKi9cbiAgc3RhdGljIF9yc19jbGVhbnVwKCk6IHZvaWQge1xuICAgIGNvbnN0IGtleXMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IGxvY2FsU3RvcmFnZS5rZXkoaSk7XG4gICAgICBpZiAoaXNSZW1vdGVTdG9yYWdlS2V5KGtleSkpIHtcbiAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGxvZygnW0xvY2FsU3RvcmFnZV0gUmVtb3ZpbmcnLCBrZXkpO1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtrZXldO1xuICAgIH0pO1xuICB9O1xufVxuXG4vLyBUT0RPIG1vdmUgdG8gQ2FjaGluZ0xheWVyLCBzYW1lIGZvciBhbGwgbGF5ZXJzXG5pbnRlcmZhY2UgTG9jYWxTdG9yYWdlIGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKExvY2FsU3RvcmFnZSwgW0V2ZW50SGFuZGxpbmddKTtcblxuZXhwb3J0ID0gTG9jYWxTdG9yYWdlO1xuIiwiaW1wb3J0IEV2ZW50SGFuZGxpbmcgZnJvbSAnLi9ldmVudGhhbmRsaW5nJztcbmltcG9ydCBDYWNoaW5nTGF5ZXIgZnJvbSAnLi9jYWNoaW5nbGF5ZXInO1xuaW1wb3J0IHsgYXBwbHlNaXhpbnMgfSBmcm9tICcuL3V0aWwnO1xuXG4vKipcbiAqIEluLW1lbW9yeSBjYWNoaW5nIGFkYXB0ZXIuIFVzZWQgd2hlbiBubyBJbmRleGVkREIgb3IgbG9jYWxTdG9yYWdlXG4gKiBhdmFpbGFibGUuXG4gKlxuICogQGNsYXNzXG4gKiovXG5cbmNsYXNzIEluTWVtb3J5U3RvcmFnZSBleHRlbmRzIENhY2hpbmdMYXllciB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHByaXZhdGUgX3N0b3JhZ2U6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWRkRXZlbnRzKFsnY2hhbmdlJywgJ2xvY2FsLWV2ZW50cy1kb25lJ10pO1xuICB9XG5cbiAgZ2V0Tm9kZXMocGF0aHM6IHN0cmluZ1tdKTogUHJvbWlzZTxSU05vZGVzPiB7XG4gICAgY29uc3Qgbm9kZXM6IFJTTm9kZXMgPSB7fTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgbm9kZXNbcGF0aHNbaV1dID0gdGhpcy5fc3RvcmFnZVtwYXRoc1tpXV07XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShub2Rlcyk7XG4gIH1cblxuICBzZXROb2Rlcyhub2RlczogUlNOb2Rlcyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGZvciAoY29uc3QgcGF0aCBpbiBub2Rlcykge1xuICAgICAgaWYgKG5vZGVzW3BhdGhdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3N0b3JhZ2VbcGF0aF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zdG9yYWdlW3BhdGhdID0gbm9kZXNbcGF0aF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgZm9yQWxsTm9kZXMoY2I6IChub2RlOiBSU05vZGUpID0+IFByb21pc2U8dm9pZD4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBmb3IgKGNvbnN0IHBhdGggaW4gdGhpcy5fc3RvcmFnZSkge1xuICAgICAgY2IodGhpcy5taWdyYXRlKHRoaXMuX3N0b3JhZ2VbcGF0aF0pKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgZGlmZkhhbmRsZXIoKSB7XG4gICAgLy8gZW1wdHlcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBJbk1lbW9yeVN0b3JhZ2UgYmFja2VuZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHJlbW90ZVN0b3JhZ2UgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgX3JzX2luaXQoKTogdm9pZCB7XG4gICAgLy8gZW1wdHlcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmZvcm0gYWJvdXQgdGhlIGF2YWlsYWJpbGl0eSBvZiB0aGUgSW5NZW1vcnlTdG9yYWdlIGJhY2tlbmQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIF9yc19zdXBwb3J0ZWQoKTogdHJ1ZSB7XG4gICAgLy8gSW4tbWVtb3J5IHN0b3JhZ2UgaXMgYWx3YXlzIHN1cHBvcnRlZFxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBJbk1lbW9yeVN0b3JhZ2UgYXMgYSBiYWNrZW5kLlxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIF9yc19jbGVhbnVwKCk6IHZvaWQge1xuICAgIC8vIGVtcHR5XG4gIH1cbn1cblxuLy8gVE9ETyBtb3ZlIHRvIENhY2hpbmdMYXllciwgc2FtZSBmb3IgYWxsIGxheWVyc1xuaW50ZXJmYWNlIEluTWVtb3J5U3RvcmFnZSBleHRlbmRzIEV2ZW50SGFuZGxpbmcge307XG5hcHBseU1peGlucyhJbk1lbW9yeVN0b3JhZ2UsIFtFdmVudEhhbmRsaW5nXSk7XG5cbmV4cG9ydCA9IEluTWVtb3J5U3RvcmFnZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=